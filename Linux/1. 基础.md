# 基础

## 目录结构

Linux 文件系统是一个**目录树的结构**，文件系统结构从一个根目录开始，根目录下可以有任意多个文件和子目录，子目录中又可以有任意多个文件和子目录

![img](http://image.trouvaille0198.top/d0c50-linux2bfile2bsystem2bhierarchy.jpg)

- **bin：存放二进制可执行文件(ls,cat,mkdir等)**
- boot：存放用于系统引导时使用的各种文件
- dev：用于存放设备文件
- **etc：存放系统配置文件**
- home：存放所有用户文件的根目录
- lib：存放跟文件系统中的程序运行所需要的共享库及内核模块
- mnt:系统管理员安装临时文件系统的安装点
- **opt:额外安装的可选应用程序包所放置的位置**
- proc:虚拟文件系统，存放当前内存的映射
- **root：超级用户目录**
- sbin：存放二进制可执行文件，只有 root 才能访问
- tmp：用于存放各种临时文件
- **usr：用于存放系统应用程序**，比较重要的目录 /usr/local——本地管理员软件安装目录
- var：用于存放运行时需要改变数据的文件

## 文件类型

**普通文件**  -

**目录** d

**符号链接**  l

硬链接： 与普通文件没什么不同，inode 都指向同一个文件在硬盘中的区块

软链接： 保存了其代表的文件的绝对路径，是另外一种文件，在硬盘上有独立的区块，访问时替换自身路径(简单地理解为 Windows 中常见的快捷方式)。

字符设备文件  c

块设备文件  b

套接字  s

命名管道 p

## 命令

### 格式

`cmd  [options]  [arguments]`

**命令名称 [-选项] [参数]**

- 命令名：描述命令功能的英文单词或缩写，必不可少； 
- [-选项]：执行该命令的限定参数或功能参数； 
- [参数]：执行该命令的所必需对象，如文件、目录等；

选项和参数都作为 Shell 命令执行时的输入，它们之间用空格分隔开

一般来说，后面跟的选项如果单字符选项前使用一个减号 `-`；单词选项前使用两个减号 `--`

`[ ]` 表示语法上可有可无

### 可执行文件的分类

内置命令：出于效率的考虑，将一些常用命令的解释程序构造在 Shell 内部。

外置命令：存放在 /bin、/sbin 目录下的命令

实用程序：存放在 /usr/bin、/usr/sbin、/usr/share、/usr/local/bin 等目录下的实用程序

用户程序：用户程序经过编译生成可执行文件后，可作为 Shell 命令运行

Shell 脚本：由 Shell 语言编写的批处理文件，可作为 Shell 命令运行

## 登陆操作

（一）登陆提示信息的意义

[root@localhost~ ]#

1、 root：当前用户的账号 

2、 localhost：主机名 

3、 ~ ：用户当前所在的目录。 如果现在要创建一个文件的话，会被保存在这 个目录下。 

4、 #：root用户的命令提示符 

5、 $ : 普通用户的命令提示符 

 

6、~ ：用户的主目录，专属于该用户的目录。

 ① root用户的主目录为：/root 

 ② Linux系统每创建一个普通用户，就会在/home这个目录下创建一个对应的 目录，并且是以用户名命名的。

比如： • 普通用户user的主目录是：/home/user 

  • 普通用户test 的主目录为: /home/test 

 

7、pwd（print working dirctory） 命令

【功能】显示用户当前所处的工作目录（当前工作目录） 

【格式】 pwd [选项]

 

 

9、man（manual）命令 

【功能】显示命令的使用说明手册。 

【格式】 man 命令名 

1）通常man显示的命令帮助格式包含以下4部分： 

NAME : 命令名称； 

SYNOPSIS : 语法大纲； 

DESCRIPTION : 描述说明； 

OPTIONS : 选项

2）man 命令查询控制手册时,给出了一些功能键设置： 

空格键 ：显示手册页的下一屏 

回车键 ：一次滚动手册页的一行 

q 键 ：退出man命令

 

10、cat命令 

1）

【功能1】显示文件信息，可与输入输出重定向配合使用。 

【格式】cat [选项] 文件名 

【常用选项】-n：由1开始对所有输出行进行编号显示。 

【实例1】查看刚刚的record文件 

$ cat record 

【实例2】对/etc/passwd 文件进行编号显示

$ cat –n /etc/passwd

2）

【功能2】建立小型文件 

【格式】 cat >文件名 

   …           // 输入信息

   Ctrl+d       //存盘并退出 

【实例】建立一个名为m1的文件，内容为：echo cat is not a cat! 

$ cat >m1    //创建文件 

echo cat is not a cat! 

Ctrl+d

$ cat m1      //显示文件

3）

【功能3】合并文件。 

【格式】cat 文件1 文件2 > 新文件名 

【实例】将m1,m2 合并为m3. 

建立一个名为m1的文件，内容为：echo cat is not a cat! 

建立一个名为m2的文件，内容为：date的结果。 

$ date > m2 //创建文件 

$ cat m2 //显示文件 

$ cat m1 m2 >m3 //合并文件 

$ cat m3 //显示文件

 

11、more命令 

【功能】分屏显示文件内容。首先显示一屏后若还有内容，按Enter键再显示下 一行，按Space键显示下一屏，按Q退出。 【格式】more 文件路径 

## 通配符与特殊符号

（一）通配符

*：匹配任何字符和任何数目的字符

?：匹配单一数目的任何字符

[ ]：匹配[ ]之内的任意一个字符，[]指定一个符号的取值范围

[! ]：匹配除了[! ]之外的任意一个字符，!表示非的意思

 

（二）例

1、列出“/etc”目录下的所有 扩展名为conf的配置文件

$ ls /etc/*.conf

2、列出“/etc”目录下所有文件名由3个字母构成的配置文件

$ ls /etc/???.conf

3、列出“/etc”目录下所有以a、b或者c开头的配置文件

$ ls /etc/[abc]*.conf

$ ls /etc/[a-c]*.conf

$ ls /etc/[!d-z]*.conf

 

（三）特殊符号

1、分号 ；

用于隔开多条命令并使它们能够连续执行。 输出的结果是多个命令连续执行后的输出结果

2、符号 &

用于指定当前命令在后台执行

【实例】

拷贝一个大文件file时需要占用较长的时间，将拷贝工作放到后台执行

执行时返回的显示结果是该命令的作业号和进程PID号

执行完毕会在前台提示

$ cp file /tmp/filetmp & 

3、转移符号 \

通配符和特殊符号在shell中被解释为某种含义和功能，当要表示这些符号的本身时，需要使用转义符号\

【实例】

$ echo \\

$ echo \&

$ echo \*\&

 

4、管道

命令1 | 命令2 | 命令3 | … | 命令n

将多个简单的命令集合在一起，用以完成较复杂的功能

【实例】 

$ #cal | wc -l          // 对当前月的日历输出结果进行行数的统计 

$ #ls -al /etc | more    //由于/etc目录下的文件和子目录的数目很多，将 结果传送给more分页显示。

## 重定向

（一）概念

Shell中不使用系统的标准输入、标准输出或者标准错误输出端口，重新进行指定的情况称为输入输出重定向

![image-20210620204426450](http://image.trouvaille0198.top/image-20210620204426450.png)

二）输出重定向、附加输出重定向

1、目的：保存命令输出的结果

2、格式

输出重定向: 命令 > 重定向文件（覆盖原文件的内容） 

附加输出重定向: 命令 >> 重定向文件（在指定文件的末尾追加命令结果）

3、例

date > record        #将date的结果重定向输出到record文件中

who >>record        #将who的结果附加重定向输出到record中

 

（三）输入重定向

1、目的：把命令的标准输入重新定向到指定文件中

2、格式：命令 < 重定向文件 

3、例

用输入重定向的方式查看record的内容。

 cat < record       //与 cat record 命令完全相同 

 

（四）错误输出重定向

1、目的：保存错误内容

2、格式：命令 2> 重定向文件

3、例

敲一个错误的命令，ls lsm，通过错误输出重定向，将错误信息保存 到文件err中 

\#ls lsm        //输入错误的命令 

\#ls lsm 2> err  //错误输出重定向 

\#cat err       //查看err内容