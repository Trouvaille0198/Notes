# 一、概述

## 1.1 互联网的组成

### 1.1.1 边缘部分

由所有连接在互联网上的主机组成。这部分是用户直接使用的，用来进行通信（传送数据、音频或视频）和资源共享。

#### 1）端系统之间的两种通信方式
- **客户-服务器方式**（C/S）

    客户是服务的请求方，服务器是服务的提供方

    <img src="http://image.trouvaille0198.top/914894c2-0bc4-46b5-bef9-0316a69ef521.jpg" alt="img" style="zoom:67%;" />

    - 客户软件的特点
        1. 被用户调用后运行，在打算通信时主动向远地服务器发起通信（请求服务）。因此，**客户程序必须知道服务器程序的地址**
        2. 不需要特殊的硬件和很复杂的操作系统
    - 服务器软件的特点
        1. 一种专门用来提供某种服务的程序，可同时处理多个远地或本地客户的请求
        2. 系统启动后即自动调用并一直不断地运行着，被动地等待并接受来自各地的客户的通信请求。因此，**服务器程序不需要知道客户程序的地址**
        3. 一般需要强大的硬件和高级的操作系统支持

- **对等方式**（P2P）

    不区分客户和服务器。

    <img src="http://image.trouvaille0198.top/42430e94-3137-48c0-bdb6-3cebaf9102e3.jpg" alt="img" style="zoom:67%;" />



### 1.1.2 核心部分

由大量网络和连接这些网络的路由器组成。这部分是为边缘部分提供服务的（提供连通性和交换）

- 在网络核心部分起特殊作用的是**路由器** (router)。

- 路由器是实现**分组交换** (packet switching) 的关键构件，其任务是转发收到的分组，这是网络核心部分最重要的功能。
- 分组交换是网络核心部分最重要的功能

#### 1）电路交换

$N$ 部电话机两两直接相连，需 $N(N – 1)/2$ 对电线。这种直接连接方法所需要的电线对的数量与电话机数量的平方（ $N2$ ）成正比。

当电话机的数量增多时，就要使用**交换机**来完成全网的分组任务，这就是电路交换

- 特点
    1. 电路交换必定是面向连接的
    2. 电路交换分为三个阶段：
        1. 建立连接：建立一条专用的物理通路，以保证双方通话时所需的通信资源在通信时不会被其他用户占用；
        2. 通话：主叫和被叫双方一直占用通信资源；
        3. 释放连接：释放刚才使用的这条专用的物理通路（释放刚才占用的所有通信资源）
- 总结

电路交换用于电话通信系统，两个用户要通信之前需要建立一条专用的物理链路，并且在整个通信过程中始终占用该链路。由于通信的过程中不可能一直在使用传输线路，因此电路交换对线路的利用率很低，往往不到 10%

#### 2）分组交换

分组交换采用**存储转发**技术

- **步骤**
    1. 在发送端，先把较长的报文划分成较短的、固定长度的数据段
    2. 每一个数据段前面添加上**首部**构成分组 (packet)
    3. 分组交换网以“分组”（也称为“包”，首部也可称为“包头”）作为数据传输单元，依次把各分组发送到接收端（假定接收端在左边）
    4. 接收端收到分组后剥去首部还原成报文
    5. 最后，在接收端把收到的数据恢复成为原来的报文。

<img src="http://image.trouvaille0198.top/image-20210330090825113.png" alt="image-20210330090825113" style="zoom: 33%;" />

<img src="http://image.trouvaille0198.top/image-20210330090845396.png" alt="image-20210330090845396" style="zoom:33%;" />

<img src="http://image.trouvaille0198.top/image-20210330090900606.png" alt="image-20210330090900606" style="zoom:33%;" />

<img src="http://image.trouvaille0198.top/image-20210330090922592.png" alt="image-20210330090922592" style="zoom:33%;" />

- **首部的重要性**
    - 每一个分组的首部都含有地址（诸如目的地址和源地址）等控制信息。
    - 分组交换网中的结点交换机根据收到的分组首部中的地址信息，把分组转发到下一个结点交换机。
    - 每个分组在互联网中独立地选择传输路径。（通过路由器）
    - 用这样的存储转发方式，最后分组就能到达最终目的地。
- **路由器的作用**
    - 在路由器中的输入和输出端口之间没有直接连线。
    - 路由器处理分组的过程是：
        1. 把收到的分组先放入缓存（暂时存储）；
        2. 查找转发表，找出到某个目的地址应从哪个端口转发；
        3. 把分组送到适当的端口转发出去。
- **优点**
    - 高效：在分组传输的过程中动态分配传输带宽，对通信链路是逐段占用
    - 灵活：为每一个分组独立地选择最合适的转发路由
    - 迅速：以分组作为传送单位，可以不先建立连接就能向其他主机发送分组。
    - 可靠：保证可靠性的网络协议；分布式多路由的分组交换网，使网络有很好的生存性
- 缺点
    - 分组在各结点存储转发时需要排队，这就会造成一定的**时延**。
    - 分组必须携带的首部（里面有必不可少的控制信息）也造成了一定的开销
- **总结**

每个分组都有首部和尾部，包含了源地址和目的地址等控制信息，在同一个传输线路上同时传输多个分组互相不会影响，因此在同一条传输线路上允许同时传输多个分组，也就是说分组交换不需要占用传输线路。

在一个邮局通信系统中，邮局收到一份邮件之后，先存储下来，然后把相同目的地的邮件一起转发到下一个目的地，这个过程就是存储转发过程，分组交换也使用了存储转发过程。

#### 3）报文交换

在 20 世纪 40 年代，电报通信也采用了基于存储转发原理的报文交换 (message switching)。

报文交换的时延较长，从几分钟到几小时不等。现在报文交换已经很少有人使用了。

#### 4）三种交换的比较

<img src="http://image.trouvaille0198.top/image-20210330092542877.png" alt="image-20210330092542877" style="zoom: 50%;" />

### 1.1.3 核心与边缘

- 互联网的核心部分是由许多网络和把它们互连起来的路由器组成，而主机处在互联网的边缘部分。
- 互联网核心部分中的路由器之间一般都用高速链路相连接，而在网络边缘的主机接入到核心部分则通常以相对较低速率的链路相连接。
- 主机的用途是为用户进行信息处理的，并且可以和其他主机通过网络交换信息。路由器的用途则是用来转发分组的，即进行分组交换的。

## 1.2 计算机网络的分类

### 1.2.1 按照网络的作用范围进行分类

- 广域网 WAN (Wide Area Network)：作用范围通常为几十到几千公里（跨越国家），是互联网的核心部分。
- 城域网 MAN (Metropolitan Area Network)：作用距离约为 5 ~ 50 公里（几个街区甚至整个城市）。
- 局域网 LAN (Local Area Network) ：局限在较小的范围（如 1 公里左右），校园网或企业网。
- 个人区域网 PAN (Personal Area Network) ：范围很小，大约在 10 米左右，通过无线技术连接。

### 1.2.2 按照网络的使用者进行分类

### 1.2.3 用来把用户接入到互联网的网络

## 1.3 计算机网络的性能

## 1.4 计算机网络的体系结构

（协议分层）