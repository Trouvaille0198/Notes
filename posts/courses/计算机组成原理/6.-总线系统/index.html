<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>计组 第六章 - 伤心肠粉的酱油碟子</title><meta name=Description content><meta property="og:title" content="计组 第六章"><meta property="og:description" content="总线系统 总线的概念和结构形态 总线的基本概念 定义 计算机的若干功能部件之间不可能采用"><meta property="og:type" content="article"><meta property="og:url" content="https://trouvaille0198.github.io/Notes/posts/courses/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/6.-%E6%80%BB%E7%BA%BF%E7%B3%BB%E7%BB%9F/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-10-23T00:00:00+00:00"><meta property="article:modified_time" content="2022-04-18T11:49:42+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="计组 第六章"><meta name=twitter:description content="总线系统 总线的概念和结构形态 总线的基本概念 定义 计算机的若干功能部件之间不可能采用"><meta name=application-name content="伤心肠粉的酱油碟子"><meta name=apple-mobile-web-app-title content="伤心肠粉的酱油碟子"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://trouvaille0198.github.io/Notes/posts/courses/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/6.-%E6%80%BB%E7%BA%BF%E7%B3%BB%E7%BB%9F/><link rel=prev href=https://trouvaille0198.github.io/Notes/posts/courses/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/7.-%E5%A4%96%E5%9B%B4%E8%AE%BE%E5%A4%87/><link rel=next href=https://trouvaille0198.github.io/Notes/posts/courses/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/2.-%E8%BF%90%E7%AE%97%E6%96%B9%E6%B3%95%E5%92%8C%E8%BF%90%E7%AE%97%E5%99%A8/><link rel=stylesheet href=/Notes/lib/normalize/normalize.min.css><link rel=stylesheet href=/Notes/css/style.min.css><link rel=stylesheet href=/Notes/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/Notes/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"计组 第六章","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/trouvaille0198.github.io\/Notes\/posts\/courses\/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86\/6.-%E6%80%BB%E7%BA%BF%E7%B3%BB%E7%BB%9F\/"},"genre":"posts","keywords":"计算机组成原理","wordcount":1826,"url":"https:\/\/trouvaille0198.github.io\/Notes\/posts\/courses\/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86\/6.-%E6%80%BB%E7%BA%BF%E7%B3%BB%E7%BB%9F\/","datePublished":"2021-10-23T00:00:00+00:00","dateModified":"2022-04-18T11:49:42+00:00","publisher":{"@type":"Organization","name":"MelonCholi"},"author":{"@type":"Person","name":"MelonCholi"},"description":""}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":''==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:''==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/Notes/ title=伤心肠粉的酱油碟子>伤心肠粉</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/Notes/categories/>分类 </a><a class=menu-item href=/Notes/tags/>标签 </a><a class=menu-item href=/Notes/posts/>文章 </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder=搜索文章标题或内容... id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin"></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/Notes/ title=伤心肠粉的酱油碟子>伤心肠粉</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=搜索文章标题或内容... id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin"></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></div><a class=menu-item href=/Notes/categories/ title>分类</a><a class=menu-item href=/Notes/tags/ title>标签</a><a class=menu-item href=/Notes/posts/ title>文章</a><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>目录</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animated flipInX">计组 第六章</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/Notes/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>MelonCholi</a></span>&nbsp;<span class=post-category>收录于 <a href=/Notes/categories/%E4%B8%93%E4%B8%9A%E8%AF%BE/><i class="far fa-folder fa-fw"></i>专业课</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2021-10-23>2021-10-23</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;约 1826 字&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;预计阅读 4 分钟&nbsp;</div></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#总线的概念和结构形态>总线的概念和结构形态</a><ul><li><a href=#总线的基本概念>总线的基本概念</a></li><li><a href=#总线的连接方式>总线的连接方式</a><ul><li><a href=#单总线>单总线</a></li><li><a href=#多总线>多总线</a></li></ul></li><li><a href=#总线的内部结构>总线的内部结构</a><ul><li><a href=#早期总线结构的不足之处>早期总线结构的不足之处</a></li><li><a href=#构成>构成</a></li></ul></li></ul></li><li><a href=#总线接口>总线接口</a><ul><li><a href=#信息传送方式>信息传送方式</a><ul><li><a href=#串行>串行</a></li><li><a href=#并行>并行</a></li><li><a href=#分时>分时</a></li><li><a href=#拆卸和装配>拆卸和装配</a></li></ul></li><li><a href=#总线接口的基本概念>总线接口的基本概念</a><ul><li><a href=#接口功能>接口功能</a></li><li><a href=#分类>分类</a></li><li><a href=#例>例</a></li></ul></li></ul></li><li><a href=#总线的仲裁>总线的仲裁</a><ul><li><a href=#集中式仲裁>集中式仲裁</a><ul><li><a href=#链式查询方式>链式查询方式</a></li><li><a href=#计数器定时查询方式>计数器定时查询方式</a></li><li><a href=#独立请求方式>独立请求方式</a></li></ul></li><li><a href=#分布式仲裁>分布式仲裁</a></li></ul></li><li><a href=#总线的定时和数据传送模式>总线的定时和数据传送模式</a><ul><li><a href=#总线定时>总线定时</a><ul><li><a href=#同步定时>同步定时</a></li><li><a href=#异步定时>异步定时</a></li></ul></li><li><a href=#总线数据传送模式>总线数据传送模式</a></li></ul></li></ul></nav></div></div><div class=content id=content><h1 id=总线系统>总线系统</h1><h2 id=总线的概念和结构形态>总线的概念和结构形态</h2><h3 id=总线的基本概念>总线的基本概念</h3><ul><li><p>定义</p><p>计算机的若干功能部件之间不可能采用全互联形式，因此就需要有<strong>公共的信息通道</strong>，即总线</p></li><li><p>分类</p><ul><li>内部总线：CPU 内部连接各寄存器及运算器部件之间的总线。</li><li>系统总线：外部总线。CPU 和计算机系统中其他高速功能部件相互连接的总线。</li><li>I/O 总线：中低速 I/O 设备相互连接的总线</li></ul></li><li><p>特性</p><ul><li>物理特性：物理连接方式</li><li>功能特性：64 位 blabla</li><li>电气特性：信号传递方向，有效电平范围</li><li>时间特性：每根总线在什么时间有效</li></ul></li><li><p>标准化</p><ul><li>总线标准，如 PCI、ISA 等</li><li>简化系统设计</li><li>简化系统结构，提高系统可靠性</li><li>便于系统的扩充和更新</li></ul></li><li><p><strong>总线带宽</strong>（重要）</p><ul><li>总线本身所能达到的最高传输速率，单位 MB/s</li><li>一次操作可以传输的数据位数</li><li>如 S100 为 8 位，ISA 为 16 位，EISA 为 32 位，PCI-2 可达 64 位。</li><li>总线宽度不会超过微处理器外部数据总线的宽度。</li></ul></li></ul><img src=http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210506141625030.png alt=image-20210506141625030 style=zoom:50%><h3 id=总线的连接方式>总线的连接方式</h3><p><strong>适配器（接口）</strong>：实现高速 CPU 与低速外设之间工作速度上的匹配和同步，并完成计算机和外设之间的所有数据传送和控制。</p><h4 id=单总线>单总线</h4><p>使用一条单一的系统总线来连接 CPU、内存和 I/O 设备</p><ul><li><p>结构特点</p><p>在单总线结构中，要求连接到总线上的逻辑部件必须高速运行，以便在某些设备需要使用总线时，能迅速获得总线控制权</p><p>而当不再使用总线时，能迅速放弃总线控制权。否则，由于一条总线由多种功能部件共用，可能导致很大的时间延迟</p></li></ul><img src=http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210506142005749.png alt=image-20210506142005749 style=zoom:50%><h4 id=多总线>多总线</h4><p>在 CPU、主存、I/O之间互联采用多条总线</p><p>高速的 CPU 总线：CPU 和 cache 之间采用</p><p>系统总线：主存连在其上</p><p>高速总线上可以连接高速 LAN（100Mb/s局域网）、视频接口、图形接口、SCSI 接口（支持本地磁盘驱动器和其他外设）、Firewire接口（支持大容量I/O设备）。高速总线通过扩充总线接口与扩充总线相连，扩充总线上可以连接串行方式工作的I/O设备。</p><p>通过桥 CPU 总线、系统总线和高速总线彼此相连。桥实质上是一种具有缓冲、转换、控制功能的逻辑电路。</p><p>多总线结构体现了高速、中速、低速设备连接到不同的总线上同时进行工作，以提高总线的效率和吞吐量，而且处理器结构的变化不影响高速总线。</p><img src=http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210506142019020.png alt=image-20210506142019020 style=zoom:67%><h3 id=总线的内部结构>总线的内部结构</h3><p>地址线单向，数据线双向</p><h4 id=早期总线结构的不足之处>早期总线结构的不足之处</h4><ul><li><p>CPU 是总线上惟一的主控者。即使后来增加了具有简单仲裁逻辑的 DMA 控制器以支持 DMA 传送，但仍不能满足多 CPU 环境的要求。</p></li><li><p>总线信号是 CPU 引脚信号的延伸，故总线结构紧密与 CPU 相关，通用性较差。</p></li></ul><img src=http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210506142151011.png alt=image-20210506142151011 style=zoom:50%><h4 id=构成>构成</h4><ul><li>数据传送总线：地址线、数据线、控制线</li><li>仲裁总线：总线请求线、总线授权线</li><li>中断和同步总线：中断请求线、中断认可线</li><li>公用线：CP线、电源线、地线、复位线等</li></ul><img src=http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210506142241452.png alt=image-20210506142241452 style=zoom:50%><h2 id=总线接口>总线接口</h2><h3 id=信息传送方式>信息传送方式</h3><ul><li><p>串行（先低后高）</p></li><li><p>并行</p></li><li><p>分时（复用：既传地址又传数据）</p></li></ul><img src=http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210513124344949.png alt=image-20210513124344949 style=zoom:50%><h4 id=串行>串行</h4><p>使用一条传输线，采用脉冲传送。</p><p>低位在前，高位在后</p><p>主要优点是只需要一条传输线，这一点对长距离传输显得特别重要，不管传送的数据量有多少，只需要一条传输线，成本比较低廉。</p><p>缺点就是速度慢</p><h4 id=并行>并行</h4><p>每一数据位需要一条传输线，一般采用电位传送</p><h4 id=分时>分时</h4><p>总线复用或是共享总线的部件分时使用总线</p><h4 id=拆卸和装配>拆卸和装配</h4><p>拆卸：并的数据拆成一位位</p><p>装配：一位位传数据组装起来</p><h3 id=总线接口的基本概念>总线接口的基本概念</h3><p>接口是 CPU 和主存、外设之间通过总线进行连接的逻辑部件</p><img src=http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210513125100337.png alt=image-20210513125100337 style=zoom:50%>
<img src=http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210513125427604.png alt=image-20210513125427604 style=zoom:55%><h4 id=接口功能>接口功能</h4><p>控制、缓冲、状态、转换（串并）、整理、程序中断</p><h4 id=分类>分类</h4><p>串行数据接口、并行数据接口</p><p>系统总线接口、外部设备接口</p><h4 id=例>例</h4><p>波特率：每秒传送 bit 位数，一般用于串行</p><img src=http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210513125208881.png alt=image-20210513125208881 style=zoom:50%>
<img src=http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210513125216516.png alt=image-20210513125216516 style=zoom:50%><h2 id=总线的仲裁>总线的仲裁</h2><p>一次总线操作：一主多从。多个 CPU 和 IO 模块竞争控制权，产生仲裁</p><p>为了解决多个功能模块争用总线的问题，必须设置总线仲裁部件</p><h3 id=集中式仲裁>集中式仲裁</h3><p>总线请求信号线 BR，总线授权/响应信号线 BG，busy 标志 BS</p><img src=http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210513133116213.png alt=image-20210513133116213 style=zoom:67%><h4 id=链式查询方式>链式查询方式</h4><p>越近的优先级越高</p><ul><li>优点<ul><li>线少</li><li>易扩充</li></ul></li><li>缺点<ul><li>是对询问链的电路故障很敏感</li><li>优先级固定</li></ul></li></ul><h4 id=计数器定时查询方式>计数器定时查询方式</h4><p>查询时，计数器开始计数，直到计数值与设备地址匹配</p><p>计数器从 0 开始同菊花链，从中止点开始优先级相等</p><ul><li>特点<ul><li>灵活</li></ul></li></ul><h4 id=独立请求方式>独立请求方式</h4><p>n 条 BR 和 n 条 BG，排队电路根据优先次序决定响应</p><ul><li>特点<ul><li>速度快</li></ul></li></ul><h3 id=分布式仲裁>分布式仲裁</h3><p>每个主方都有仲裁号和仲裁器。仲裁总线上号最大的胜出，否则自动撤出。</p><img src=http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210513133136487.png alt=image-20210513133136487 style=zoom:67%>
<img src=http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210513135700067.png alt=image-20210513135700067 style=zoom:33%>
<img src=http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210513135713515.png alt=image-20210513135713515 style=zoom:50%><h2 id=总线的定时和数据传送模式>总线的定时和数据传送模式</h2><p><strong>总线传输信息步骤</strong>：请求总线、总线仲裁、寻址、信息传送、状态返回</p><h3 id=总线定时>总线定时</h3><h4 id=同步定时>同步定时</h4><p>事件出现由总线时钟信号确定。适用于总线长度短、存取时间相近的情况</p><img src=http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210513140649774.png alt=image-20210513140649774 style=zoom:50%><h4 id=异步定时>异步定时</h4><p>允许将快速和慢速的设备都连一起。不需要时钟信号，应答式。周期长度可变，但总线复杂成本高。</p><img src=http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210513140729820.png alt=image-20210513140729820 style=zoom:50%><h3 id=总线数据传送模式>总线数据传送模式</h3><ul><li>读、写操作：读操作两次竞争总线。</li><li>块传送操作：猝发式传送，连续读（写）四倍字长。</li><li>写后读、读修改写操作：用于校验和保护共享资源。</li><li>广播、广集操作：广播多从进行写操作；广集多从读进行逻辑与或检测中断。</li></ul></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>更新于 2022-04-18</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/Notes/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/>计算机组成原理</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/Notes/>主页</a></span></section></div><div class=post-nav><a href=/Notes/posts/courses/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/7.-%E5%A4%96%E5%9B%B4%E8%AE%BE%E5%A4%87/ class=prev rel=prev title="计组 第七章"><i class="fas fa-angle-left fa-fw"></i>计组 第七章</a>
<a href=/Notes/posts/courses/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/2.-%E8%BF%90%E7%AE%97%E6%96%B9%E6%B3%95%E5%92%8C%E8%BF%90%E7%AE%97%E5%99%A8/ class=next rel=next title="计组 第二章">计组 第二章<i class="fas fa-angle-right fa-fw"></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>酒困路长惟欲睡，日高人渴漫思茶</div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2022</span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title=查看评论><i class="fas fa-comment fa-fw"></i></a></div><link rel=stylesheet href=/Notes/lib/katex/katex.min.css><link rel=stylesheet href=/Notes/lib/katex/copy-tex.min.css><script type=text/javascript src=/Notes/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=/Notes/lib/autocomplete/autocomplete.min.js></script><script type=text/javascript src=/Notes/lib/lunr/lunr.min.js></script><script type=text/javascript src=/Notes/lib/lunr/lunr.stemmer.support.min.js></script><script type=text/javascript src=/Notes/lib/lunr/lunr.zh.min.js></script><script type=text/javascript src=/Notes/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/Notes/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/Notes/lib/katex/katex.min.js></script><script type=text/javascript src=/Notes/lib/katex/auto-render.min.js></script><script type=text/javascript src=/Notes/lib/katex/copy-tex.min.js></script><script type=text/javascript src=/Notes/lib/katex/mhchem.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"复制到剪贴板",maxShownLines:45},comment:{},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{highlightTag:"em",lunrIndexURL:"/Notes/index.json",lunrLanguageCode:"zh",lunrSegmentitURL:"/Notes/lib/lunr/lunr.segmentit.js",maxResultLength:30,noResultsFound:"没有找到结果",snippetLength:50,type:"lunr"}}</script><script type=text/javascript src=/Notes/js/theme.min.js></script></body></html>