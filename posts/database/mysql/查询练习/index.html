<!doctype html><html lang=zh-CN><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>MySQL 查询练习 - 伤心肠粉的酱油碟子</title><meta name=author content><meta name=author-link content><meta name=description content="查询练习 准备数据 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32"><meta name=keywords content="数据库,MySQL"><meta itemprop=name content="MySQL 查询练习"><meta itemprop=description content="查询练习 准备数据 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32"><meta itemprop=datePublished content="2022-11-17T00:00:00+00:00"><meta itemprop=dateModified content="2023-07-31T14:09:27+00:00"><meta itemprop=wordCount content="8849"><meta itemprop=image content="https://trouvaille0198.github.io/logo.png"><meta itemprop=keywords content="数据库,MySQL,"><meta property="og:title" content="MySQL 查询练习"><meta property="og:description" content="查询练习 准备数据 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32"><meta property="og:type" content="article"><meta property="og:url" content="https://trouvaille0198.github.io/Notes/posts/database/mysql/%E6%9F%A5%E8%AF%A2%E7%BB%83%E4%B9%A0/"><meta property="og:image" content="https://trouvaille0198.github.io/logo.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-11-17T00:00:00+00:00"><meta property="article:modified_time" content="2023-07-31T14:09:27+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://trouvaille0198.github.io/logo.png"><meta name=twitter:title content="MySQL 查询练习"><meta name=twitter:description content="查询练习 准备数据 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32"><meta name=application-name content="FixIt"><meta name=apple-mobile-web-app-title content="FixIt"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#252627"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://trouvaille0198.github.io/Notes/posts/database/mysql/%E6%9F%A5%E8%AF%A2%E7%BB%83%E4%B9%A0/><link rel=prev href=https://trouvaille0198.github.io/Notes/posts/database/mysql/%E4%BA%8B%E5%8A%A1/><link rel=next href=https://trouvaille0198.github.io/Notes/posts/python/crawler/requests/><link rel=stylesheet href=/Notes/lib/normalize/normalize.min.css><link rel=stylesheet href=/Notes/css/style.min.css><link rel=stylesheet href=/Notes/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/Notes/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"MySQL 查询练习","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/trouvaille0198.github.io\/Notes\/posts\/database\/mysql\/%E6%9F%A5%E8%AF%A2%E7%BB%83%E4%B9%A0\/"},"genre":"posts","keywords":"数据库, MySQL","wordcount":8849,"url":"https:\/\/trouvaille0198.github.io\/Notes\/posts\/database\/mysql\/%E6%9F%A5%E8%AF%A2%E7%BB%83%E4%B9%A0\/","datePublished":"2022-11-17T00:00:00+00:00","dateModified":"2023-07-31T14:09:27+00:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"MelonCholi"},"description":""}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/Notes/ title=伤心肠粉的酱油碟子><span class=header-title-text>伤心肠粉</span></a><span class=header-subtitle></span></div><nav><ul class=menu><li class=menu-item><a class=menu-link href=/Notes/categories/>分类</a></li><li class=menu-item><a class=menu-link href=/Notes/tags/>标签</a></li><li class=menu-item><a class=menu-link href=/Notes/posts/>文章</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id=search-desktop><input type=text placeholder="搜索文章标题或内容 ..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fa-solid fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fa-solid fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin"></i></span></li><li class="menu-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw"></i></li></ul></nav></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/Notes/ title=伤心肠粉的酱油碟子><span class=header-title-text>伤心肠粉</span></a><span class=header-subtitle></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="搜索文章标题或内容 ..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fa-solid fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fa-solid fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin"></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></li><li class=menu-item><a class=menu-link href=/Notes/categories/>分类</a></li><li class=menu-item><a class=menu-link href=/Notes/tags/>标签</a></li><li class=menu-item><a class=menu-link href=/Notes/posts/>文章</a></li><li class="menu-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw"></i></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=container page-style=normal><aside class=toc id=toc-auto><h2 class=toc-title>目录 <i class="toc-icon fa-solid fa-angle-down fa-fw"></i></h2><div class="toc-content always-active" id=toc-content-auto></div></aside><aside class=aside-custom></aside><article class="page single"><div class=header><h1 class="single-title animate__animated animate__flipInX"><span>MySQL 查询练习</span></h1></div><div class=post-meta><div class=post-meta-line><span class=post-author><span class=author><i class="fa-solid fa-user-circle"></i>
MelonCholi</span></span>
<span class=post-category>收录于 <a href=/Notes/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/><i class="fa-regular fa-folder fa-fw"></i>&nbsp;数据库</a></span></div><div class=post-meta-line><span title="2022-11-17 00:00:00"><i class="fa-regular fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2022-11-17>2022-11-17</time>
</span>&nbsp;<i class="fa-solid fa-pencil-alt fa-fw"></i>&nbsp;约 8849 字&nbsp;
<i class="fa-regular fa-clock fa-fw"></i>&nbsp;预计阅读 18 分钟&nbsp;</div></div><div class="details toc" id=toc-static kept=false><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fa-solid fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#准备数据>准备数据</a></li><li><a href=#1-到-10>1 到 10</a></li><li><a href=#分组计算平均成绩>分组计算平均成绩</a></li><li><a href=#分组条件与模糊查询>分组条件与模糊查询</a></li><li><a href=#多表查询---1>多表查询 - 1</a></li><li><a href=#多表查询---2>多表查询 - 2</a></li><li><a href=#三表关联查询>三表关联查询</a></li><li><a href=#子查询加分组求平均分>子查询加分组求平均分</a></li><li><a href=#子查询---1>子查询 - 1</a></li><li><a href=#子查询---2>子查询 - 2</a></li><li><a href=#year-函数与带-in-关键字查询>YEAR 函数与带 IN 关键字查询</a></li><li><a href=#多层嵌套子查询>多层嵌套子查询</a></li><li><a href=#多表查询>多表查询</a></li><li><a href=#子查询---3>子查询 - 3</a></li><li><a href=#union-和-notin-的使用>UNION 和 NOTIN 的使用</a></li><li><a href=#any-表示至少一个---desc--降序->ANY 表示至少一个 - DESC ( 降序 )</a></li><li><a href=#表示所有的-all>表示所有的 ALL</a></li><li><a href=#复制表的数据作为条件查询>复制表的数据作为条件查询</a></li><li><a href=#子查询---4>子查询 - 4</a></li><li><a href=#条件加组筛选>条件加组筛选</a></li><li><a href=#notlike-模糊查询取反>NOTLIKE 模糊查询取反</a></li><li><a href=#year-与-now-函数>YEAR 与 NOW 函数</a></li><li><a href=#max-与-min-函数>MAX 与 MIN 函数</a></li><li><a href=#多段排序>多段排序</a></li><li><a href=#子查询---5>子查询 - 5</a></li><li><a href=#max-函数与子查询>MAX 函数与子查询</a></li><li><a href=#子查询---6>子查询 - 6</a></li><li><a href=#子查询---7>子查询 - 7</a></li><li><a href=#子查询---8>子查询 - 8</a></li><li><a href=#按等级查询>按等级查询</a></li><li><a href=#连接查询>连接查询</a><ul><li><a href=#内连接>内连接</a></li><li><a href=#左外连接>左外连接</a></li><li><a href=#右外链接>右外链接</a></li><li><a href=#全外链接>全外链接</a></li></ul></li></ul></nav></div></div><div class=content id=content><h1 id=查询练习>查询练习</h1><h2 id=准备数据>准备数据</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span><span class=lnt>75
</span><span class=lnt>76
</span><span class=lnt>77
</span><span class=lnt>78
</span><span class=lnt>79
</span><span class=lnt>80
</span><span class=lnt>81
</span><span class=lnt>82
</span><span class=lnt>83
</span><span class=lnt>84
</span><span class=lnt>85
</span><span class=lnt>86
</span><span class=lnt>87
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=c1>-- 创建数据库
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>CREATE</span><span class=w> </span><span class=k>DATABASE</span><span class=w> </span><span class=n>select_test</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 切换数据库
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>USE</span><span class=w> </span><span class=n>select_test</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 创建学生表
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=nf>student</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>no</span><span class=w> </span><span class=kt>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>name</span><span class=w> </span><span class=kt>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=no>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>sex</span><span class=w> </span><span class=kt>VARCHAR</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=no>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>birthday</span><span class=w> </span><span class=kt>DATE</span><span class=p>,</span><span class=w> </span><span class=c1>-- 生日
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=n>class</span><span class=w> </span><span class=kt>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=c1>-- 所在班级
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 创建教师表
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=nf>teacher</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>no</span><span class=w> </span><span class=kt>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>name</span><span class=w> </span><span class=kt>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=no>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>sex</span><span class=w> </span><span class=kt>VARCHAR</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=no>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>birthday</span><span class=w> </span><span class=kt>DATE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>profession</span><span class=w> </span><span class=kt>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=no>NULL</span><span class=p>,</span><span class=w> </span><span class=c1>-- 职称
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=n>department</span><span class=w> </span><span class=kt>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=no>NULL</span><span class=w> </span><span class=c1>-- 部门
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 创建课程表
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=nf>course</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>no</span><span class=w> </span><span class=kt>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>name</span><span class=w> </span><span class=kt>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=no>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>t_no</span><span class=w> </span><span class=kt>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=no>NULL</span><span class=p>,</span><span class=w> </span><span class=c1>-- 教师编号
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=c1>-- 表示该 tno 来自于 teacher 表中的 no 字段值
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=p>(</span><span class=n>t_no</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=nf>teacher</span><span class=p>(</span><span class=n>no</span><span class=p>)</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 成绩表
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=nf>score</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>s_no</span><span class=w> </span><span class=kt>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=no>NULL</span><span class=p>,</span><span class=w> </span><span class=c1>-- 学生编号
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=n>c_no</span><span class=w> </span><span class=kt>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=no>NULL</span><span class=p>,</span><span class=w> </span><span class=c1>-- 课程号
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=n>degree</span><span class=w> </span><span class=kt>DECIMAL</span><span class=p>,</span><span class=w>	</span><span class=c1>-- 成绩
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=c1>-- 表示该 s_no, c_no 分别来自于 student, course 表中的 no 字段值
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=p>(</span><span class=n>s_no</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=nf>student</span><span class=p>(</span><span class=n>no</span><span class=p>),</span><span class=w>	
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=p>(</span><span class=n>c_no</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=nf>course</span><span class=p>(</span><span class=n>no</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 设置 s_no, c_no 为联合主键
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>(</span><span class=n>s_no</span><span class=p>,</span><span class=w> </span><span class=n>c_no</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 查看所有表
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SHOW</span><span class=w> </span><span class=kp>TABLES</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 添加学生表数据
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>student</span><span class=w> </span><span class=k>VALUES</span><span class=p>(</span><span class=s1>&#39;101&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;曾华&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;男&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;1977-09-01&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;95033&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>student</span><span class=w> </span><span class=k>VALUES</span><span class=p>(</span><span class=s1>&#39;102&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;匡明&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;男&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;1975-10-02&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;95031&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>student</span><span class=w> </span><span class=k>VALUES</span><span class=p>(</span><span class=s1>&#39;103&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;王丽&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;女&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;1976-01-23&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;95033&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>student</span><span class=w> </span><span class=k>VALUES</span><span class=p>(</span><span class=s1>&#39;104&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;李军&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;男&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;1976-02-20&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;95033&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>student</span><span class=w> </span><span class=k>VALUES</span><span class=p>(</span><span class=s1>&#39;105&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;王芳&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;女&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;1975-02-10&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;95031&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>student</span><span class=w> </span><span class=k>VALUES</span><span class=p>(</span><span class=s1>&#39;106&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;陆军&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;男&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;1974-06-03&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;95031&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>student</span><span class=w> </span><span class=k>VALUES</span><span class=p>(</span><span class=s1>&#39;107&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;王尼玛&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;男&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;1976-02-20&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;95033&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>student</span><span class=w> </span><span class=k>VALUES</span><span class=p>(</span><span class=s1>&#39;108&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;张全蛋&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;男&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;1975-02-10&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;95031&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>student</span><span class=w> </span><span class=k>VALUES</span><span class=p>(</span><span class=s1>&#39;109&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;赵铁柱&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;男&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;1974-06-03&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;95031&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 添加教师表数据
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>teacher</span><span class=w> </span><span class=k>VALUES</span><span class=p>(</span><span class=s1>&#39;804&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;李诚&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;男&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;1958-12-02&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;副教授&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;计算机系&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>teacher</span><span class=w> </span><span class=k>VALUES</span><span class=p>(</span><span class=s1>&#39;856&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;张旭&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;男&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;1969-03-12&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;讲师&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;电子工程系&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>teacher</span><span class=w> </span><span class=k>VALUES</span><span class=p>(</span><span class=s1>&#39;825&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;王萍&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;女&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;1972-05-05&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;助教&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;计算机系&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>teacher</span><span class=w> </span><span class=k>VALUES</span><span class=p>(</span><span class=s1>&#39;831&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;刘冰&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;女&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;1977-08-14&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;助教&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;电子工程系&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 添加课程表数据
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>course</span><span class=w> </span><span class=k>VALUES</span><span class=p>(</span><span class=s1>&#39;3-105&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;计算机导论&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;825&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>course</span><span class=w> </span><span class=k>VALUES</span><span class=p>(</span><span class=s1>&#39;3-245&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;操作系统&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;804&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>course</span><span class=w> </span><span class=k>VALUES</span><span class=p>(</span><span class=s1>&#39;6-166&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;数字电路&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;856&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>course</span><span class=w> </span><span class=k>VALUES</span><span class=p>(</span><span class=s1>&#39;9-888&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;高等数学&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;831&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 添加添加成绩表数据
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>VALUES</span><span class=p>(</span><span class=s1>&#39;103&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;3-105&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;92&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>VALUES</span><span class=p>(</span><span class=s1>&#39;103&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;3-245&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;86&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>VALUES</span><span class=p>(</span><span class=s1>&#39;103&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;6-166&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;85&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>VALUES</span><span class=p>(</span><span class=s1>&#39;105&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;3-105&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;88&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>VALUES</span><span class=p>(</span><span class=s1>&#39;105&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;3-245&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;75&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>VALUES</span><span class=p>(</span><span class=s1>&#39;105&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;6-166&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;79&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>VALUES</span><span class=p>(</span><span class=s1>&#39;109&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;3-105&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;76&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>VALUES</span><span class=p>(</span><span class=s1>&#39;109&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;3-245&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;68&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>VALUES</span><span class=p>(</span><span class=s1>&#39;109&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;6-166&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;81&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 查看表结构
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>course</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>student</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>teacher</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=1-到-10>1 到 10</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=c1>-- 查询 student 表的所有行
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>student</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 查询 student 表中的 name、sex 和 class 字段的所有行
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>sex</span><span class=p>,</span><span class=w> </span><span class=n>class</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>student</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 查询 teacher 表中不重复的 department 列
</span></span></span><span class=line><span class=cl><span class=c1>-- department: 去重查询
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=k>DISTINCT</span><span class=w> </span><span class=n>department</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>teacher</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 查询 score 表中成绩在60-80之间的所有行（区间查询和运算符查询）
</span></span></span><span class=line><span class=cl><span class=c1>-- BETWEEN xx AND xx: 查询区间, AND 表示 &#34;并且&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=k>BETWEEN</span><span class=w> </span><span class=mi>60</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=mi>80</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>60</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>80</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 查询 score 表中成绩为 85, 86 或 88 的行
</span></span></span><span class=line><span class=cl><span class=c1>-- IN: 查询规定中的多个值
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>(</span><span class=mi>85</span><span class=p>,</span><span class=w> </span><span class=mi>86</span><span class=p>,</span><span class=w> </span><span class=mi>88</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 查询 student 表中 &#39;95031&#39; 班或性别为 &#39;女&#39; 的所有行
</span></span></span><span class=line><span class=cl><span class=c1>-- or: 表示或者关系
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>student</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>class</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;95031&#39;</span><span class=w> </span><span class=k>or</span><span class=w> </span><span class=n>sex</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;女&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 以 class 降序的方式查询 student 表的所有行
</span></span></span><span class=line><span class=cl><span class=c1>-- DESC: 降序，从高到低
</span></span></span><span class=line><span class=cl><span class=c1>-- ASC（默认）: 升序，从低到高
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>student</span><span class=w> </span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>class</span><span class=w> </span><span class=k>DESC</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>student</span><span class=w> </span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>class</span><span class=w> </span><span class=k>ASC</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 以 c_no 升序、degree 降序查询 score 表的所有行
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>c_no</span><span class=w> </span><span class=k>ASC</span><span class=p>,</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=k>DESC</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 查询 &#34;95031&#34; 班的学生人数
</span></span></span><span class=line><span class=cl><span class=c1>-- COUNT: 统计
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=nf>COUNT</span><span class=p>(</span><span class=o>*</span><span class=p>)</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>student</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>class</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;95031&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 查询 score 表中的最高分的学生学号和课程编号（子查询或排序查询）。
</span></span></span><span class=line><span class=cl><span class=c1>-- (SELECT MAX(degree) FROM score): 子查询，算出最高分
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=n>s_no</span><span class=p>,</span><span class=w> </span><span class=n>c_no</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=k>SELECT</span><span class=w> </span><span class=nf>MAX</span><span class=p>(</span><span class=n>degree</span><span class=p>)</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>--  排序查询
</span></span></span><span class=line><span class=cl><span class=c1>-- LIMIT r, n: 表示从第r行开始，查询n条数据
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=n>s_no</span><span class=p>,</span><span class=w> </span><span class=n>c_no</span><span class=p>,</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=k>DESC</span><span class=w> </span><span class=k>LIMIT</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=分组计算平均成绩>分组计算平均成绩</h2><p><strong>查询每门课的平均成绩。</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=c1>-- AVG: 平均值
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=nf>AVG</span><span class=p>(</span><span class=n>degree</span><span class=p>)</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>c_no</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;3-105&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=nf>AVG</span><span class=p>(</span><span class=n>degree</span><span class=p>)</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>c_no</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;3-245&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=nf>AVG</span><span class=p>(</span><span class=n>degree</span><span class=p>)</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>c_no</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;6-166&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- GROUP BY: 分组查询
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=n>c_no</span><span class=p>,</span><span class=w> </span><span class=nf>AVG</span><span class=p>(</span><span class=n>degree</span><span class=p>)</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>c_no</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=分组条件与模糊查询>分组条件与模糊查询</h2><p><strong>查询 <code>score</code> 表中至少有 2 名学生选修，并以 3 开头的课程的平均分数。</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- c_no 课程编号
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>s_no</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>c_no</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>103</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>92</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>103</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>86</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>103</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>6</span><span class=o>-</span><span class=mi>166</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>85</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>105</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>88</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>105</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>75</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>105</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>6</span><span class=o>-</span><span class=mi>166</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>79</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>109</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>76</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>109</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>68</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>109</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>6</span><span class=o>-</span><span class=mi>166</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>81</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>分析表发现，至少有 2 名学生选修的课程是 <code>3-105</code> 、<code>3-245</code> 、<code>6-166</code> ，以 3 开头的课程是 <code>3-105</code> 、<code>3-245</code> 。也就是说，我们要查询所有 <code>3-105</code> 和 <code>3-245</code> 的 <code>degree</code> 平均分。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=c1>-- 首先把 c_no, AVG(degree) 通过分组查询出来
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=n>c_no</span><span class=p>,</span><span class=w> </span><span class=nf>AVG</span><span class=p>(</span><span class=n>degree</span><span class=p>)</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>c_no</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+-------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>c_no</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=nf>AVG</span><span class=p>(</span><span class=n>degree</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+-------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>85</span><span class=p>.</span><span class=mi>3333</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>76</span><span class=p>.</span><span class=mi>3333</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>6</span><span class=o>-</span><span class=mi>166</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>81</span><span class=p>.</span><span class=mi>6667</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+-------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 再查询出至少有 2 名学生选修的课程
</span></span></span><span class=line><span class=cl><span class=c1>-- HAVING: 表示持有
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>HAVING</span><span class=w> </span><span class=nf>COUNT</span><span class=p>(</span><span class=n>c_no</span><span class=p>)</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=mi>2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 并且是以 3 开头的课程
</span></span></span><span class=line><span class=cl><span class=c1>-- LIKE 表示模糊查询，&#34;%&#34; 是一个通配符，匹配 &#34;3&#34; 后面的任意字符。
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>AND</span><span class=w> </span><span class=n>c_no</span><span class=w> </span><span class=k>LIKE</span><span class=w> </span><span class=s1>&#39;3%&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 把前面的SQL语句拼接起来，
</span></span></span><span class=line><span class=cl><span class=c1>-- 后面加上一个 COUNT(*)，表示将每个分组的个数也查询出来。
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=n>c_no</span><span class=p>,</span><span class=w> </span><span class=nf>AVG</span><span class=p>(</span><span class=n>degree</span><span class=p>),</span><span class=w> </span><span class=nf>COUNT</span><span class=p>(</span><span class=o>*</span><span class=p>)</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>c_no</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>HAVING</span><span class=w> </span><span class=nf>COUNT</span><span class=p>(</span><span class=n>c_no</span><span class=p>)</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=n>c_no</span><span class=w> </span><span class=k>LIKE</span><span class=w> </span><span class=s1>&#39;3%&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+-------------+----------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>c_no</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=nf>AVG</span><span class=p>(</span><span class=n>degree</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nf>COUNT</span><span class=p>(</span><span class=o>*</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+-------------+----------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>85</span><span class=p>.</span><span class=mi>3333</span><span class=w> </span><span class=o>|</span><span class=w>        </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>76</span><span class=p>.</span><span class=mi>3333</span><span class=w> </span><span class=o>|</span><span class=w>        </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+-------------+----------+</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=多表查询---1>多表查询 - 1</h2><p><strong>查询所有学生的 <code>name</code>，以及该学生在 <code>score</code> 表中对应的 <code>c_no</code> 和 <code>degree</code> 。</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>no</span><span class=p>,</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>student</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----+-----------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>no</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>      </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----+-----------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>101</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>曾华</span><span class=w>      </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>102</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>匡明</span><span class=w>      </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>103</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>王丽</span><span class=w>      </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>104</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李军</span><span class=w>      </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>王芳</span><span class=w>      </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>106</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>陆军</span><span class=w>      </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>107</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>王尼玛</span><span class=w>    </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>108</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>张全蛋</span><span class=w>    </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>109</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>赵铁柱</span><span class=w>    </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----+-----------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=n>s_no</span><span class=p>,</span><span class=w> </span><span class=n>c_no</span><span class=p>,</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>s_no</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>c_no</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>103</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>92</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>103</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>86</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>103</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>6</span><span class=o>-</span><span class=mi>166</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>85</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>105</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>88</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>105</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>75</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>105</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>6</span><span class=o>-</span><span class=mi>166</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>79</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>109</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>76</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>109</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>68</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>109</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>6</span><span class=o>-</span><span class=mi>166</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>81</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>通过分析可以发现，只要把 <code>score</code> 表中的 <code>s_no</code> 字段值替换成 <code>student</code> 表中对应的 <code>name</code> 字段值就可以了，如何做呢？</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=c1>-- FROM...: 表示从 student, score 表中查询
</span></span></span><span class=line><span class=cl><span class=c1>-- WHERE 的条件表示为，只有在 student.no 和 score.s_no 相等时才显示出来。
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>c_no</span><span class=p>,</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>student</span><span class=p>,</span><span class=w> </span><span class=n>score</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w> </span><span class=n>student</span><span class=p>.</span><span class=n>no</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>score</span><span class=p>.</span><span class=n>s_no</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----------+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=n>c_no</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----------+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>王丽</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>92</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>王丽</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>86</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>王丽</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=mi>6</span><span class=o>-</span><span class=mi>166</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>85</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>王芳</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>88</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>王芳</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>75</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>王芳</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=mi>6</span><span class=o>-</span><span class=mi>166</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>79</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>赵铁柱</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>76</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>赵铁柱</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>68</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>赵铁柱</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=mi>6</span><span class=o>-</span><span class=mi>166</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>81</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----------+-------+--------+</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=多表查询---2>多表查询 - 2</h2><p><strong>查询所有学生的 <code>no</code> 、课程名称 ( <code>course</code> 表中的 <code>name</code> ) 和成绩 ( <code>score</code> 表中的 <code>degree</code> ) 列。</strong></p><p>只有 <code>score</code> 关联学生的 <code>no</code> ，因此只要查询 <code>score</code> 表，就能找出所有和学生相关的 <code>no</code> 和 <code>degree</code> ：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>s_no</span><span class=p>,</span><span class=w> </span><span class=n>c_no</span><span class=p>,</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>s_no</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>c_no</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>103</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>92</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>103</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>86</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>103</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>6</span><span class=o>-</span><span class=mi>166</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>85</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>105</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>88</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>105</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>75</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>105</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>6</span><span class=o>-</span><span class=mi>166</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>79</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>109</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>76</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>109</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>68</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>109</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>6</span><span class=o>-</span><span class=mi>166</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>81</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>然后查询 <code>course</code> 表：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=o>+-------+-----------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>no</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>            </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+-----------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>计算机导论</span><span class=w>      </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>操作系统</span><span class=w>        </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>6</span><span class=o>-</span><span class=mi>166</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>数字电路</span><span class=w>        </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>9</span><span class=o>-</span><span class=mi>888</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>高等数学</span><span class=w>        </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+-----------------+</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>只要把 <code>score</code> 表中的 <code>c_no</code> 替换成 <code>course</code> 表中对应的 <code>name</code> 字段值就可以了。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=c1>-- 增加一个查询字段 name，分别从 score、course 这两个表中查询。
</span></span></span><span class=line><span class=cl><span class=c1>-- as 表示取一个该字段的别名。
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=n>s_no</span><span class=p>,</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>c_name</span><span class=p>,</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=p>,</span><span class=w> </span><span class=n>course</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w> </span><span class=n>score</span><span class=p>.</span><span class=n>c_no</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>course</span><span class=p>.</span><span class=n>no</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-----------------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>s_no</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>c_name</span><span class=w>          </span><span class=o>|</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-----------------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>103</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=err>计算机导论</span><span class=w>      </span><span class=o>|</span><span class=w>     </span><span class=mi>92</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>105</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=err>计算机导论</span><span class=w>      </span><span class=o>|</span><span class=w>     </span><span class=mi>88</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>109</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=err>计算机导论</span><span class=w>      </span><span class=o>|</span><span class=w>     </span><span class=mi>76</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>103</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=err>操作系统</span><span class=w>        </span><span class=o>|</span><span class=w>     </span><span class=mi>86</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>105</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=err>操作系统</span><span class=w>        </span><span class=o>|</span><span class=w>     </span><span class=mi>75</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>109</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=err>操作系统</span><span class=w>        </span><span class=o>|</span><span class=w>     </span><span class=mi>68</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>103</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=err>数字电路</span><span class=w>        </span><span class=o>|</span><span class=w>     </span><span class=mi>85</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>105</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=err>数字电路</span><span class=w>        </span><span class=o>|</span><span class=w>     </span><span class=mi>79</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>109</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=err>数字电路</span><span class=w>        </span><span class=o>|</span><span class=w>     </span><span class=mi>81</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-----------------+--------+</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=三表关联查询>三表关联查询</h2><p><strong>查询所有学生的 <code>name</code> 、课程名 ( <code>course</code> 表中的 <code>name</code> ) 和 <code>degree</code> 。</strong></p><p>只有 <code>score</code> 表中关联学生的学号和课堂号，我们只要围绕着 <code>score</code> 这张表查询就好了。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>s_no</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>c_no</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>103</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>92</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>103</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>86</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>103</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>6</span><span class=o>-</span><span class=mi>166</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>85</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>105</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>88</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>105</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>75</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>105</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>6</span><span class=o>-</span><span class=mi>166</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>79</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>109</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>76</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>109</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>68</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>109</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>6</span><span class=o>-</span><span class=mi>166</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>81</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>只要把 <code>s_no</code> 和 <code>c_no</code> 替换成 <code>student</code> 和 <code>srouse</code> 表中对应的 <code>name</code> 字段值就好了。</p><p>首先把 <code>s_no</code> 替换成 <code>student</code> 表中的 <code>name</code> 字段：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>c_no</span><span class=p>,</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>student</span><span class=p>,</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>student</span><span class=p>.</span><span class=n>no</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>score</span><span class=p>.</span><span class=n>s_no</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----------+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=n>c_no</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----------+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>王丽</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>92</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>王丽</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>86</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>王丽</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=mi>6</span><span class=o>-</span><span class=mi>166</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>85</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>王芳</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>88</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>王芳</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>75</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>王芳</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=mi>6</span><span class=o>-</span><span class=mi>166</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>79</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>赵铁柱</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>76</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>赵铁柱</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>68</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>赵铁柱</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=mi>6</span><span class=o>-</span><span class=mi>166</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>81</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----------+-------+--------+</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>再把 <code>c_no</code> 替换成 <code>course</code> 表中的 <code>name</code> 字段：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=c1>-- 课程表
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=n>no</span><span class=p>,</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>course</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+-----------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>no</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>            </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+-----------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>计算机导论</span><span class=w>      </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>操作系统</span><span class=w>        </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>6</span><span class=o>-</span><span class=mi>166</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>数字电路</span><span class=w>        </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>9</span><span class=o>-</span><span class=mi>888</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>高等数学</span><span class=w>        </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+-----------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 由于字段名存在重复，使用 &#34;表名.字段名 as 别名&#34; 代替。
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=n>student</span><span class=p>.</span><span class=n>name</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>s_name</span><span class=p>,</span><span class=w> </span><span class=n>course</span><span class=p>.</span><span class=n>name</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>c_name</span><span class=p>,</span><span class=w> </span><span class=n>degree</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=n>student</span><span class=p>,</span><span class=w> </span><span class=n>score</span><span class=p>,</span><span class=w> </span><span class=n>course</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w> </span><span class=n>student</span><span class=p>.</span><span class=n>NO</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>score</span><span class=p>.</span><span class=n>s_no</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>AND</span><span class=w> </span><span class=n>score</span><span class=p>.</span><span class=n>c_no</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>course</span><span class=p>.</span><span class=n>no</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=子查询加分组求平均分>子查询加分组求平均分</h2><p><strong>查询 <code>95031</code> 班学生每门课程的平均成绩。</strong></p><p>在 <code>score</code> 表中根据 <code>student</code> 表的学生编号筛选出学生的课堂号和成绩：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=c1>-- IN (..): 将筛选出的学生号当做 s_no 的条件查询
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=n>s_no</span><span class=p>,</span><span class=w> </span><span class=n>c_no</span><span class=p>,</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w> </span><span class=n>s_no</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>(</span><span class=k>SELECT</span><span class=w> </span><span class=n>no</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>student</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>class</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;95031&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>s_no</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>c_no</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>105</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>88</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>105</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>75</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>105</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>6</span><span class=o>-</span><span class=mi>166</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>79</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>109</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>76</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>109</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>68</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>109</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>6</span><span class=o>-</span><span class=mi>166</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>81</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>这时只要将 <code>c_no</code> 分组一下就能得出 <code>95031</code> 班学生每门课的平均成绩：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>c_no</span><span class=p>,</span><span class=w> </span><span class=nf>AVG</span><span class=p>(</span><span class=n>degree</span><span class=p>)</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w> </span><span class=n>s_no</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>(</span><span class=k>SELECT</span><span class=w> </span><span class=n>no</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>student</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>class</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;95031&#39;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>c_no</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+-------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>c_no</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=nf>AVG</span><span class=p>(</span><span class=n>degree</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+-------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>82</span><span class=p>.</span><span class=mi>0000</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>71</span><span class=p>.</span><span class=mi>5000</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>6</span><span class=o>-</span><span class=mi>166</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>80</span><span class=p>.</span><span class=mi>0000</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+-------------+</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=子查询---1>子查询 - 1</h2><p><strong>查询在 <code>3-105</code> 课程中，所有成绩高于 <code>109</code> 号同学的记录。</strong></p><p>首先筛选出课堂号为 <code>3-105</code> ，在找出所有成绩高于 <code>109</code> 号同学的的行。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w> </span><span class=n>c_no</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;3-105&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>AND</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=p>(</span><span class=k>SELECT</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>s_no</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;109&#39;</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=n>c_no</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;3-105&#39;</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=子查询---2>子查询 - 2</h2><p><strong>查询所有成绩高于 <code>109</code> 号同学的 <code>3-105</code> 课程成绩记录。</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=c1>-- 不限制课程号，只要成绩大于109号同学的3-105课程成绩就可以。
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=p>(</span><span class=k>SELECT</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>s_no</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;109&#39;</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=n>c_no</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;3-105&#39;</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=year-函数与带-in-关键字查询>YEAR 函数与带 IN 关键字查询</h2><p><strong>查询所有和 <code>101</code> 、<code>108</code> 号学生同年出生的 <code>no</code> 、<code>name</code> 、<code>birthday</code> 列。</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=c1>-- YEAR(..): 取出日期中的年份
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=n>no</span><span class=p>,</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>birthday</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>student</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w> </span><span class=kt>YEAR</span><span class=p>(</span><span class=n>birthday</span><span class=p>)</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>(</span><span class=k>SELECT</span><span class=w> </span><span class=kt>YEAR</span><span class=p>(</span><span class=n>birthday</span><span class=p>)</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>student</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>no</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>(</span><span class=mi>101</span><span class=p>,</span><span class=w> </span><span class=mi>108</span><span class=p>));</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=多层嵌套子查询>多层嵌套子查询</h2><p><strong>查询 <code>'张旭'</code> 教师任课的学生成绩表。</strong></p><p>首先找到教师编号：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>NO</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>teacher</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>NAME</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;张旭&#39;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>通过 <code>sourse</code> 表找到该教师课程号：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>NO</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>course</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>t_no</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=n>NO</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>teacher</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>NAME</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;张旭&#39;</span><span class=w> </span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>通过筛选出的课程号查询成绩表：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>c_no</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SELECT</span><span class=w> </span><span class=n>no</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>course</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>t_no</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>SELECT</span><span class=w> </span><span class=n>no</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>teacher</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>NAME</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;张旭&#39;</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=多表查询>多表查询</h2><p><strong>查询某选修课程多于5个同学的教师姓名。</strong></p><p>首先在 <code>teacher</code> 表中，根据 <code>no</code> 字段来判断该教师的同一门课程是否有至少 5 名学员选修：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=c1>-- 查询 teacher 表
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=n>no</span><span class=p>,</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>teacher</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>no</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>   </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>804</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李诚</span><span class=w>   </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>825</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>王萍</span><span class=w>   </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>831</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>刘冰</span><span class=w>   </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>856</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>张旭</span><span class=w>   </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>teacher</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>no</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 在这里找到对应的条件
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>查看和教师编号有有关的表的信息：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>course</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- t_no: 教师编号
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>+-------+-----------------+------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>no</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>            </span><span class=o>|</span><span class=w> </span><span class=n>t_no</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+-----------------+------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>计算机导论</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=mi>825</span><span class=w>  </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>操作系统</span><span class=w>        </span><span class=o>|</span><span class=w> </span><span class=mi>804</span><span class=w>  </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>6</span><span class=o>-</span><span class=mi>166</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>数字电路</span><span class=w>        </span><span class=o>|</span><span class=w> </span><span class=mi>856</span><span class=w>  </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>9</span><span class=o>-</span><span class=mi>888</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>高等数学</span><span class=w>        </span><span class=o>|</span><span class=w> </span><span class=mi>831</span><span class=w>  </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+-----------------+------+</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>我们已经找到和教师编号有关的字段就在 <code>course</code> 表中，但是还无法知道哪门课程至少有 5 名学生选修，所以还需要根据 <code>score</code> 表来查询：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=c1>-- 在此之前向 score 插入一些数据，以便丰富查询条件。
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>VALUES</span><span class=w> </span><span class=p>(</span><span class=s1>&#39;101&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;3-105&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;90&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>VALUES</span><span class=w> </span><span class=p>(</span><span class=s1>&#39;102&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;3-105&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;91&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>VALUES</span><span class=w> </span><span class=p>(</span><span class=s1>&#39;104&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;3-105&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;89&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 查询 score 表
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>s_no</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>c_no</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>101</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>90</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>102</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>91</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>103</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>92</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>103</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>86</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>103</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>6</span><span class=o>-</span><span class=mi>166</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>85</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>104</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>89</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>105</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>88</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>105</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>75</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>105</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>6</span><span class=o>-</span><span class=mi>166</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>79</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>109</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>76</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>109</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>68</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>109</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>6</span><span class=o>-</span><span class=mi>166</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>81</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 在 score 表中将 c_no 作为分组，并且限制 c_no 持有至少 5 条数据。
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=n>c_no</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>c_no</span><span class=w> </span><span class=k>HAVING</span><span class=w> </span><span class=nf>COUNT</span><span class=p>(</span><span class=o>*</span><span class=p>)</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>5</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>c_no</span><span class=w>  </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>根据筛选出来的课程号，找出在某课程中，拥有至少 5 名学员的教师编号：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>t_no</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>course</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>no</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SELECT</span><span class=w> </span><span class=n>c_no</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>c_no</span><span class=w> </span><span class=k>HAVING</span><span class=w> </span><span class=nf>COUNT</span><span class=p>(</span><span class=o>*</span><span class=p>)</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>5</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>t_no</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>825</span><span class=w>  </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>在 <code>teacher</code> 表中，根据筛选出来的教师编号找到教师姓名：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>teacher</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>no</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 最终条件
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=k>SELECT</span><span class=w> </span><span class=n>t_no</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>course</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>no</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>SELECT</span><span class=w> </span><span class=n>c_no</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>c_no</span><span class=w> </span><span class=k>HAVING</span><span class=w> </span><span class=nf>COUNT</span><span class=p>(</span><span class=o>*</span><span class=p>)</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>5</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=子查询---3>子查询 - 3</h2><p><strong>查询 “计算机系” 课程的成绩表。</strong></p><p>思路是，先找出 <code>course</code> 表中所有 <code>计算机系</code> 课程的编号，然后根据这个编号查询 <code>score</code> 表。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=c1>-- 通过 teacher 表查询所有 `计算机系` 的教师编号
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=n>no</span><span class=p>,</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>department</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>teacher</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>department</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;计算机系&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----+--------+--------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>no</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>department</span><span class=w>   </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----+--------+--------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>804</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李诚</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=err>计算机系</span><span class=w>     </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>825</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>王萍</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=err>计算机系</span><span class=w>     </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----+--------+--------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 通过 course 表查询该教师的课程编号
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=n>no</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>course</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>t_no</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SELECT</span><span class=w> </span><span class=n>no</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>teacher</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>department</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;计算机系&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>no</span><span class=w>    </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 根据筛选出来的课程号查询成绩表
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>c_no</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SELECT</span><span class=w> </span><span class=n>no</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>course</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>t_no</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>SELECT</span><span class=w> </span><span class=n>no</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>teacher</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>department</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;计算机系&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>s_no</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>c_no</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>103</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>86</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>105</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>75</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>109</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>68</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>101</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>90</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>102</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>91</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>103</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>92</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>104</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>89</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>105</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>88</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>109</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>76</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=union-和-notin-的使用>UNION 和 NOTIN 的使用</h2><p><strong>查询 <code>计算机系</code> 与 <code>电子工程系</code> 中的不同职称的教师。</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=c1>-- NOT: 代表逻辑非
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>teacher</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>department</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;计算机系&#39;</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=n>profession</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SELECT</span><span class=w> </span><span class=n>profession</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>teacher</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>department</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;电子工程系&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 合并两个集
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>UNION</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>teacher</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>department</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;电子工程系&#39;</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=n>profession</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SELECT</span><span class=w> </span><span class=n>profession</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>teacher</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>department</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;计算机系&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=any-表示至少一个---desc--降序->ANY 表示至少一个 - DESC ( 降序 )</h2><p><strong>查询课程 <code>3-105</code> 且成绩 <u>至少</u> 高于 <code>3-245</code> 的 <code>score</code> 表。</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>c_no</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;3-105&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>s_no</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>c_no</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>101</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>90</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>102</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>91</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>103</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>92</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>104</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>89</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>105</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>88</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>109</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>76</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>c_no</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;3-245&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>s_no</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>c_no</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>103</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>86</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>105</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>75</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>109</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>68</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- ANY: 符合SQL语句中的任意条件。
</span></span></span><span class=line><span class=cl><span class=c1>-- 也就是说，在 3-105 成绩中，只要有一个大于从 3-245 筛选出来的任意行就符合条件，
</span></span></span><span class=line><span class=cl><span class=c1>-- 最后根据降序查询结果。
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>c_no</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;3-105&#39;</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=nf>ANY</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SELECT</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>c_no</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;3-245&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=w> </span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=k>DESC</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>s_no</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>c_no</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>103</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>92</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>102</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>91</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>101</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>90</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>104</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>89</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>105</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>88</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>109</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>76</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=表示所有的-all>表示所有的 ALL</h2><p><strong>查询课程 <code>3-105</code> 且成绩高于 <code>3-245</code> 的 <code>score</code> 表。</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=c1>-- 只需对上一道题稍作修改。
</span></span></span><span class=line><span class=cl><span class=c1>-- ALL: 符合SQL语句中的所有条件。
</span></span></span><span class=line><span class=cl><span class=c1>-- 也就是说，在 3-105 每一行成绩中，都要大于从 3-245 筛选出来全部行才算符合条件。
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>c_no</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;3-105&#39;</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=k>ALL</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SELECT</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>c_no</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;3-245&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>s_no</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>c_no</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>101</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>90</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>102</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>91</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>103</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>92</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>104</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>89</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>105</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>88</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=复制表的数据作为条件查询>复制表的数据作为条件查询</h2><p><strong>查询某课程成绩比该课程平均成绩低的 <code>score</code> 表。</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=c1>-- 查询平均分
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=n>c_no</span><span class=p>,</span><span class=w> </span><span class=nf>AVG</span><span class=p>(</span><span class=n>degree</span><span class=p>)</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>c_no</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+-------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>c_no</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=nf>AVG</span><span class=p>(</span><span class=n>degree</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+-------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>87</span><span class=p>.</span><span class=mi>6667</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>76</span><span class=p>.</span><span class=mi>3333</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>6</span><span class=o>-</span><span class=mi>166</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>81</span><span class=p>.</span><span class=mi>6667</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+-------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 查询 score 表
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>     </span><span class=mi>90</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>     </span><span class=mi>91</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>     </span><span class=mi>92</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>     </span><span class=mi>86</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>     </span><span class=mi>85</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>     </span><span class=mi>89</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>     </span><span class=mi>88</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>     </span><span class=mi>75</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>     </span><span class=mi>79</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>     </span><span class=mi>76</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>     </span><span class=mi>68</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>     </span><span class=mi>81</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 将表 b 作用于表 a 中查询数据
</span></span></span><span class=line><span class=cl><span class=c1>-- score a (b): 将表声明为 a (b)，
</span></span></span><span class=line><span class=cl><span class=c1>-- 如此就能用 a.c_no = b.c_no 作为条件执行查询了。
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=n>a</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>(</span><span class=k>SELECT</span><span class=w> </span><span class=nf>AVG</span><span class=p>(</span><span class=n>degree</span><span class=p>)</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=n>b</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>a</span><span class=p>.</span><span class=n>c_no</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>b</span><span class=p>.</span><span class=n>c_no</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>s_no</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>c_no</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>105</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>75</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>105</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>6</span><span class=o>-</span><span class=mi>166</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>79</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>109</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>76</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>109</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>68</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>109</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>6</span><span class=o>-</span><span class=mi>166</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>81</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=子查询---4>子查询 - 4</h2><p><strong>查询所有任课 ( 在 <code>course</code> 表里有课程 ) 教师的 <code>name</code> 和 <code>department</code></strong> 。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>department</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>teacher</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>no</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>(</span><span class=k>SELECT</span><span class=w> </span><span class=n>t_no</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>course</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------+-----------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>department</span><span class=w>      </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------+-----------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>李诚</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=err>计算机系</span><span class=w>        </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>王萍</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=err>计算机系</span><span class=w>        </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>刘冰</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=err>电子工程系</span><span class=w>      </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>张旭</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=err>电子工程系</span><span class=w>      </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+--------+-----------------+</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=条件加组筛选>条件加组筛选</h2><p><strong>查询 <code>student</code> 表中至少有 2 名男生的 <code>class</code> 。</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=c1>-- 查看学生表信息
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>student</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----+-----------+-----+------------+-------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>no</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=n>sex</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>birthday</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>class</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----+-----------+-----+------------+-------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>101</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>曾华</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>1977</span><span class=o>-</span><span class=mi>09</span><span class=o>-</span><span class=mi>01</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>95033</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>102</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>匡明</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>1975</span><span class=o>-</span><span class=mi>10</span><span class=o>-</span><span class=mi>02</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>95031</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>103</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>王丽</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>1976</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>95033</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>104</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李军</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>1976</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>20</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>95033</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>王芳</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>1975</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>10</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>95031</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>106</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>陆军</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>1974</span><span class=o>-</span><span class=mi>06</span><span class=o>-</span><span class=mi>03</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>95031</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>107</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>王尼玛</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>1976</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>20</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>95033</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>108</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>张全蛋</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>1975</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>10</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>95031</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>109</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>赵铁柱</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>1974</span><span class=o>-</span><span class=mi>06</span><span class=o>-</span><span class=mi>03</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>95031</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>110</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>张飞</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>1974</span><span class=o>-</span><span class=mi>06</span><span class=o>-</span><span class=mi>03</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>95038</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----+-----------+-----+------------+-------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 只查询性别为男，然后按 class 分组，并限制 class 行大于 1。
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=n>class</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>student</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>sex</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;男&#39;</span><span class=w> </span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>class</span><span class=w> </span><span class=k>HAVING</span><span class=w> </span><span class=nf>COUNT</span><span class=p>(</span><span class=o>*</span><span class=p>)</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>class</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>95033</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>95031</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=notlike-模糊查询取反>NOTLIKE 模糊查询取反</h2><p><strong>查询 <code>student</code> 表中不姓 &ldquo;王&rdquo; 的同学记录。</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=c1>-- NOT: 取反
</span></span></span><span class=line><span class=cl><span class=c1>-- LIKE: 模糊查询
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>mysql</span><span class=o>&gt;</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>student</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>LIKE</span><span class=w> </span><span class=s1>&#39;王%&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----+-----------+-----+------------+-------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>no</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=n>sex</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>birthday</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>class</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----+-----------+-----+------------+-------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>101</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>曾华</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>1977</span><span class=o>-</span><span class=mi>09</span><span class=o>-</span><span class=mi>01</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>95033</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>102</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>匡明</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>1975</span><span class=o>-</span><span class=mi>10</span><span class=o>-</span><span class=mi>02</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>95031</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>104</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李军</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>1976</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>20</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>95033</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>106</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>陆军</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>1974</span><span class=o>-</span><span class=mi>06</span><span class=o>-</span><span class=mi>03</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>95031</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>108</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>张全蛋</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>1975</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>10</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>95031</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>109</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>赵铁柱</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>1974</span><span class=o>-</span><span class=mi>06</span><span class=o>-</span><span class=mi>03</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>95031</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>110</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>张飞</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>1974</span><span class=o>-</span><span class=mi>06</span><span class=o>-</span><span class=mi>03</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>95038</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----+-----------+-----+------------+-------+</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=year-与-now-函数>YEAR 与 NOW 函数</h2><p><strong>查询 <code>student</code> 表中每个学生的姓名和年龄。</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=c1>-- 使用函数 YEAR(NOW()) 计算出当前年份，减去出生年份后得出年龄。
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=kt>YEAR</span><span class=p>(</span><span class=nf>NOW</span><span class=p>())</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=kt>YEAR</span><span class=p>(</span><span class=n>birthday</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>age</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>student</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----------+------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=n>age</span><span class=w>  </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----------+------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>曾华</span><span class=w>      </span><span class=o>|</span><span class=w>   </span><span class=mi>42</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>匡明</span><span class=w>      </span><span class=o>|</span><span class=w>   </span><span class=mi>44</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>王丽</span><span class=w>      </span><span class=o>|</span><span class=w>   </span><span class=mi>43</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>李军</span><span class=w>      </span><span class=o>|</span><span class=w>   </span><span class=mi>43</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>王芳</span><span class=w>      </span><span class=o>|</span><span class=w>   </span><span class=mi>44</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>陆军</span><span class=w>      </span><span class=o>|</span><span class=w>   </span><span class=mi>45</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>王尼玛</span><span class=w>    </span><span class=o>|</span><span class=w>   </span><span class=mi>43</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>张全蛋</span><span class=w>    </span><span class=o>|</span><span class=w>   </span><span class=mi>44</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>赵铁柱</span><span class=w>    </span><span class=o>|</span><span class=w>   </span><span class=mi>45</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>张飞</span><span class=w>      </span><span class=o>|</span><span class=w>   </span><span class=mi>45</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----------+------+</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=max-与-min-函数>MAX 与 MIN 函数</h2><p><strong>查询 <code>student</code> 表中最大和最小的 <code>birthday</code> 值。</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=nf>MAX</span><span class=p>(</span><span class=n>birthday</span><span class=p>),</span><span class=w> </span><span class=nf>MIN</span><span class=p>(</span><span class=n>birthday</span><span class=p>)</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>student</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+---------------+---------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=nf>MAX</span><span class=p>(</span><span class=n>birthday</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nf>MIN</span><span class=p>(</span><span class=n>birthday</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+---------------+---------------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>1977</span><span class=o>-</span><span class=mi>09</span><span class=o>-</span><span class=mi>01</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=mi>1974</span><span class=o>-</span><span class=mi>06</span><span class=o>-</span><span class=mi>03</span><span class=w>    </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+---------------+---------------+</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=多段排序>多段排序</h2><p><strong>以 <code>class</code> 和 <code>birthday</code> 从大到小的顺序查询 <code>student</code> 表。</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>student</span><span class=w> </span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>class</span><span class=w> </span><span class=k>DESC</span><span class=p>,</span><span class=w> </span><span class=n>birthday</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----+-----------+-----+------------+-------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>no</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=n>sex</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>birthday</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>class</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----+-----------+-----+------------+-------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>110</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>张飞</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>1974</span><span class=o>-</span><span class=mi>06</span><span class=o>-</span><span class=mi>03</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>95038</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>103</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>王丽</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>1976</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>23</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>95033</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>104</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李军</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>1976</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>20</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>95033</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>107</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>王尼玛</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>1976</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>20</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>95033</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>101</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>曾华</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>1977</span><span class=o>-</span><span class=mi>09</span><span class=o>-</span><span class=mi>01</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>95033</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>106</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>陆军</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>1974</span><span class=o>-</span><span class=mi>06</span><span class=o>-</span><span class=mi>03</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>95031</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>109</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>赵铁柱</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>1974</span><span class=o>-</span><span class=mi>06</span><span class=o>-</span><span class=mi>03</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>95031</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>王芳</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>女</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>1975</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>10</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>95031</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>108</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>张全蛋</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>1975</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>10</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>95031</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>102</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>匡明</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>1975</span><span class=o>-</span><span class=mi>10</span><span class=o>-</span><span class=mi>02</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>95031</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----+-----------+-----+------------+-------+</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=子查询---5>子查询 - 5</h2><p><strong>查询 &ldquo;男&rdquo; 教师及其所上的课程。</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>course</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>t_no</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=p>(</span><span class=k>SELECT</span><span class=w> </span><span class=n>no</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>teacher</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>sex</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;男&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+--------------+------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>no</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>         </span><span class=o>|</span><span class=w> </span><span class=n>t_no</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+--------------+------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>操作系统</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=mi>804</span><span class=w>  </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>6</span><span class=o>-</span><span class=mi>166</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>数字电路</span><span class=w>     </span><span class=o>|</span><span class=w> </span><span class=mi>856</span><span class=w>  </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-------+--------------+------+</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=max-函数与子查询>MAX 函数与子查询</h2><p><strong>查询最高分同学的 <code>score</code> 表。</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=c1>-- 找出最高成绩（该查询只能有一个结果）
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=nf>MAX</span><span class=p>(</span><span class=n>degree</span><span class=p>)</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 根据上面的条件筛选出所有最高成绩表，
</span></span></span><span class=line><span class=cl><span class=c1>-- 该查询可能有多个结果，假设 degree 值多次符合条件。
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=k>SELECT</span><span class=w> </span><span class=nf>MAX</span><span class=p>(</span><span class=n>degree</span><span class=p>)</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>s_no</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>c_no</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>103</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>92</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=子查询---6>子查询 - 6</h2><p><strong>查询和 &ldquo;李军&rdquo; 同性别的所有同学 <code>name</code> 。</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=c1>-- 首先将李军的性别作为条件取出来
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=n>sex</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>student</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;李军&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>sex</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>  </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 根据性别查询 name 和 sex
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>sex</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>student</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>sex</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SELECT</span><span class=w> </span><span class=n>sex</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>student</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;李军&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----------+-----+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=n>sex</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----------+-----+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>曾华</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>  </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>匡明</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>  </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>李军</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>  </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>陆军</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>  </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>王尼玛</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>  </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>张全蛋</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>  </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>赵铁柱</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>  </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>张飞</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>  </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----------+-----+</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=子查询---7>子查询 - 7</h2><p><strong>查询和 &ldquo;李军&rdquo; 同性别且同班的同学 <code>name</code> 。</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>sex</span><span class=p>,</span><span class=w> </span><span class=n>class</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>student</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>sex</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SELECT</span><span class=w> </span><span class=n>sex</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>student</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;李军&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=n>class</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SELECT</span><span class=w> </span><span class=n>class</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>student</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;李军&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----------+-----+-------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=n>sex</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>class</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----------+-----+-------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>曾华</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>95033</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>李军</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>95033</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=err>王尼玛</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=err>男</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>95033</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+-----------+-----+-------+</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=子查询---8>子查询 - 8</h2><p><strong>查询所有选修 &ldquo;计算机导论&rdquo; 课程的 &ldquo;男&rdquo; 同学成绩表。</strong></p><p>需要的 &ldquo;计算机导论&rdquo; 和性别为 &ldquo;男&rdquo; 的编号可以在 <code>course</code> 和 <code>student</code> 表中找到。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>c_no</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SELECT</span><span class=w> </span><span class=n>no</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>course</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;计算机导论&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=n>s_no</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SELECT</span><span class=w> </span><span class=n>no</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>student</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>sex</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;男&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>s_no</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>c_no</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>101</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>90</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>102</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>91</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>104</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>89</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>109</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=mi>76</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+--------+</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=按等级查询>按等级查询</h2><p>建立一个 <code>grade</code> 表代表学生的成绩等级，并插入数据：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=nf>grade</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>low</span><span class=w> </span><span class=kt>INT</span><span class=p>(</span><span class=mi>3</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>upp</span><span class=w> </span><span class=kt>INT</span><span class=p>(</span><span class=mi>3</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>grade</span><span class=w> </span><span class=kt>char</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>grade</span><span class=w> </span><span class=k>VALUES</span><span class=w> </span><span class=p>(</span><span class=mi>90</span><span class=p>,</span><span class=w> </span><span class=mi>100</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;A&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>grade</span><span class=w> </span><span class=k>VALUES</span><span class=w> </span><span class=p>(</span><span class=mi>80</span><span class=p>,</span><span class=w> </span><span class=mi>89</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;B&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>grade</span><span class=w> </span><span class=k>VALUES</span><span class=w> </span><span class=p>(</span><span class=mi>70</span><span class=p>,</span><span class=w> </span><span class=mi>79</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;C&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>grade</span><span class=w> </span><span class=k>VALUES</span><span class=w> </span><span class=p>(</span><span class=mi>60</span><span class=p>,</span><span class=w> </span><span class=mi>69</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;D&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>grade</span><span class=w> </span><span class=k>VALUES</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>59</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;E&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>grade</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+------+-------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>low</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>upp</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>grade</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+------+-------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>   </span><span class=mi>90</span><span class=w> </span><span class=o>|</span><span class=w>  </span><span class=mi>100</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>A</span><span class=w>     </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>   </span><span class=mi>80</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>89</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>B</span><span class=w>     </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>   </span><span class=mi>70</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>79</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>C</span><span class=w>     </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>   </span><span class=mi>60</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>69</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>D</span><span class=w>     </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>    </span><span class=mi>0</span><span class=w> </span><span class=o>|</span><span class=w>   </span><span class=mi>59</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>E</span><span class=w>     </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+------+-------+</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><strong>查询所有学生的 <code>s_no</code> 、<code>c_no</code> 和 <code>grade</code> 列。</strong></p><p>思路是，使用区间 ( <code>BETWEEN</code> ) 查询，判断学生的成绩 ( <code>degree</code> ) 在 <code>grade</code> 表的 <code>low</code> 和 <code>upp</code> 之间。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>s_no</span><span class=p>,</span><span class=w> </span><span class=n>c_no</span><span class=p>,</span><span class=w> </span><span class=n>grade</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>score</span><span class=p>,</span><span class=w> </span><span class=n>grade</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w> </span><span class=n>degree</span><span class=w> </span><span class=k>BETWEEN</span><span class=w> </span><span class=n>low</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=n>upp</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+-------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>s_no</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>c_no</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>grade</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+-------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>101</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>A</span><span class=w>     </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>102</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>A</span><span class=w>     </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>103</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>A</span><span class=w>     </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>103</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>B</span><span class=w>     </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>103</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>6</span><span class=o>-</span><span class=mi>166</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>B</span><span class=w>     </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>104</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>B</span><span class=w>     </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>105</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>B</span><span class=w>     </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>105</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>C</span><span class=w>     </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>105</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>6</span><span class=o>-</span><span class=mi>166</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>C</span><span class=w>     </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>109</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>105</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>C</span><span class=w>     </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>109</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=o>-</span><span class=mi>245</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>D</span><span class=w>     </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>109</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>6</span><span class=o>-</span><span class=mi>166</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>B</span><span class=w>     </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-------+-------+</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=连接查询>连接查询</h2><p>准备用于测试连接查询的数据：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>DATABASE</span><span class=w> </span><span class=n>testJoin</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=nf>person</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>id</span><span class=w> </span><span class=kt>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>name</span><span class=w> </span><span class=kt>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>cardId</span><span class=w> </span><span class=kt>INT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=nf>card</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>id</span><span class=w> </span><span class=kt>INT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>name</span><span class=w> </span><span class=kt>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>card</span><span class=w> </span><span class=k>VALUES</span><span class=w> </span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;饭卡&#39;</span><span class=p>),</span><span class=w> </span><span class=p>(</span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;建行卡&#39;</span><span class=p>),</span><span class=w> </span><span class=p>(</span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;农行卡&#39;</span><span class=p>),</span><span class=w> </span><span class=p>(</span><span class=mi>4</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;工商卡&#39;</span><span class=p>),</span><span class=w> </span><span class=p>(</span><span class=mi>5</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;邮政卡&#39;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>card</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-----------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>id</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>      </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-----------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>    </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>饭卡</span><span class=w>      </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>    </span><span class=mi>2</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>建行卡</span><span class=w>    </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>    </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>农行卡</span><span class=w>    </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>    </span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>工商卡</span><span class=w>    </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>    </span><span class=mi>5</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>邮政卡</span><span class=w>    </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+-----------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>INSERT</span><span class=w> </span><span class=k>INTO</span><span class=w> </span><span class=n>person</span><span class=w> </span><span class=k>VALUES</span><span class=w> </span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;张三&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>),</span><span class=w> </span><span class=p>(</span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;李四&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>),</span><span class=w> </span><span class=p>(</span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;王五&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>6</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>person</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+--------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>id</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>cardId</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+--------+--------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>    </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>张三</span><span class=w>   </span><span class=o>|</span><span class=w>      </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>    </span><span class=mi>2</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李四</span><span class=w>   </span><span class=o>|</span><span class=w>      </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>    </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>王五</span><span class=w>   </span><span class=o>|</span><span class=w>      </span><span class=mi>6</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+--------+--------+</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>分析两张表发现，<code>person</code> 表并没有为 <code>cardId</code> 字段设置一个在 <code>card</code> 表中对应的 <code>id</code> 外键。如果设置了的话，<code>person</code> 中 <code>cardId</code> 字段值为 <code>6</code> 的行就插不进去，因为该 <code>cardId</code> 值在 <code>card</code> 表中并没有。</p><h3 id=内连接>内连接</h3><p>要查询这两张表中有关系的数据，可以使用 <code>INNER JOIN</code> ( 内连接 ) 将它们连接在一起。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=c1>-- INNER JOIN: 表示为内连接，将两张表拼接在一起。
</span></span></span><span class=line><span class=cl><span class=c1>-- on: 表示要执行某个条件。
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>person</span><span class=w> </span><span class=k>INNER</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>card</span><span class=w> </span><span class=k>on</span><span class=w> </span><span class=n>person</span><span class=p>.</span><span class=n>cardId</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>card</span><span class=p>.</span><span class=n>id</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+--------+--------+------+-----------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>id</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>cardId</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>id</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>      </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+--------+--------+------+-----------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>    </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>张三</span><span class=w>   </span><span class=o>|</span><span class=w>      </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w>    </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>饭卡</span><span class=w>      </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>    </span><span class=mi>2</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李四</span><span class=w>   </span><span class=o>|</span><span class=w>      </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w>    </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>农行卡</span><span class=w>    </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+--------+--------+------+-----------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 将 INNER 关键字省略掉，结果也是一样的。
</span></span></span><span class=line><span class=cl><span class=c1>-- SELECT * FROM person JOIN card on person.cardId = card.id;
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>注意：<code>card</code> 的整张表被连接到了右边。</p></blockquote><h3 id=左外连接>左外连接</h3><p>完整显示左边的表 ( <code>person</code> ) ，右边的表如果符合条件就显示，不符合则补 <code>NULL</code> 。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=c1>-- LEFT JOIN 也叫做 LEFT OUTER JOIN，用这两种方式的查询结果是一样的。
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>person</span><span class=w> </span><span class=k>LEFT</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>card</span><span class=w> </span><span class=k>on</span><span class=w> </span><span class=n>person</span><span class=p>.</span><span class=n>cardId</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>card</span><span class=p>.</span><span class=n>id</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+--------+--------+------+-----------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>id</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>cardId</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>id</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>      </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+--------+--------+------+-----------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>    </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>张三</span><span class=w>   </span><span class=o>|</span><span class=w>      </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w>    </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>饭卡</span><span class=w>      </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>    </span><span class=mi>2</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李四</span><span class=w>   </span><span class=o>|</span><span class=w>      </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w>    </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>农行卡</span><span class=w>    </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>    </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>王五</span><span class=w>   </span><span class=o>|</span><span class=w>      </span><span class=mi>6</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=no>NULL</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=no>NULL</span><span class=w>      </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+--------+--------+------+-----------+</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=右外链接>右外链接</h3><p>完整显示右边的表 ( <code>card</code> ) ，左边的表如果符合条件就显示，不符合则补 <code>NULL</code> 。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>person</span><span class=w> </span><span class=k>RIGHT</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>card</span><span class=w> </span><span class=k>on</span><span class=w> </span><span class=n>person</span><span class=p>.</span><span class=n>cardId</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>card</span><span class=p>.</span><span class=n>id</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+--------+--------+------+-----------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>id</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>cardId</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>id</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>      </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+--------+--------+------+-----------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>    </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>张三</span><span class=w>   </span><span class=o>|</span><span class=w>      </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w>    </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>饭卡</span><span class=w>      </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>    </span><span class=mi>2</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李四</span><span class=w>   </span><span class=o>|</span><span class=w>      </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w>    </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>农行卡</span><span class=w>    </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=no>NULL</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=no>NULL</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=no>NULL</span><span class=w> </span><span class=o>|</span><span class=w>    </span><span class=mi>2</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>建行卡</span><span class=w>    </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=no>NULL</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=no>NULL</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=no>NULL</span><span class=w> </span><span class=o>|</span><span class=w>    </span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>工商卡</span><span class=w>    </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=no>NULL</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=no>NULL</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=no>NULL</span><span class=w> </span><span class=o>|</span><span class=w>    </span><span class=mi>5</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>邮政卡</span><span class=w>    </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+--------+--------+------+-----------+</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=全外链接>全外链接</h3><p>完整显示两张表的全部数据。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=c1>-- MySQL 不支持这种语法的全外连接
</span></span></span><span class=line><span class=cl><span class=c1>-- SELECT * FROM person FULL JOIN card on person.cardId = card.id;
</span></span></span><span class=line><span class=cl><span class=c1>-- 出现错误：
</span></span></span><span class=line><span class=cl><span class=c1>-- ERROR 1054 (42S22): Unknown column &#39;person.cardId&#39; in &#39;on clause&#39;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- MySQL全连接语法，使用 UNION 将两张表合并在一起。
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>person</span><span class=w> </span><span class=k>LEFT</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>card</span><span class=w> </span><span class=k>on</span><span class=w> </span><span class=n>person</span><span class=p>.</span><span class=n>cardId</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>card</span><span class=p>.</span><span class=n>id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>UNION</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>person</span><span class=w> </span><span class=k>RIGHT</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>card</span><span class=w> </span><span class=k>on</span><span class=w> </span><span class=n>person</span><span class=p>.</span><span class=n>cardId</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>card</span><span class=p>.</span><span class=n>id</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+--------+--------+------+-----------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>id</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>cardId</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>id</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=n>name</span><span class=w>      </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+--------+--------+------+-----------+</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>    </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>张三</span><span class=w>   </span><span class=o>|</span><span class=w>      </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w>    </span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>饭卡</span><span class=w>      </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>    </span><span class=mi>2</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>李四</span><span class=w>   </span><span class=o>|</span><span class=w>      </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w>    </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>农行卡</span><span class=w>    </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>    </span><span class=mi>3</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>王五</span><span class=w>   </span><span class=o>|</span><span class=w>      </span><span class=mi>6</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=no>NULL</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=no>NULL</span><span class=w>      </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=no>NULL</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=no>NULL</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=no>NULL</span><span class=w> </span><span class=o>|</span><span class=w>    </span><span class=mi>2</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>建行卡</span><span class=w>    </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=no>NULL</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=no>NULL</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=no>NULL</span><span class=w> </span><span class=o>|</span><span class=w>    </span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>工商卡</span><span class=w>    </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=no>NULL</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=no>NULL</span><span class=w>   </span><span class=o>|</span><span class=w>   </span><span class=no>NULL</span><span class=w> </span><span class=o>|</span><span class=w>    </span><span class=mi>5</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=err>邮政卡</span><span class=w>    </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+------+--------+--------+------+-----------+</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="2023-07-31 14:09:27">更新于 2023-07-31</span></div><div class=post-info-license><span><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="分享到 Twitter" data-sharer=twitter data-url=https://trouvaille0198.github.io/Notes/posts/database/mysql/%E6%9F%A5%E8%AF%A2%E7%BB%83%E4%B9%A0/ data-title="MySQL 查询练习" data-hashtags=数据库,MySQL><i class="fa-brands fa-twitter fa-fw"></i></a>
<a href=javascript:void(0); title="分享到 Facebook" data-sharer=facebook data-url=https://trouvaille0198.github.io/Notes/posts/database/mysql/%E6%9F%A5%E8%AF%A2%E7%BB%83%E4%B9%A0/ data-hashtag=数据库><i class="fa-brands fa-facebook-square fa-fw"></i></a>
<a href=javascript:void(0); title="分享到 微博" data-sharer=weibo data-url=https://trouvaille0198.github.io/Notes/posts/database/mysql/%E6%9F%A5%E8%AF%A2%E7%BB%83%E4%B9%A0/ data-title="MySQL 查询练习"><i class="fa-brands fa-weibo fa-fw"></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw"></i>&nbsp;<a href=/Notes/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/>数据库</a>,&nbsp;<a href=/Notes/tags/mysql/>MySQL</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/Notes/>主页</a></span></section></div><div class=post-nav><a href=/Notes/posts/database/mysql/%E4%BA%8B%E5%8A%A1/ class=prev rel=prev title="MySQL 事务"><i class="fa-solid fa-angle-left fa-fw"></i>MySQL 事务</a>
<a href=/Notes/posts/python/crawler/requests/ class=next rel=next title="reuqest API">reuqest API<i class="fa-solid fa-angle-right fa-fw"></i></a></div></div></article></main><footer class=footer><div class=footer-container><div class="footer-line custom">酒困路长惟欲睡，日高人渴漫思茶</div><div class="footer-line copyright"><i class="fa-regular fa-copyright fa-fw"></i>
<span itemprop=copyrightYear>2022 - 2023</span><span class="license footer-divider"><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div><div class="footer-line statistics"></div></div></footer></div><div class=widgets><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部><i class="fa-solid fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title=查看评论><i class="fa-solid fa-comment fa-fw"></i></a></div><div id=mask></div></div><link rel=stylesheet href=/Notes/lib/katex/katex.min.css><link rel=stylesheet href=/Notes/lib/katex/copy-tex.min.css><link rel=stylesheet href=/Notes/lib/cookieconsent/cookieconsent.min.css><script type=text/javascript src=/Notes/lib/autocomplete/autocomplete.min.js defer></script><script type=text/javascript src=/Notes/lib/algoliasearch/algoliasearch-lite.umd.min.js defer></script><script type=text/javascript src=/Notes/lib/lazysizes/lazysizes.min.js async defer></script><script type=text/javascript src=/Notes/lib/sharer/sharer.min.js async defer></script><script type=text/javascript src=/Notes/lib/katex/katex.min.js defer></script><script type=text/javascript src=/Notes/lib/katex/auto-render.min.js defer></script><script type=text/javascript src=/Notes/lib/katex/copy-tex.min.js defer></script><script type=text/javascript src=/Notes/lib/katex/mhchem.min.js defer></script><script type=text/javascript src=/Notes/lib/cookieconsent/cookieconsent.min.js defer></script><script type=text/javascript>window.config={code:{copyTitle:"复制到剪贴板",editLockTitle:"锁定可编辑代码块",editUnLockTitle:"解锁可编辑代码块",editable:!0,maxShownLines:45},comment:{},cookieconsent:{content:{dismiss:"同意",link:"了解更多",message:"本网站使用 Cookies 来改善您的浏览体验。"},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},enablePWA:!0,math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{algoliaAppID:"7I9AMOLA4S",algoliaIndex:"Notes",algoliaSearchKey:"3c1638dfe9f4d49a59d81ff6943416b8",highlightTag:"em",maxResultLength:30,noResultsFound:"没有找到结果",snippetLength:50,type:"algolia"}}</script><script type=text/javascript src=/Notes/js/theme.min.js defer></script><script type=text/javascript src=/Notes/js/_custom.min.js defer></script></body></html>