<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>Linux shell 编程 - 伤心肠粉的酱油碟子</title><meta name=author content><meta name=author-link content><meta name=description content="shell 编程 认识 环境 Shell 编程跟 JavaScript、php 编程一样，只要有一个能编写代码"><meta name=keywords content="Linux,shell"><meta itemprop=name content="Linux shell 编程"><meta itemprop=description content="shell 编程 认识 环境 Shell 编程跟 JavaScript、php 编程一样，只要有一个能编写代码"><meta itemprop=datePublished content="2021-11-23T00:00:00+00:00"><meta itemprop=dateModified content="2022-09-20T14:07:45+00:00"><meta itemprop=wordCount content="7727"><meta itemprop=image content="https://trouvaille0198.github.io/logo.png"><meta itemprop=keywords content="Linux,shell,"><meta property="og:title" content="Linux shell 编程"><meta property="og:description" content="shell 编程 认识 环境 Shell 编程跟 JavaScript、php 编程一样，只要有一个能编写代码"><meta property="og:type" content="article"><meta property="og:url" content="https://trouvaille0198.github.io/Notes/posts/linux/shell-%E7%BC%96%E7%A8%8B/"><meta property="og:image" content="https://trouvaille0198.github.io/logo.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-11-23T00:00:00+00:00"><meta property="article:modified_time" content="2022-09-20T14:07:45+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://trouvaille0198.github.io/logo.png"><meta name=twitter:title content="Linux shell 编程"><meta name=twitter:description content="shell 编程 认识 环境 Shell 编程跟 JavaScript、php 编程一样，只要有一个能编写代码"><meta name=application-name content="FixIt"><meta name=apple-mobile-web-app-title content="FixIt"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#252627"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://trouvaille0198.github.io/Notes/posts/linux/shell-%E7%BC%96%E7%A8%8B/><link rel=prev href=https://trouvaille0198.github.io/Notes/posts/linux/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/><link rel=next href=https://trouvaille0198.github.io/Notes/posts/courses/%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90/><link rel=stylesheet href=/Notes/lib/normalize/normalize.min.css><link rel=stylesheet href=/Notes/css/style.min.css><link rel=stylesheet href=/Notes/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/Notes/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Linux shell 编程","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/trouvaille0198.github.io\/Notes\/posts\/linux\/shell-%E7%BC%96%E7%A8%8B\/"},"genre":"posts","keywords":"Linux, shell","wordcount":7727,"url":"https:\/\/trouvaille0198.github.io\/Notes\/posts\/linux\/shell-%E7%BC%96%E7%A8%8B\/","datePublished":"2021-11-23T00:00:00+00:00","dateModified":"2022-09-20T14:07:45+00:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"MelonCholi"},"description":""}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/Notes/ title=伤心肠粉的酱油碟子><span class=header-title-text>伤心肠粉</span></a><span class=header-subtitle></span></div><nav><ul class=menu><li class=menu-item><a class=menu-link href=/Notes/categories/>分类</a></li><li class=menu-item><a class=menu-link href=/Notes/tags/>标签</a></li><li class=menu-item><a class=menu-link href=/Notes/posts/>文章</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id=search-desktop><input type=text placeholder="搜索文章标题或内容 ..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fa-solid fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fa-solid fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin"></i></span></li><li class="menu-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw"></i></li></ul></nav></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/Notes/ title=伤心肠粉的酱油碟子><span class=header-title-text>伤心肠粉</span></a><span class=header-subtitle></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="搜索文章标题或内容 ..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fa-solid fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fa-solid fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin"></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></li><li class=menu-item><a class=menu-link href=/Notes/categories/>分类</a></li><li class=menu-item><a class=menu-link href=/Notes/tags/>标签</a></li><li class=menu-item><a class=menu-link href=/Notes/posts/>文章</a></li><li class="menu-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw"></i></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=container page-style=normal><aside class=toc id=toc-auto><h2 class=toc-title>目录 <i class="toc-icon fa-solid fa-angle-down fa-fw"></i></h2><div class="toc-content always-active" id=toc-content-auto></div></aside><aside class=aside-custom></aside><article class="page single"><div class=header><h1 class="single-title animate__animated animate__flipInX"><span>Linux shell 编程</span></h1></div><div class=post-meta><div class=post-meta-line><span class=post-author><span class=author><i class="fa-solid fa-user-circle"></i>
MelonCholi</span></span>
<span class=post-category>收录于 <a href=/Notes/categories/linux/><i class="fa-regular fa-folder fa-fw"></i>&nbsp;Linux</a></span></div><div class=post-meta-line><span title="2021-11-23 00:00:00"><i class="fa-regular fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2021-11-23>2021-11-23</time>
</span>&nbsp;<i class="fa-solid fa-pencil-alt fa-fw"></i>&nbsp;约 7727 字&nbsp;
<i class="fa-regular fa-clock fa-fw"></i>&nbsp;预计阅读 16 分钟&nbsp;</div></div><div class="details toc" id=toc-static kept=false><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fa-solid fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#认识>认识</a><ul><li><a href=#环境>环境</a></li><li><a href=#运行>运行</a><ul><li><a href=#作为可执行程序>作为可执行程序</a></li><li><a href=#作为解释器参数>作为解释器参数</a></li></ul></li></ul></li><li><a href=#变量>变量</a><ul><li><a href=#基本操作>基本操作</a><ul><li><a href=#定义>定义</a></li><li><a href=#使用>使用</a></li><li><a href=#只读变量>只读变量</a></li><li><a href=#删除变量>删除变量</a></li></ul></li><li><a href=#变量类型>变量类型</a></li><li><a href=#数据类型>数据类型</a><ul><li><a href=#字符串>字符串</a><ul><li><a href=#单引号>单引号</a></li><li><a href=#双引号>双引号</a></li><li><a href=#拼接字符串>拼接字符串</a></li><li><a href=#获取字符串长度>获取字符串长度</a></li><li><a href=#提取子字符串>提取子字符串</a></li><li><a href=#查找子字符串>查找子字符串</a></li></ul></li><li><a href=#数组>数组</a><ul><li><a href=#定义-1>定义</a></li><li><a href=#读取数组>读取数组</a></li><li><a href=#获取数组的长度>获取数组的长度</a></li></ul></li></ul></li><li><a href=#环境变量>环境变量</a></li></ul></li><li><a href=#参数>参数</a><ul><li><a href=#参数处理>参数处理</a></li><li><a href=#-与--区别><code>$*</code> 与 <code>$@</code> 区别</a></li></ul></li><li><a href=#操作符>操作符</a><ul><li><a href=#字符串比较操作符>字符串比较操作符</a></li><li><a href=#数字比较操作符>数字比较操作符</a><ul><li><a href=#关系运算符>关系运算符</a></li><li><a href=#expr>expr</a></li></ul></li><li><a href=#文件操作符>文件操作符</a></li><li><a href=#逻辑操作符>逻辑操作符</a></li></ul></li><li><a href=#循环>循环</a><ul><li><a href=#for-语句>for 语句</a><ul><li><a href=#一般格式>一般格式</a></li><li><a href=#in>in</a></li></ul></li><li><a href=#while-语句>while 语句</a><ul><li><a href=#读取键盘信息>读取键盘信息</a></li><li><a href=#无限循环>无限循环</a></li></ul></li><li><a href=#util-语句>util 语句</a></li><li><a href=#repeat-语句>repeat 语句</a></li><li><a href=#select-语句>select 语句</a></li><li><a href=#shift-语句>shift 语句</a></li></ul></li><li><a href=#条件>条件</a><ul><li><a href=#if-语句>if 语句</a><ul><li><a href=#if>if</a></li><li><a href=#if-else>if else</a></li><li><a href=#if-elif-else>if elif else</a></li></ul></li><li><a href=#case-语句>case 语句</a><ul><li><a href=#例>例</a></li></ul></li></ul></li><li><a href=#杂项语句>杂项语句</a><ul><li><a href=#break-和-continue>break 和 continue</a></li><li><a href=#exit-语句>exit 语句</a></li></ul></li><li><a href=#函数>函数</a><ul><li><a href=#函数参数>函数参数</a></li></ul></li><li><a href=#常用命令>常用命令</a><ul><li><a href=#echo>echo</a><ul><li><a href=#显示普通字符串>显示普通字符串:</a></li><li><a href=#显示转义字符>显示转义字符</a></li><li><a href=#显示变量>显示变量</a></li><li><a href=#显示换行>显示换行</a></li><li><a href=#显示不换行>显示不换行</a></li><li><a href=#显示结果定向至文件>显示结果定向至文件</a></li><li><a href=#原样输出字符串不进行转义或取变量用单引号>原样输出字符串，不进行转义或取变量(用单引号)</a></li><li><a href=#显示命令执行结果>显示命令执行结果</a></li></ul></li><li><a href=#printf>printf</a><ul><li><a href=#格式化>格式化</a></li><li><a href=#多种格式>多种格式</a></li><li><a href=#转义序列>转义序列</a></li></ul></li></ul></li><li><a href=#输入--输出重定向>输入 / 输出重定向</a></li></ul></nav></div></div><div class=content id=content><h1 id=shell-编程>shell 编程</h1><h2 id=认识>认识</h2><h3 id=环境>环境</h3><p>Shell 编程跟 JavaScript、php 编程一样，只要有一个能编写代码的文本编辑器和一个能解释执行的脚本解释器就可以了。</p><p>Linux 的 Shell 种类众多，常见的有：</p><ul><li>Bourne Shell（/usr/bin/sh 或/bin/sh）</li><li>Bourne Again Shell（/bin/bash）</li><li>C Shell（/usr/bin/csh）</li><li>K Shell（/usr/bin/ksh）</li><li>Shell for Root（/sbin/sh）</li><li>……</li></ul><p>Bash 是大多数 Linux 系统默认的 Shell。</p><blockquote><p>在一般情况下，人们并不区分 Bourne Shell 和 Bourne Again Shell，所以，像 <strong>#!/bin/sh</strong>，它同样也可以改为 <strong>#!/bin/bash</strong>。</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=nb>echo</span> <span class=s2>&#34;Hello World !&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p><code>#!</code> 告诉系统其后路径所指定的程序即是解释此脚本文件的 Shell 程序。</p><p>Shebang（也称为 Hashbang）是一个由井号和叹号构成的字符串行（<code>#!</code>），其出现在文本文件的第一行的前两个字符。在文件中存在 Shebang 的情况下，类 Unix 操作系统的程序载入器会分析 Shebang 后的内容，将这些内容作为解释器指令，并调用该指令，并将载有 Shebang 的文件路径作为该解释器的参数</p><p>例如, 以指令 <code>#!/bin/sh</code> 开头的文件在执行时会实际调用 /bin/sh 程序</p><h3 id=运行>运行</h3><h4 id=作为可执行程序>作为可执行程序</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>chmod +x ./test.sh  <span class=c1># 使脚本具有执行权限</span>
</span></span><span class=line><span class=cl>./test.sh  <span class=c1># 执行脚本</span>
</span></span></code></pre></td></tr></table></div></div><p>在 linux 中，后缀名几乎是可以任意的或者没有后缀名，一般将 shell 保存为 xxx.sh 是为了看起来更直观</p><blockquote><p>./test.sh 若写成 test.sh，系统会去 PATH 里寻找有没有叫 test.sh 的文件，而只有 /bin, /sbin, /usr/bin，/usr/sbin 等在 PATH 里</p></blockquote><h4 id=作为解释器参数>作为解释器参数</h4><p>这种运行方式是，直接运行解释器，其参数就是 shell 脚本的文件名</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>/bin/sh test.sh
</span></span><span class=line><span class=cl>/bin/php test.php
</span></span></code></pre></td></tr></table></div></div><p>这种方式运行的脚本，不需要在第一行指定解释器信息，写了也没用。</p><h2 id=变量>变量</h2><blockquote><p>变量名和等号之间不能有空格</p></blockquote><h3 id=基本操作>基本操作</h3><h4 id=定义>定义</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nv>your_name</span><span class=o>=</span><span class=s2>&#34;Melon&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>除了显式地直接赋值，还可以用语句给变量赋值，如：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=k>for</span> file in <span class=sb>`</span>ls /etc<span class=sb>`</span>
</span></span><span class=line><span class=cl><span class=c1># 或</span>
</span></span><span class=line><span class=cl><span class=k>for</span> file in <span class=k>$(</span>ls /etc<span class=k>)</span>
</span></span></code></pre></td></tr></table></div></div><p>以上语句将 /etc 下目录的文件名循环出来。</p><h4 id=使用>使用</h4><p>使用一个定义过的变量，只要在变量名前面加美元符号即可，如：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nv>your_name</span><span class=o>=</span><span class=s2>&#34;qinjx&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=nv>$your_name</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=si>${</span><span class=nv>your_name</span><span class=si>}</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>变量名外面的花括号是可选的，加花括号是为了帮助解释器识别变量的边界</p></blockquote><h4 id=只读变量>只读变量</h4><p>使用 readonly 命令可以将变量定义为只读变量，只读变量的值不能被改变。</p><p>下面的例子尝试更改只读变量，结果报错：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=nv>myUrl</span><span class=o>=</span><span class=s2>&#34;https://www.google.com&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>readonly</span> myUrl
</span></span><span class=line><span class=cl><span class=nv>myUrl</span><span class=o>=</span><span class=s2>&#34;https://www.baidu.com&#34;</span> <span class=c1># 此句将报错</span>
</span></span></code></pre></td></tr></table></div></div><p>报错信息：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>/bin/sh: NAME: This variable is <span class=nb>read</span> only.
</span></span></code></pre></td></tr></table></div></div><h4 id=删除变量>删除变量</h4><p>使用 unset 命令可以删除变量。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nb>unset</span> variable_name
</span></span></code></pre></td></tr></table></div></div><p>unset 命令不能删除只读变量。</p><h3 id=变量类型>变量类型</h3><p>运行 shell 时，会同时存在三种变量：</p><ul><li><strong>局部变量</strong>（用户变量）：局部变量在脚本或命令中定义，仅在当前 shell 实例中有效，其他 shell 启动的程序不能访问局部变量。</li><li><strong>环境变量</strong>：所有的程序，包括 shell 启动的程序，都能访问环境变量，有些程序需要环境变量来保证其正常运行。必要的时候 shell 脚本也可以定义环境变量。</li><li><strong>shell 变量</strong>：shell 变量是由 shell 程序设置的特殊变量。shell 变量中有一部分是环境变量，有一部分是局部变量，这些变量保证了 shell 的正常运行</li></ul><h3 id=数据类型>数据类型</h3><h4 id=字符串>字符串</h4><h5 id=单引号>单引号</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nv>str</span><span class=o>=</span><span class=s1>&#39;this is a string&#39;</span>
</span></span></code></pre></td></tr></table></div></div><p>单引号字符串的限制：</p><ul><li>其中任何字符都会原样输出，单引号字符串中的<strong>变量是无效的</strong>；</li><li>其中不能出现单独一个的单引号（对单引号使用转义符后也不行），但可成对出现，作为字符串拼接使用。</li></ul><h5 id=双引号>双引号</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nv>your_name</span><span class=o>=</span><span class=s2>&#34;Melon&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>str</span><span class=o>=</span><span class=s2>&#34;Hello, I know you are \&#34;</span><span class=nv>$your_name</span><span class=s2>\&#34;! \n&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> -e <span class=nv>$str</span>
</span></span></code></pre></td></tr></table></div></div><p>输出结果为：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Hello, I know you are &#34;Melon&#34;! 
</span></span></code></pre></td></tr></table></div></div><p>优点：</p><ul><li>双引号里可以有变量</li><li>双引号里可以出现转义字符</li></ul><h5 id=拼接字符串>拼接字符串</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nv>your_name</span><span class=o>=</span><span class=s2>&#34;Melon&#34;</span>
</span></span><span class=line><span class=cl><span class=c1># 使用双引号拼接</span>
</span></span><span class=line><span class=cl><span class=nv>greeting</span><span class=o>=</span><span class=s2>&#34;hello, &#34;</span><span class=nv>$your_name</span><span class=s2>&#34; !&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>greeting_1</span><span class=o>=</span><span class=s2>&#34;hello, </span><span class=si>${</span><span class=nv>your_name</span><span class=si>}</span><span class=s2> !&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=nv>$greeting</span>  <span class=nv>$greeting_1</span>
</span></span><span class=line><span class=cl><span class=c1># 使用单引号拼接</span>
</span></span><span class=line><span class=cl><span class=nv>greeting_2</span><span class=o>=</span><span class=s1>&#39;hello, &#39;</span><span class=nv>$your_name</span><span class=s1>&#39; !&#39;</span>
</span></span><span class=line><span class=cl><span class=nv>greeting_3</span><span class=o>=</span><span class=s1>&#39;hello, ${your_name} !&#39;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=nv>$greeting_2</span>  <span class=nv>$greeting_3</span>
</span></span></code></pre></td></tr></table></div></div><p>输出结果为：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>hello, Melon ! hello, Melon !
</span></span><span class=line><span class=cl>hello, Melon ! hello, ${your_name} !
</span></span></code></pre></td></tr></table></div></div><h5 id=获取字符串长度>获取字符串长度</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nv>string</span><span class=o>=</span><span class=s2>&#34;abcd&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=si>${#</span><span class=nv>string</span><span class=si>}</span> <span class=c1># 输出4</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=提取子字符串>提取子字符串</h5><p>以下实例从字符串第 <strong>2</strong> 个字符开始截取 <strong>4</strong> 个字符：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nv>string</span><span class=o>=</span><span class=s2>&#34;runoob is a great site&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=si>${</span><span class=nv>string</span><span class=p>:</span><span class=nv>1</span><span class=p>:</span><span class=nv>4</span><span class=si>}</span> <span class=c1># 输出 unoo</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>第一个字符的索引值为 <strong>0</strong></p></blockquote><h5 id=查找子字符串>查找子字符串</h5><p>查找字符 <strong>i</strong> 或 <strong>o</strong> 的位置(哪个字母先出现就计算哪个)：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nv>string</span><span class=o>=</span><span class=s2>&#34;runoob is a great site&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=sb>`</span>expr index <span class=s2>&#34;</span><span class=nv>$string</span><span class=s2>&#34;</span> io<span class=sb>`</span>  <span class=c1># 输出4</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=数组>数组</h4><h5 id=定义-1>定义</h5><p>bash 支持一维数组（不支持多维数组），并且没有限定数组的大小</p><p>在 Shell 中，用括号来表示数组，数组元素用"空格"符号分割开。定义数组的一般形式为：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nv>array_name</span><span class=o>=(</span>value0 value1 value2 value3<span class=o>)</span>
</span></span></code></pre></td></tr></table></div></div><p>或者</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nv>array_name</span><span class=o>=(</span>
</span></span><span class=line><span class=cl>value0
</span></span><span class=line><span class=cl>value1
</span></span><span class=line><span class=cl>value2
</span></span><span class=line><span class=cl>value3
</span></span><span class=line><span class=cl><span class=o>)</span>
</span></span></code></pre></td></tr></table></div></div><p>还可以单独定义数组的各个分量：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>array_name<span class=o>[</span>0<span class=o>]=</span>value0
</span></span><span class=line><span class=cl>array_name<span class=o>[</span>1<span class=o>]=</span>value1
</span></span><span class=line><span class=cl>array_name<span class=o>[</span>n<span class=o>]=</span>valuen
</span></span></code></pre></td></tr></table></div></div><p>可以不使用连续的下标，而且下标的范围没有限制。</p><h5 id=读取数组>读取数组</h5><p>读取数组元素值的一般格式是：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nv>valuen</span><span class=o>=</span><span class=si>${</span><span class=nv>array_name</span><span class=p>[n]</span><span class=si>}</span>
</span></span></code></pre></td></tr></table></div></div><p>使用 <strong>@</strong> 符号可以获取数组中的所有元素</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nb>echo</span> <span class=si>${</span><span class=nv>array_name</span><span class=p>[@]</span><span class=si>}</span>
</span></span><span class=line><span class=cl><span class=c1># or</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=si>${</span><span class=nv>array_name</span><span class=p>[*]</span><span class=si>}</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=获取数组的长度>获取数组的长度</h5><p>获取数组长度的方法与获取字符串长度的方法相同，例如：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># 取得数组元素的个数</span>
</span></span><span class=line><span class=cl><span class=nv>length</span><span class=o>=</span><span class=si>${#</span><span class=nv>array_name</span><span class=p>[@]</span><span class=si>}</span>
</span></span><span class=line><span class=cl><span class=c1># 或者</span>
</span></span><span class=line><span class=cl><span class=nv>length</span><span class=o>=</span><span class=si>${#</span><span class=nv>array_name</span><span class=p>[*]</span><span class=si>}</span>
</span></span><span class=line><span class=cl><span class=c1># 取得数组单个元素的长度</span>
</span></span><span class=line><span class=cl><span class=nv>lengthn</span><span class=o>=</span><span class=si>${#</span><span class=nv>array_name</span><span class=p>[n]</span><span class=si>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=环境变量>环境变量</h3><h2 id=参数>参数</h2><p>脚本内获取参数的格式为：<strong>$n</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;Shell 传递参数实例！&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;执行的文件名：</span><span class=nv>$0</span><span class=s2>&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;第一个参数为：</span><span class=nv>$1</span><span class=s2>&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;第二个参数为：</span><span class=nv>$2</span><span class=s2>&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;第三个参数为：</span><span class=nv>$3</span><span class=s2>&#34;</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ chmod +x test.sh 
</span></span><span class=line><span class=cl>$ ./test.sh <span class=m>1</span> <span class=m>2</span> <span class=m>3</span>
</span></span><span class=line><span class=cl>Shell 传递参数实例！
</span></span><span class=line><span class=cl>执行的文件名：./test.sh
</span></span><span class=line><span class=cl>第一个参数为：1
</span></span><span class=line><span class=cl>第二个参数为：2
</span></span><span class=line><span class=cl>第三个参数为：3
</span></span></code></pre></td></tr></table></div></div><h3 id=参数处理>参数处理</h3><table><thead><tr><th style=text-align:left>参数处理</th><th style=text-align:left>说明</th></tr></thead><tbody><tr><td style=text-align:left><code>$#</code></td><td style=text-align:left>传递到脚本的参数个数</td></tr><tr><td style=text-align:left><code>$*</code></td><td style=text-align:left>命令行中所有参数。 如 <code>"$*"</code> 用「"」括起来的情况、以 <code>"$1 $2 … $n"</code> 的形式输出所有参数。</td></tr><tr><td style=text-align:left><code>$$</code></td><td style=text-align:left>脚本运行的当前进程 ID 号</td></tr><tr><td style=text-align:left><code>$!</code></td><td style=text-align:left>后台运行的最后一个进程的 ID 号</td></tr><tr><td style=text-align:left><code>$@</code></td><td style=text-align:left>与 <code>$*</code> 相同，但是使用时加引号，并在引号中返回每个参数。 如 <code>"$@"</code> 用「"」括起来的情况、以<code>"$1" "$2" … "$n"</code> 的形式输出所有参数。</td></tr><tr><td style=text-align:left><code>$-</code></td><td style=text-align:left>显示 Shell 使用的当前选项，与 set 命令功能相同。</td></tr><tr><td style=text-align:left><code>$?</code></td><td style=text-align:left>显示最后命令的退出状态。0 表示没有错误，其他任何值表明有错误。</td></tr></tbody></table><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=c1># author:菜鸟教程</span>
</span></span><span class=line><span class=cl><span class=c1># url:www.runoob.com</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;Shell 传递参数实例！&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;第一个参数为：</span><span class=nv>$1</span><span class=s2>&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;参数个数为：</span><span class=nv>$#</span><span class=s2>&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;传递的参数作为一个字符串显示：</span><span class=nv>$*</span><span class=s2>&#34;</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><p>执行与输出</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ chmod +x test.sh 
</span></span><span class=line><span class=cl>$ ./test.sh <span class=m>1</span> <span class=m>2</span> <span class=m>3</span>
</span></span><span class=line><span class=cl>Shell 传递参数实例！
</span></span><span class=line><span class=cl>第一个参数为：1
</span></span><span class=line><span class=cl>参数个数为：3
</span></span><span class=line><span class=cl>传递的参数作为一个字符串显示：1 <span class=m>2</span> <span class=m>3</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=-与--区别><code>$*</code> 与 <code>$@</code> 区别</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=c1># author:菜鸟教程</span>
</span></span><span class=line><span class=cl><span class=c1># url:www.runoob.com</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;-- \$* 演示 ---&#34;</span>
</span></span><span class=line><span class=cl><span class=k>for</span> i in <span class=s2>&#34;</span><span class=nv>$*</span><span class=s2>&#34;</span><span class=p>;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=nv>$i</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;-- \$@ 演示 ---&#34;</span>
</span></span><span class=line><span class=cl><span class=k>for</span> i in <span class=s2>&#34;</span><span class=nv>$@</span><span class=s2>&#34;</span><span class=p>;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=nv>$i</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></td></tr></table></div></div><p>执行脚本，输出结果如下所示：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>$ chmod +x test.sh 
</span></span><span class=line><span class=cl>$ ./test.sh 1 2 3
</span></span><span class=line><span class=cl>-- $* 演示 ---
</span></span><span class=line><span class=cl>1 2 3
</span></span><span class=line><span class=cl>-- $@ 演示 ---
</span></span><span class=line><span class=cl>1
</span></span><span class=line><span class=cl>2
</span></span><span class=line><span class=cl>3
</span></span></code></pre></td></tr></table></div></div><h2 id=操作符>操作符</h2><p>原生 bash 不支持简单的数学运算，但是可以通过其他命令来实现，例如 awk 和 expr</p><ul><li><p>原生的<strong>运算式</strong>格式：<code>$[ 运算式 ]</code>，注意中括号间用空格隔开</p></li><li><p>expr 是一款表达式计算工具，使用它能完成表达式的求值操作。</p><ul><li>表达式和运算符之间要有空格，例如 2+2 是不对的，必须写成 2 + 2</li><li>完整的表达式要被 `` 包含，注意这个字符不是常用的单引号，在 Esc 键下边。</li></ul></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># 第1种方式 $(()) </span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=k>$((</span><span class=o>(</span><span class=m>2</span><span class=o>+</span><span class=m>3</span><span class=o>)*</span><span class=m>4</span><span class=k>))</span>   
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 第2种方式 $[]，推荐 </span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> $<span class=o>[(</span>2+3<span class=o>)</span>*4<span class=o>]</span>  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 使用 expr </span>
</span></span><span class=line><span class=cl><span class=nv>TEMP</span><span class=o>=</span><span class=sb>`</span>expr <span class=m>2</span> + 3<span class=sb>`</span> 
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=sb>`</span>expr <span class=nv>$TEMP</span> <span class=se>\*</span> 4<span class=sb>`</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=字符串比较操作符>字符串比较操作符</h3><table><thead><tr><th style=text-align:left>运算符</th><th style=text-align:left>说明</th><th style=text-align:left>举例</th></tr></thead><tbody><tr><td style=text-align:left>=</td><td style=text-align:left>检测两个字符串是否相等，相等返回 true。</td><td style=text-align:left><code>[ $a = $b ]</code> 返回 false。</td></tr><tr><td style=text-align:left>!=</td><td style=text-align:left>检测两个字符串是否不相等，不相等返回 true。</td><td style=text-align:left><code>[ $a != $b ]</code> 返回 true。</td></tr><tr><td style=text-align:left>-z</td><td style=text-align:left>检测字符串长度是否为 0，为 0 返回 true。</td><td style=text-align:left><code>[ -z $a ]</code> 返回 false。</td></tr><tr><td style=text-align:left>-n</td><td style=text-align:left>检测字符串长度是否不为 0，不为 0 返回 true。</td><td style=text-align:left><code>[ -n "$a" ]</code> 返回 true。</td></tr><tr><td style=text-align:left>$</td><td style=text-align:left>检测字符串是否为空，不为空返回 true。</td><td style=text-align:left></td></tr></tbody></table><h3 id=数字比较操作符>数字比较操作符</h3><h4 id=关系运算符>关系运算符</h4><table><thead><tr><th style=text-align:left>运算符</th><th style=text-align:left>说明</th><th style=text-align:left>举例</th></tr></thead><tbody><tr><td style=text-align:left>-eq</td><td style=text-align:left>检测两个数是否相等，相等返回 true。</td><td style=text-align:left><code>[ $a -eq $b ]</code> 返回 false。</td></tr><tr><td style=text-align:left>-ne</td><td style=text-align:left>检测两个数是否不相等，不相等返回 true。</td><td style=text-align:left><code>[ $a -ne $b ]</code> 返回 true。</td></tr><tr><td style=text-align:left>-gt</td><td style=text-align:left>检测左边的数是否大于右边的，如果是，则返回 true。</td><td style=text-align:left><code>[ $a -gt $b ]</code> 返回 false。</td></tr><tr><td style=text-align:left>-lt</td><td style=text-align:left>检测左边的数是否小于右边的，如果是，则返回 true。</td><td style=text-align:left><code>[ $a -lt $b ]</code> 返回 true。</td></tr><tr><td style=text-align:left>-ge</td><td style=text-align:left>检测左边的数是否大于等于右边的，如果是，则返回 true。</td><td style=text-align:left><code>[ $a -ge $b ]</code> 返回 false。</td></tr><tr><td style=text-align:left>-le</td><td style=text-align:left>检测左边的数是否小于等于右边的，如果是，则返回 true。</td><td style=text-align:left><code>[ $a -le $b ]</code> 返回 true。</td></tr></tbody></table><h4 id=expr>expr</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=c1># author:菜鸟教程</span>
</span></span><span class=line><span class=cl><span class=c1># url:www.runoob.com</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>a</span><span class=o>=</span><span class=m>10</span>
</span></span><span class=line><span class=cl><span class=nv>b</span><span class=o>=</span><span class=m>20</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>val</span><span class=o>=</span><span class=sb>`</span>expr <span class=nv>$a</span> + <span class=nv>$b</span><span class=sb>`</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;a + b : </span><span class=nv>$val</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>val</span><span class=o>=</span><span class=sb>`</span>expr <span class=nv>$a</span> - <span class=nv>$b</span><span class=sb>`</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;a - b : </span><span class=nv>$val</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>val</span><span class=o>=</span><span class=sb>`</span>expr <span class=nv>$a</span> <span class=se>\*</span> <span class=nv>$b</span><span class=sb>`</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;a * b : </span><span class=nv>$val</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>val</span><span class=o>=</span><span class=sb>`</span>expr <span class=nv>$b</span> / <span class=nv>$a</span><span class=sb>`</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;b / a : </span><span class=nv>$val</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>val</span><span class=o>=</span><span class=sb>`</span>expr <span class=nv>$b</span> % <span class=nv>$a</span><span class=sb>`</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;b % a : </span><span class=nv>$val</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> <span class=nv>$a</span> <span class=o>==</span> <span class=nv>$b</span> <span class=o>]</span>
</span></span><span class=line><span class=cl><span class=k>then</span>
</span></span><span class=line><span class=cl>   <span class=nb>echo</span> <span class=s2>&#34;a 等于 b&#34;</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> <span class=nv>$a</span> !<span class=o>=</span> <span class=nv>$b</span> <span class=o>]</span>
</span></span><span class=line><span class=cl><span class=k>then</span>
</span></span><span class=line><span class=cl>   <span class=nb>echo</span> <span class=s2>&#34;a 不等于 b&#34;</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>乘号(*)前边必须加反斜杠()才能实现乘法运算</p></blockquote><h3 id=文件操作符>文件操作符</h3><table><thead><tr><th style=text-align:left>操作符</th><th style=text-align:left>说明</th><th style=text-align:left>举例</th></tr></thead><tbody><tr><td style=text-align:left>-b file</td><td style=text-align:left>检测文件是否是<strong>块设备文件</strong>，如果是，则返回 true</td><td style=text-align:left><code>[ -b $file ]</code></td></tr><tr><td style=text-align:left>-c file</td><td style=text-align:left>检测文件是否是<strong>字符设备文件</strong>，如果是，则返回 true</td><td style=text-align:left><code>[ -c $file ]</code></td></tr><tr><td style=text-align:left><strong>-d file</strong></td><td style=text-align:left>检测文件是否是<strong>目录</strong>，如果是，则返回 true</td><td style=text-align:left><code>[ -d $file ]</code></td></tr><tr><td style=text-align:left><strong>-f file</strong></td><td style=text-align:left>检测文件是否是<strong>普通文件</strong>（非目录，非设备文件），若是，则返回 true</td><td style=text-align:left><code>[ -f $file ]</code></td></tr><tr><td style=text-align:left>-g file</td><td style=text-align:left>检测文件是否<strong>设置了 SGID 位</strong>，如果是，则返回 true</td><td style=text-align:left><code>[ -g $file ]</code></td></tr><tr><td style=text-align:left>-k file</td><td style=text-align:left>检测文件是否<strong>设置了粘着位 (Sticky Bit)</strong>，如果是，则返回 true</td><td style=text-align:left><code>[ -k $file ]</code></td></tr><tr><td style=text-align:left>-p file</td><td style=text-align:left>检测文件是否是<strong>有名管道</strong>，如果是，则返回 true</td><td style=text-align:left><code>[ -p $file ]</code></td></tr><tr><td style=text-align:left>-u file</td><td style=text-align:left>检测文件是否<strong>设置了 SUID 位</strong>，如果是，则返回 true</td><td style=text-align:left><code>[ -u $file ]</code></td></tr><tr><td style=text-align:left><strong>-r file</strong></td><td style=text-align:left>检测文件是否<strong>可读</strong>，如果是，则返回 true</td><td style=text-align:left><code>[ -r $file ]</code></td></tr><tr><td style=text-align:left><strong>-w file</strong></td><td style=text-align:left>检测文件是否<strong>可写</strong>，如果是，则返回 true</td><td style=text-align:left><code>[ -w $file ]</code></td></tr><tr><td style=text-align:left><strong>-x file</strong></td><td style=text-align:left>检测文件是否<strong>可执行</strong>，如果是，则返回 true</td><td style=text-align:left><code>[ -x $file ]</code></td></tr><tr><td style=text-align:left><strong>-s file</strong></td><td style=text-align:left>检测文件是否<strong>为空</strong>（文件大小是否大于 0），不为空返回 true</td><td style=text-align:left><code>[ -s $file ]</code></td></tr><tr><td style=text-align:left>-e file</td><td style=text-align:left>检测文件（包括目录）是否<strong>存在</strong>，如果是，则返回 true</td><td style=text-align:left><code>[ -e $file ]</code></td></tr></tbody></table><p>其他检查符：</p><ul><li><strong>-S</strong>：判断某文件是否 socket。</li><li><strong>-L</strong>：检测文件是否存在并且是一个符号链接。</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=c1># author:菜鸟教程</span>
</span></span><span class=line><span class=cl><span class=c1># url:www.runoob.com</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>file</span><span class=o>=</span><span class=s2>&#34;/var/www/runoob/test.sh&#34;</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> -r <span class=nv>$file</span> <span class=o>]</span>
</span></span><span class=line><span class=cl><span class=k>then</span>
</span></span><span class=line><span class=cl>   <span class=nb>echo</span> <span class=s2>&#34;文件可读&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>   <span class=nb>echo</span> <span class=s2>&#34;文件不可读&#34;</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> -w <span class=nv>$file</span> <span class=o>]</span>
</span></span><span class=line><span class=cl><span class=k>then</span>
</span></span><span class=line><span class=cl>   <span class=nb>echo</span> <span class=s2>&#34;文件可写&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>   <span class=nb>echo</span> <span class=s2>&#34;文件不可写&#34;</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> -x <span class=nv>$file</span> <span class=o>]</span>
</span></span><span class=line><span class=cl><span class=k>then</span>
</span></span><span class=line><span class=cl>   <span class=nb>echo</span> <span class=s2>&#34;文件可执行&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>   <span class=nb>echo</span> <span class=s2>&#34;文件不可执行&#34;</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> -f <span class=nv>$file</span> <span class=o>]</span>
</span></span><span class=line><span class=cl><span class=k>then</span>
</span></span><span class=line><span class=cl>   <span class=nb>echo</span> <span class=s2>&#34;文件为普通文件&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>   <span class=nb>echo</span> <span class=s2>&#34;文件为特殊文件&#34;</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> -d <span class=nv>$file</span> <span class=o>]</span>
</span></span><span class=line><span class=cl><span class=k>then</span>
</span></span><span class=line><span class=cl>   <span class=nb>echo</span> <span class=s2>&#34;文件是个目录&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>   <span class=nb>echo</span> <span class=s2>&#34;文件不是个目录&#34;</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> -s <span class=nv>$file</span> <span class=o>]</span>
</span></span><span class=line><span class=cl><span class=k>then</span>
</span></span><span class=line><span class=cl>   <span class=nb>echo</span> <span class=s2>&#34;文件不为空&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>   <span class=nb>echo</span> <span class=s2>&#34;文件为空&#34;</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> -e <span class=nv>$file</span> <span class=o>]</span>
</span></span><span class=line><span class=cl><span class=k>then</span>
</span></span><span class=line><span class=cl>   <span class=nb>echo</span> <span class=s2>&#34;文件存在&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>   <span class=nb>echo</span> <span class=s2>&#34;文件不存在&#34;</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=逻辑操作符>逻辑操作符</h3><table><thead><tr><th style=text-align:left>运算符</th><th style=text-align:left>说明</th><th style=text-align:left>举例</th></tr></thead><tbody><tr><td style=text-align:left>!</td><td style=text-align:left>非运算，表达式为 true 则返回 false，否则返回 true。</td><td style=text-align:left><code>[ ! false ]</code> 返回 true。</td></tr><tr><td style=text-align:left>-o</td><td style=text-align:left>或运算，有一个表达式为 true 则返回 true。</td><td style=text-align:left><code>[ $a -lt 20 -o $b -gt 100 ]</code> 返回 true。</td></tr><tr><td style=text-align:left>-a</td><td style=text-align:left>与运算，两个表达式都为 true 才返回 true。</td><td style=text-align:left><code>[ $a -lt 20 -a $b -gt 100 ]</code> 返回 false。</td></tr></tbody></table><table><thead><tr><th style=text-align:left>运算符</th><th style=text-align:left>说明</th><th style=text-align:left>举例</th></tr></thead><tbody><tr><td style=text-align:left>&&</td><td style=text-align:left>逻辑的 AND</td><td style=text-align:left><code>[[ $a -lt 100 && $b -gt 100 ]]</code> 返回 false</td></tr><tr><td style=text-align:left>||</td><td style=text-align:left>逻辑的 OR</td><td style=text-align:left>`[[ $a -lt 100</td></tr></tbody></table><h2 id=循环>循环</h2><h3 id=for-语句>for 语句</h3><h4 id=一般格式>一般格式</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=k>for</span><span class=o>((</span>assignment<span class=p>;</span>condition:next<span class=o>))</span><span class=p>;</span><span class=k>do</span>
</span></span><span class=line><span class=cl>    command_1<span class=p>;</span>
</span></span><span class=line><span class=cl>    command_2<span class=p>;</span>
</span></span><span class=line><span class=cl>    commond_..<span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>done</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>for</span><span class=o>((</span><span class=nv>i</span><span class=o>=</span>1<span class=p>;</span>i&lt;<span class=o>=</span>5<span class=p>;</span>i++<span class=o>))</span><span class=p>;</span><span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;这是第 </span><span class=nv>$i</span><span class=s2> 次调用&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>done</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=in>in</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=k>for</span> var in item1 item2 ... itemN
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>    command1
</span></span><span class=line><span class=cl>    command2
</span></span><span class=line><span class=cl>    ...
</span></span><span class=line><span class=cl>    commandN
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></td></tr></table></div></div><p>写成一行：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=k>for</span> var in item1 item2 ... itemN<span class=p>;</span> <span class=k>do</span> command1<span class=p>;</span> command2… <span class=k>done</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=while-语句>while 语句</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=k>while</span> condition
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=nb>command</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=nv>int</span><span class=o>=</span><span class=m>1</span>
</span></span><span class=line><span class=cl><span class=k>while</span><span class=o>((</span> <span class=nv>$int</span>&lt;<span class=o>=</span><span class=m>5</span> <span class=o>))</span>
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=nv>$int</span>
</span></span><span class=line><span class=cl>    <span class=nb>let</span> <span class=s2>&#34;int++&#34;</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>以上实例使用了 Bash let 命令，它用于执行一个或多个表达式，变量计算中不需要加上 $ 来表示变量</p></blockquote><h4 id=读取键盘信息>读取键盘信息</h4><p>while 循环可用于读取键盘信息。下面的例子中，输入信息被设置为变量 FILM，按 &lt;Ctrl-D>结束循环</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;按下 &lt;CTRL-D&gt; 退出&#39;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> -n <span class=s1>&#39;输入你最喜欢的电影名: &#39;</span>
</span></span><span class=line><span class=cl><span class=k>while</span> <span class=nb>read</span> FILM
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;是的！</span><span class=nv>$FILM</span><span class=s2> 是一部好电影&#34;</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=无限循环>无限循环</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=k>while</span> :
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=nb>command</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></td></tr></table></div></div><p>或者</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=k>while</span> <span class=nb>true</span>
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=nb>command</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></td></tr></table></div></div><p>或者</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=k>for</span> <span class=o>((</span> <span class=p>;</span> <span class=p>;</span> <span class=o>))</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=util-语句>util 语句</h3><p>until 循环执行一系列命令直至条件为 true 时停止。</p><p>until 循环与 while 循环在处理方式上刚好相反。</p><p>一般 while 循环优于 until 循环，但在某些时候—也只是极少数情况下，until 循环更加有用。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=k>until</span> condition
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=nb>command</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></td></tr></table></div></div><p>condition 一般为条件表达式，如果返回值为 false，则继续执行循环体内的语句，否则跳出循环。</p><p>使用 until 命令来输出 0 ~ 9 的数字：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=nv>a</span><span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>until</span> <span class=o>[</span> ! <span class=nv>$a</span> -lt <span class=m>10</span> <span class=o>]</span>
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>   <span class=nb>echo</span> <span class=nv>$a</span>
</span></span><span class=line><span class=cl>   <span class=nv>a</span><span class=o>=</span><span class=sb>`</span>expr <span class=nv>$a</span> + 1<span class=sb>`</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=repeat-语句>repeat 语句</h3><p>repeat 语句用来执行一个只要重复固定次数的语句</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># 显示连字符60次</span>
</span></span><span class=line><span class=cl>repeat <span class=m>60</span> <span class=nb>echo</span> <span class=s1>&#39;-&#39;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=select-语句>select 语句</h3><p>select 语句用来生成一个菜单列表</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=k>select</span> item in itemlist
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>	statement
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=nb>echo</span> <span class=s2>&#34;What is your favourite OS?&#34;</span>
</span></span><span class=line><span class=cl><span class=k>select</span> name in <span class=s2>&#34;Linux&#34;</span> <span class=s2>&#34;Windows&#34;</span> <span class=s2>&#34;Mac OS&#34;</span> <span class=s2>&#34;UNIX&#34;</span> <span class=s2>&#34;Android&#34;</span>
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=nv>$name</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;You have selected </span><span class=nv>$name</span><span class=s2>&#34;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=shift-语句>shift 语句</h3><p>位置参数可以用 <code>shift</code> 命令左移。比如 <code>shift 3</code> 表示原来的 <code>$4</code> 现在变成 <code>$1</code>，原来的 <code>$5</code> 现在变成 <code>$2</code> 等等，原来的 <code>$1</code>、<code>$2</code>、<code>$3</code> 丢弃，<code>$0</code> 不移动。不带参数的 <code>shift</code> 命令相当于 <code>shift 1</code>。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>until</span> <span class=o>[</span> <span class=nv>$#</span> -eq <span class=m>0</span> <span class=o>]</span>
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>	<span class=nb>echo</span> <span class=s2>&#34;第一个参数为: </span><span class=nv>$1</span><span class=s2> 参数个数为: </span><span class=nv>$#</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>	<span class=nb>shift</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>执行以上程序x_shift.sh：
</span></span><span class=line><span class=cl>$./x_shift.sh <span class=m>1</span> <span class=m>2</span> <span class=m>3</span> <span class=m>4</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>第一个参数为: <span class=m>1</span> 参数个数为: <span class=m>4</span>
</span></span><span class=line><span class=cl>第一个参数为: <span class=m>2</span> 参数个数为: <span class=m>3</span>
</span></span><span class=line><span class=cl>第一个参数为: <span class=m>3</span> 参数个数为: <span class=m>2</span>
</span></span><span class=line><span class=cl>第一个参数为: <span class=m>4</span> 参数个数为: <span class=m>1</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=条件>条件</h2><h3 id=if-语句>if 语句</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nv>a</span><span class=o>=</span><span class=m>10</span>
</span></span><span class=line><span class=cl><span class=nv>b</span><span class=o>=</span><span class=m>20</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> <span class=nv>$a</span> <span class=o>==</span> <span class=nv>$b</span> <span class=o>]</span>
</span></span><span class=line><span class=cl><span class=k>then</span>
</span></span><span class=line><span class=cl>   <span class=nb>echo</span> <span class=s2>&#34;a 等于 b&#34;</span>
</span></span><span class=line><span class=cl><span class=k>elif</span> <span class=o>[</span> <span class=nv>$a</span> -gt <span class=nv>$b</span> <span class=o>]</span>
</span></span><span class=line><span class=cl><span class=k>then</span>
</span></span><span class=line><span class=cl>   <span class=nb>echo</span> <span class=s2>&#34;a 大于 b&#34;</span>
</span></span><span class=line><span class=cl><span class=k>elif</span> <span class=o>[</span> <span class=nv>$a</span> -lt <span class=nv>$b</span> <span class=o>]</span>
</span></span><span class=line><span class=cl><span class=k>then</span>
</span></span><span class=line><span class=cl>   <span class=nb>echo</span> <span class=s2>&#34;a 小于 b&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>   <span class=nb>echo</span> <span class=s2>&#34;没有符合的条件&#34;</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=if>if</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=k>if</span> condition
</span></span><span class=line><span class=cl><span class=k>then</span>
</span></span><span class=line><span class=cl>    command1 
</span></span><span class=line><span class=cl>    command2
</span></span><span class=line><span class=cl>    ...
</span></span><span class=line><span class=cl>    commandN 
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span></code></pre></td></tr></table></div></div><p>写成一行</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> <span class=k>$(</span>ps -ef <span class=p>|</span> grep -c <span class=s2>&#34;ssh&#34;</span><span class=k>)</span> -gt <span class=m>1</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span> <span class=nb>echo</span> <span class=s2>&#34;true&#34;</span><span class=p>;</span> <span class=k>fi</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=if-else>if else</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=k>if</span> condition
</span></span><span class=line><span class=cl><span class=k>then</span>
</span></span><span class=line><span class=cl>    command1 
</span></span><span class=line><span class=cl>    command2
</span></span><span class=line><span class=cl>    ...
</span></span><span class=line><span class=cl>    commandN
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>    <span class=nb>command</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=if-elif-else>if elif else</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=k>if</span> condition1
</span></span><span class=line><span class=cl><span class=k>then</span>
</span></span><span class=line><span class=cl>    command1
</span></span><span class=line><span class=cl><span class=k>elif</span> condition2 
</span></span><span class=line><span class=cl><span class=k>then</span> 
</span></span><span class=line><span class=cl>    command2
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>    commandN
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=case-语句>case 语句</h3><p><strong>case &mldr; esac</strong> 为多选择语句，与其他语言中的 switch &mldr; case 语句类似，是一种多分枝选择结构</p><ul><li>每个 case 分支用右圆括号开始</li><li>用两个分号 <strong>;;</strong> 表示 break，即执行结束，跳出整个 case &mldr; esac 语句</li><li>esac（就是 case 反过来）作为结束标记。</li></ul><p>可以用 case 语句匹配一个值与一个模式，如果匹配成功，执行相匹配的命令。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=k>case</span> 值 in
</span></span><span class=line><span class=cl>模式1<span class=o>)</span>
</span></span><span class=line><span class=cl>    command1
</span></span><span class=line><span class=cl>    command2
</span></span><span class=line><span class=cl>    ...
</span></span><span class=line><span class=cl>    commandN
</span></span><span class=line><span class=cl>    <span class=p>;;</span>
</span></span><span class=line><span class=cl>模式2）
</span></span><span class=line><span class=cl>    command1
</span></span><span class=line><span class=cl>    command2
</span></span><span class=line><span class=cl>    ...
</span></span><span class=line><span class=cl>    commandN
</span></span><span class=line><span class=cl>    <span class=p>;;</span>
</span></span><span class=line><span class=cl><span class=k>esac</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>如果无一匹配模式，使用星号 * 捕获该值，再执行后面的命令。</p></blockquote><h4 id=例>例</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;输入 1 到 4 之间的数字:&#39;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;你输入的数字为:&#39;</span>
</span></span><span class=line><span class=cl><span class=nb>read</span> aNum
</span></span><span class=line><span class=cl><span class=k>case</span> <span class=nv>$aNum</span> in
</span></span><span class=line><span class=cl>    1<span class=o>)</span>  <span class=nb>echo</span> <span class=s1>&#39;你选择了 1&#39;</span>
</span></span><span class=line><span class=cl>    <span class=p>;;</span>
</span></span><span class=line><span class=cl>    2<span class=o>)</span>  <span class=nb>echo</span> <span class=s1>&#39;你选择了 2&#39;</span>
</span></span><span class=line><span class=cl>    <span class=p>;;</span>
</span></span><span class=line><span class=cl>    3<span class=o>)</span>  <span class=nb>echo</span> <span class=s1>&#39;你选择了 3&#39;</span>
</span></span><span class=line><span class=cl>    <span class=p>;;</span>
</span></span><span class=line><span class=cl>    4<span class=o>)</span>  <span class=nb>echo</span> <span class=s1>&#39;你选择了 4&#39;</span>
</span></span><span class=line><span class=cl>    <span class=p>;;</span>
</span></span><span class=line><span class=cl>    *<span class=o>)</span>  <span class=nb>echo</span> <span class=s1>&#39;你没有输入 1 到 4 之间的数字&#39;</span>
</span></span><span class=line><span class=cl>    <span class=p>;;</span>
</span></span><span class=line><span class=cl><span class=k>esac</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=cp>#!/bin/sh
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=nv>site</span><span class=o>=</span><span class=s2>&#34;github&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>case</span> <span class=s2>&#34;</span><span class=nv>$site</span><span class=s2>&#34;</span> in
</span></span><span class=line><span class=cl>   <span class=s2>&#34;github&#34;</span><span class=o>)</span> <span class=nb>echo</span> <span class=s2>&#34;GitHub&#34;</span>
</span></span><span class=line><span class=cl>   <span class=p>;;</span>
</span></span><span class=line><span class=cl>   <span class=s2>&#34;google&#34;</span><span class=o>)</span> <span class=nb>echo</span> <span class=s2>&#34;Google 搜索&#34;</span>
</span></span><span class=line><span class=cl>   <span class=p>;;</span>
</span></span><span class=line><span class=cl>   <span class=s2>&#34;taobao&#34;</span><span class=o>)</span> <span class=nb>echo</span> <span class=s2>&#34;淘宝网&#34;</span>
</span></span><span class=line><span class=cl>   <span class=p>;;</span>
</span></span><span class=line><span class=cl><span class=k>esac</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=杂项语句>杂项语句</h2><h3 id=break-和-continue>break 和 continue</h3><p>break 命令允许跳出所有循环</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>while</span> :
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> -n <span class=s2>&#34;输入 1 到 5 之间的数字:&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>read</span> aNum
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=nv>$aNum</span> in
</span></span><span class=line><span class=cl>        1<span class=p>|</span>2<span class=p>|</span>3<span class=p>|</span>4<span class=p>|</span>5<span class=o>)</span> <span class=nb>echo</span> <span class=s2>&#34;你输入的数字为 </span><span class=nv>$aNum</span><span class=s2>!&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>;;</span>
</span></span><span class=line><span class=cl>        *<span class=o>)</span> <span class=nb>echo</span> <span class=s2>&#34;你输入的数字不是 1 到 5 之间的! 游戏结束&#34;</span>
</span></span><span class=line><span class=cl>            <span class=nb>break</span>
</span></span><span class=line><span class=cl>        <span class=p>;;</span>
</span></span><span class=line><span class=cl>    <span class=k>esac</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></td></tr></table></div></div><p>continue 仅仅跳出当前循环</p><h3 id=exit-语句>exit 语句</h3><p>exit 命令用于退出目前的 shell</p><p>若不设置状态值参数，则 shell 以预设值退出。状态值 0 代表执行成功，其他值代表执行失败</p><h2 id=函数>函数</h2><p>linux shell 允许用户定义函数，然后在 shell 脚本中可以随便调用。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span> <span class=k>function</span> <span class=o>]</span> funname <span class=o>[()]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    action<span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=o>[</span><span class=k>return</span> int<span class=p>;</span><span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>可以带 function fun() 定义，也可以直接 fun() 定义，不带任何参数。</li><li>加 return 返回；如果不加，将以最后一条命令运行结果，作为返回值。 return 后跟数值 n（0-255）</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl>demoFun<span class=o>(){</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;这是我的第一个 shell 函数!&#34;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;-----函数开始执行-----&#34;</span>
</span></span><span class=line><span class=cl>demoFun
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;-----函数执行完毕-----&#34;</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl>funWithReturn<span class=o>(){</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;这个函数会对输入的两个数字进行相加运算...&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;输入第一个数字: &#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>read</span> aNum
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;输入第二个数字: &#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>read</span> anotherNum
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;两个数字分别为 </span><span class=nv>$aNum</span><span class=s2> 和 </span><span class=nv>$anotherNum</span><span class=s2> !&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=k>$((</span><span class=nv>$aNum</span><span class=o>+</span><span class=nv>$anotherNum</span><span class=k>))</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>funWithReturn
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;输入的两个数字之和为 </span><span class=nv>$?</span><span class=s2> !&#34;</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>所有函数在使用前必须定义。这意味着必须将函数放在脚本开始部分，直至shell解释器首次发现它时，才可以使用。调用函数仅使用其函数名即可。</p></blockquote><h3 id=函数参数>函数参数</h3><p>在 Shell 中，调用函数时可以向其传递参数。在函数体内部，通过 <code>$n</code> 的形式来获取参数的值，例如，<code>$1</code> 表示第一个参数，<code>$2</code> 表示第二个参数&mldr;</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=c1># author:菜鸟教程</span>
</span></span><span class=line><span class=cl><span class=c1># url:www.runoob.com</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>funWithParam<span class=o>(){</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;第一个参数为 </span><span class=nv>$1</span><span class=s2> !&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;第二个参数为 </span><span class=nv>$2</span><span class=s2> !&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;第十个参数为 </span><span class=nv>$10</span><span class=s2> !&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;第十个参数为 </span><span class=si>${</span><span class=nv>10</span><span class=si>}</span><span class=s2> !&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;第十一个参数为 </span><span class=si>${</span><span class=nv>11</span><span class=si>}</span><span class=s2> !&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;参数总数有 </span><span class=nv>$#</span><span class=s2> 个!&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;作为一个字符串输出所有参数 </span><span class=nv>$*</span><span class=s2> !&#34;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>funWithParam <span class=m>1</span> <span class=m>2</span> <span class=m>3</span> <span class=m>4</span> <span class=m>5</span> <span class=m>6</span> <span class=m>7</span> <span class=m>8</span> <span class=m>9</span> <span class=m>34</span> <span class=m>73</span>
</span></span></code></pre></td></tr></table></div></div><p>输出</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>第一个参数为 <span class=m>1</span> !
</span></span><span class=line><span class=cl>第二个参数为 <span class=m>2</span> !
</span></span><span class=line><span class=cl>第十个参数为 <span class=m>10</span> !
</span></span><span class=line><span class=cl>第十个参数为 <span class=m>34</span> !
</span></span><span class=line><span class=cl>第十一个参数为 <span class=m>73</span> !
</span></span><span class=line><span class=cl>参数总数有 <span class=m>11</span> 个!
</span></span><span class=line><span class=cl>作为一个字符串输出所有参数 <span class=m>1</span> <span class=m>2</span> <span class=m>3</span> <span class=m>4</span> <span class=m>5</span> <span class=m>6</span> <span class=m>7</span> <span class=m>8</span> <span class=m>9</span> <span class=m>34</span> <span class=m>73</span> !
</span></span></code></pre></td></tr></table></div></div><p>注意，<code>$10</code> 不能获取第十个参数，获取第十个参数需要<code>${10}</code>。当 n>=10 时，需要使用 <code>${n}</code> 来获取参数。</p><h2 id=常用命令>常用命令</h2><h3 id=echo>echo</h3><h4 id=显示普通字符串>显示普通字符串:</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;It is a test&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>这里的双引号完全可以省略</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nb>echo</span> It is a <span class=nb>test</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=显示转义字符>显示转义字符</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;\&#34;It is a test\&#34;&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>结果将是:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=s2>&#34;It is a test&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>同样，双引号也可以省略</p><h4 id=显示变量>显示变量</h4><p>read 命令从标准输入中读取一行,并把输入行的每个字段的值指定给 shell 变量</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=cp>#!/bin/sh
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=nb>read</span> name 
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;</span><span class=nv>$name</span><span class=s2> It is a test&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>以上代码保存为 test.sh，name 接收标准输入的变量，结果将是:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>root@www ~<span class=o>]</span><span class=c1># sh test.sh</span>
</span></span><span class=line><span class=cl>OK                     <span class=c1>#标准输入</span>
</span></span><span class=line><span class=cl>OK It is a <span class=nb>test</span>        <span class=c1>#输出</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=显示换行>显示换行</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nb>echo</span> -e <span class=s2>&#34;OK! \n&#34;</span>  <span class=c1># -e 开启转义</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;It is a test&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>输出结果：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>OK!
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>It is a <span class=nb>test</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=显示不换行>显示不换行</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=cp>#!/bin/sh
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=nb>echo</span> -e <span class=s2>&#34;OK! \c&#34;</span> <span class=c1># -e 开启转义 \c 不换行</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;It is a test&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>输出结果：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>OK! It is a <span class=nb>test</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=显示结果定向至文件>显示结果定向至文件</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;It is a test&#34;</span> &gt; myfile
</span></span></code></pre></td></tr></table></div></div><h4 id=原样输出字符串不进行转义或取变量用单引号>原样输出字符串，不进行转义或取变量(用单引号)</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;$name\&#34;&#39;</span>
</span></span></code></pre></td></tr></table></div></div><p>输出结果：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>$name\&#34;
</span></span></code></pre></td></tr></table></div></div><h4 id=显示命令执行结果>显示命令执行结果</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nb>echo</span> <span class=sb>`</span>date<span class=sb>`</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>这里使用的是反引号 <strong>`</strong>, 而不是单引号 <strong>&rsquo;</strong></p></blockquote><p>结果将显示当前日期</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Sun 24 Oct 2021 08:44:45 PM CST
</span></span></code></pre></td></tr></table></div></div><h3 id=printf>printf</h3><p>printf 命令模仿 C 程序库（library）里的 printf() 程序。</p><ul><li>printf 使用引用文本或空格分隔的参数</li><li>默认的 printf 不会像 echo 自动添加换行符</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>printf  format-string  [arguments...]
</span></span></code></pre></td></tr></table></div></div><p>参数</p><ul><li><em>format-string</em>：格式控制字符串</li><li><em>arguments</em>：参数列表</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ <span class=nb>echo</span> <span class=s2>&#34;Hello, Shell&#34;</span>
</span></span><span class=line><span class=cl>Hello, Shell
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ <span class=nb>printf</span> <span class=s2>&#34;Hello, Shell\n&#34;</span>
</span></span><span class=line><span class=cl>Hello, Shell
</span></span></code></pre></td></tr></table></div></div><h4 id=格式化>格式化</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span> 
</span></span><span class=line><span class=cl><span class=nb>printf</span> <span class=s2>&#34;%-10s %-8s %-4s\n&#34;</span> 姓名 性别 体重kg  
</span></span><span class=line><span class=cl><span class=nb>printf</span> <span class=s2>&#34;%-10s %-8s %-4.2f\n&#34;</span> 郭靖 男 66.1234
</span></span><span class=line><span class=cl><span class=nb>printf</span> <span class=s2>&#34;%-10s %-8s %-4.2f\n&#34;</span> 杨过 男 48.6543
</span></span><span class=line><span class=cl><span class=nb>printf</span> <span class=s2>&#34;%-10s %-8s %-4.2f\n&#34;</span> 郭芙 女 47.9876
</span></span></code></pre></td></tr></table></div></div><p>执行脚本，输出结果如下所示：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>姓名     性别   体重kg
</span></span><span class=line><span class=cl>郭靖     男      66.12
</span></span><span class=line><span class=cl>杨过     男      48.65
</span></span><span class=line><span class=cl>郭芙     女      47.99
</span></span></code></pre></td></tr></table></div></div><p><strong>%s %c %d %f</strong> 都是格式替代符</p><ul><li><strong>％s</strong> 输出一个字符串</li><li><strong>％d</strong> 整型输出</li><li><strong>％c</strong> 输出一个字符</li><li><strong>％f</strong> 输出实数，以小数形式输出。</li></ul><p><strong>%-10s</strong> 指一个宽度为 10 个字符（ <strong>-</strong> 表示左对齐，没有则表示右对齐），任何字符都会被显示在 10 个字符宽的字符内，如果不足则自动以空格填充，超过也会将内容全部显示出来。</p><p><strong>%-4.2f</strong> 指格式化为小数，其中 <strong>.2</strong> 指保留 2 位小数。</p><h4 id=多种格式>多种格式</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span> 
</span></span><span class=line><span class=cl><span class=c1># format-string 为双引号</span>
</span></span><span class=line><span class=cl><span class=nb>printf</span> <span class=s2>&#34;%d %s\n&#34;</span> <span class=m>1</span> <span class=s2>&#34;abc&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 单引号与双引号效果一样</span>
</span></span><span class=line><span class=cl><span class=nb>printf</span> <span class=s1>&#39;%d %s\n&#39;</span> <span class=m>1</span> <span class=s2>&#34;abc&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 没有引号也可以输出</span>
</span></span><span class=line><span class=cl><span class=nb>printf</span> %s abcdef
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 格式只指定了一个参数，但多出的参数仍然会按照该格式输出，format-string 被重用</span>
</span></span><span class=line><span class=cl><span class=nb>printf</span> %s abc def
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>printf</span> <span class=s2>&#34;%s\n&#34;</span> abc def
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>printf</span> <span class=s2>&#34;%s %s %s\n&#34;</span> a b c d e f g h i j
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 如果没有 arguments，那么 %s 用 NULL代替，%d 用 0 代替</span>
</span></span><span class=line><span class=cl><span class=nb>printf</span> <span class=s2>&#34;%s and %d \n&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>输出</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>1 abc
</span></span><span class=line><span class=cl>1 abc
</span></span><span class=line><span class=cl>abcdefabcdefabc
</span></span><span class=line><span class=cl>def
</span></span><span class=line><span class=cl>a b c
</span></span><span class=line><span class=cl>d e f
</span></span><span class=line><span class=cl>g h i
</span></span><span class=line><span class=cl>j  
</span></span><span class=line><span class=cl> and 0
</span></span></code></pre></td></tr></table></div></div><h4 id=转义序列>转义序列</h4><table><thead><tr><th style=text-align:left>序列</th><th style=text-align:left>说明</th></tr></thead><tbody><tr><td style=text-align:left>\a</td><td style=text-align:left>警告字符，通常为ASCII的BEL字符</td></tr><tr><td style=text-align:left>\b</td><td style=text-align:left>后退</td></tr><tr><td style=text-align:left>\c</td><td style=text-align:left>抑制（不显示）输出结果中任何结尾的换行字符（只在 %b 格式指示符控制下的参数字符串中有效），而且，任何留在参数里的字符、任何接下来的参数以及任何留在格式字符串中的字符，都被忽略</td></tr><tr><td style=text-align:left>\f</td><td style=text-align:left>换页（formfeed）</td></tr><tr><td style=text-align:left>\n</td><td style=text-align:left>换行</td></tr><tr><td style=text-align:left>\r</td><td style=text-align:left>回车（Carriage return）</td></tr><tr><td style=text-align:left>\t</td><td style=text-align:left>水平制表符</td></tr><tr><td style=text-align:left>\v</td><td style=text-align:left>垂直制表符</td></tr><tr><td style=text-align:left>\</td><td style=text-align:left>一个字面上的反斜杠字符</td></tr><tr><td style=text-align:left>\ddd</td><td style=text-align:left>表示1到3位数八进制值的字符。仅在格式字符串中有效</td></tr><tr><td style=text-align:left>\0ddd</td><td style=text-align:left>表示1到3位的八进制值字符</td></tr></tbody></table><h2 id=输入--输出重定向>输入 / 输出重定向</h2><p>大多数 UNIX 系统命令从你的终端接受输入并将所产生的输出发送回到您的终端。</p><p>一个命令通常从一个叫标准输入的地方读取输入，默认情况下，这恰好是你的终端。</p><p>同样，一个命令通常将其输出写入到标准输出，默认情况下，这也是你的终端。</p><p>重定向命令列表如下：</p><table><thead><tr><th style=text-align:left>命令</th><th style=text-align:left>说明</th></tr></thead><tbody><tr><td style=text-align:left>command > file</td><td style=text-align:left>将输出重定向到 file。</td></tr><tr><td style=text-align:left>command &lt; file</td><td style=text-align:left>将输入重定向到 file。</td></tr><tr><td style=text-align:left>command &#187; file</td><td style=text-align:left>将输出以追加的方式重定向到 file。</td></tr><tr><td style=text-align:left>n > file</td><td style=text-align:left>将文件描述符为 n 的文件重定向到 file。</td></tr><tr><td style=text-align:left>n &#187; file</td><td style=text-align:left>将文件描述符为 n 的文件以追加的方式重定向到 file。</td></tr><tr><td style=text-align:left>n >& m</td><td style=text-align:left>将输出文件 m 和 n 合并。</td></tr><tr><td style=text-align:left>n &lt;& m</td><td style=text-align:left>将输入文件 m 和 n 合并。</td></tr><tr><td style=text-align:left>&#171; tag</td><td style=text-align:left>将开始标记 tag 和结束标记 tag 之间的内容作为输入。</td></tr></tbody></table></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="2022-09-20 14:07:45">更新于 2022-09-20</span></div><div class=post-info-license><span><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="分享到 Twitter" data-sharer=twitter data-url=https://trouvaille0198.github.io/Notes/posts/linux/shell-%E7%BC%96%E7%A8%8B/ data-title="Linux shell 编程" data-hashtags=Linux,shell><i class="fa-brands fa-twitter fa-fw"></i></a>
<a href=javascript:void(0); title="分享到 Facebook" data-sharer=facebook data-url=https://trouvaille0198.github.io/Notes/posts/linux/shell-%E7%BC%96%E7%A8%8B/ data-hashtag=Linux><i class="fa-brands fa-facebook-square fa-fw"></i></a>
<a href=javascript:void(0); title="分享到 微博" data-sharer=weibo data-url=https://trouvaille0198.github.io/Notes/posts/linux/shell-%E7%BC%96%E7%A8%8B/ data-title="Linux shell 编程"><i class="fa-brands fa-weibo fa-fw"></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw"></i>&nbsp;<a href=/Notes/tags/linux/>Linux</a>,&nbsp;<a href=/Notes/tags/shell/>shell</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/Notes/>主页</a></span></section></div><div class=post-nav><a href=/Notes/posts/linux/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/ class=prev rel=prev title="Linux 文件操作"><i class="fa-solid fa-angle-left fa-fw"></i>Linux 文件操作</a>
<a href=/Notes/posts/courses/%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90/ class=next rel=next title=算法设计与分析>算法设计与分析<i class="fa-solid fa-angle-right fa-fw"></i></a></div></div></article></main><footer class=footer><div class=footer-container><div class="footer-line custom">酒困路长惟欲睡，日高人渴漫思茶</div><div class="footer-line copyright"><i class="fa-regular fa-copyright fa-fw"></i>
<span itemprop=copyrightYear>2022</span><span class="license footer-divider"><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div><div class="footer-line statistics"></div></div></footer></div><div class=widgets><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部><i class="fa-solid fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title=查看评论><i class="fa-solid fa-comment fa-fw"></i></a></div><div id=mask></div></div><link rel=stylesheet href=/Notes/lib/katex/katex.min.css><link rel=stylesheet href=/Notes/lib/katex/copy-tex.min.css><link rel=stylesheet href=/Notes/lib/cookieconsent/cookieconsent.min.css><script type=text/javascript src=/Notes/lib/autocomplete/autocomplete.min.js defer></script><script type=text/javascript src=/Notes/lib/lunr/lunr.min.js defer></script><script type=text/javascript src=/Notes/lib/lunr/lunr.stemmer.support.min.js defer></script><script type=text/javascript src=/Notes/lib/lunr/lunr.zh.min.js defer></script><script type=text/javascript src=/Notes/lib/lazysizes/lazysizes.min.js async defer></script><script type=text/javascript src=/Notes/lib/sharer/sharer.min.js async defer></script><script type=text/javascript src=/Notes/lib/katex/katex.min.js defer></script><script type=text/javascript src=/Notes/lib/katex/auto-render.min.js defer></script><script type=text/javascript src=/Notes/lib/katex/copy-tex.min.js defer></script><script type=text/javascript src=/Notes/lib/katex/mhchem.min.js defer></script><script type=text/javascript src=/Notes/lib/cookieconsent/cookieconsent.min.js defer></script><script type=text/javascript>window.config={code:{copyTitle:"复制到剪贴板",editLockTitle:"锁定可编辑代码块",editUnLockTitle:"解锁可编辑代码块",editable:!0,maxShownLines:45},comment:{},cookieconsent:{content:{dismiss:"同意",link:"了解更多",message:"本网站使用 Cookies 来改善您的浏览体验。"},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},enablePWA:!0,math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{highlightTag:"em",lunrIndexURL:"/Notes/index.json",lunrLanguageCode:"zh",lunrSegmentitURL:"/Notes/lib/lunr/lunr.segmentit.js",maxResultLength:30,noResultsFound:"没有找到结果",snippetLength:50,type:"lunr"}}</script><script type=text/javascript src=/Notes/js/theme.min.js defer></script><script type=text/javascript src=/Notes/js/_custom.min.js defer></script></body></html>