<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>- 伤心肠粉的酱油碟子</title><meta name=Description content><meta property="og:title" content><meta property="og:description" content="简介 模块 QtWidgets ：包含了一整套的 UI 元素控件，用于建立符合系统风格的界面 QtGui：涵盖"><meta property="og:type" content="article"><meta property="og:url" content="https://trouvaille0198.github.io/Notes/posts/python/%E5%8F%AF%E8%A7%86%E5%8C%96/pyqt5/"><meta property="article:section" content="posts"><meta property="article:modified_time" content="2022-04-26T03:52:34+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content><meta name=twitter:description content="简介 模块 QtWidgets ：包含了一整套的 UI 元素控件，用于建立符合系统风格的界面 QtGui：涵盖"><meta name=application-name content="伤心肠粉的酱油碟子"><meta name=apple-mobile-web-app-title content="伤心肠粉的酱油碟子"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://trouvaille0198.github.io/Notes/posts/python/%E5%8F%AF%E8%A7%86%E5%8C%96/pyqt5/><link rel=prev href=https://trouvaille0198.github.io/Notes/posts/python/%E5%8F%AF%E8%A7%86%E5%8C%96/tkinter/><link rel=next href=https://trouvaille0198.github.io/Notes/posts/python/%E5%8F%AF%E8%A7%86%E5%8C%96/manim/><link rel=stylesheet href=/Notes/lib/normalize/normalize.min.css><link rel=stylesheet href=/Notes/css/style.min.css><link rel=stylesheet href=/Notes/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/Notes/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/trouvaille0198.github.io\/Notes\/posts\/python\/%E5%8F%AF%E8%A7%86%E5%8C%96\/pyqt5\/"},"genre":"posts","wordcount":6623,"url":"https:\/\/trouvaille0198.github.io\/Notes\/posts\/python\/%E5%8F%AF%E8%A7%86%E5%8C%96\/pyqt5\/","dateModified":"2022-04-26T03:52:34+00:00","publisher":{"@type":"Organization","name":"作者"},"author":{"@type":"Person","name":"作者"},"description":""}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":''==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:''==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/Notes/ title=伤心肠粉的酱油碟子>伤心肠粉</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/Notes/categories/>分类 </a><a class=menu-item href=/Notes/tags/>标签 </a><a class=menu-item href=/Notes/posts/>文章 </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder=搜索文章标题或内容... id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin"></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/Notes/ title=伤心肠粉的酱油碟子>伤心肠粉</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=搜索文章标题或内容... id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin"></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></div><a class=menu-item href=/Notes/categories/ title>分类</a><a class=menu-item href=/Notes/tags/ title>标签</a><a class=menu-item href=/Notes/posts/ title>文章</a><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>目录</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animated flipInX"></h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/Notes/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>作者</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=0001-01-01>0001-01-01</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;约 6623 字&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;预计阅读 14 分钟&nbsp;</div></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#模块>模块</a></li><li><a href=#程序基本结构分析>程序基本结构分析</a><ul><li><a href=#导入需要的包和模块>导入需要的包和模块</a></li><li><a href=#创建一个应用程序对象>创建一个应用程序对象</a></li><li><a href=#控件操作>控件操作</a></li><li><a href=#应用程序的执行进入到消息循环>应用程序的执行，进入到消息循环</a></li><li><a href=#将面向过程的代码改为面向对象版本>将面向过程的代码改为面向对象版本</a></li></ul></li><li><a href=#事件与信号处理>事件与信号处理</a></li></ul><ul><li><a href=#父类操作-qwidget>父类操作 QWidget</a><ul><li><a href=#获取大小>获取大小</a></li><li><a href=#设置大小>设置大小</a></li><li><a href=#获取位置>获取位置</a></li><li><a href=#设置位置>设置位置</a></li><li><a href=#同时设置>同时设置</a></li><li><a href=#初始化>初始化</a></li></ul></li><li><a href=#设置主窗口类-qmainwindow>设置主窗口类 QMainWindow</a><ul><li><a href=#状态栏-statusbar>状态栏 statusBar</a></li><li><a href=#菜单栏-menubar>菜单栏 menuBar</a><ul><li><a href=#简单菜单例>简单菜单例</a></li><li><a href=#子菜单例>子菜单例</a></li><li><a href=#上下文菜单>上下文菜单</a></li></ul></li><li><a href=#工具栏>工具栏</a></li><li><a href=#居中展示>居中展示</a></li></ul></li></ul><ul><li><a href=#绝对布局>绝对布局</a></li><li><a href=#盒布局>盒布局</a></li><li><a href=#网格布局>网格布局</a></li><li><a href=#表单布局>表单布局</a></li></ul><ul><li><a href=#qlabel>QLabel</a><ul><li><a href=#api>API</a><ul><li><a href=#修改内容>修改内容</a></li><li><a href=#文字设置>文字设置</a></li><li><a href=#返回>返回</a></li></ul></li><li><a href=#heading></a></li></ul></li></ul><ul><li><a href=#qlineedit>QLineEdit</a></li></ul></nav></div></div><div class=content id=content><h1 id=简介>简介</h1><h2 id=模块>模块</h2><ul><li>QtWidgets ：包含了一整套的 UI 元素控件，用于建立符合系统风格的界面</li><li>QtGui：涵盖了多种基本图形功能的类(字体，图形，图标，颜色)</li><li>QtCore：涵盖了包的核心的非 GUI 界面的功能(时间，文件，目录，数据类型，文本流，链接，线程进程等)</li><li>QtWebKit：显示网页</li><li>QtTest：对 Qt 应用程序和库进行单元测试的类</li><li>QtSql：提供对 SQL 数据库支持的基本模块</li><li>QtMultimedia：多媒体，比如音频，视频</li><li>QtMultimediaWidgets：多媒体，比如音频，视频</li></ul><h2 id=程序基本结构分析>程序基本结构分析</h2><h3 id=导入需要的包和模块>导入需要的包和模块</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>PyQt5.Qt</span> <span class=kn>import</span> <span class=o>*</span>    <span class=c1># 别问为什么这么写，问就是懒，这样做的好处是可以不管什么包都导入，不需要一点点导包，缺点就是占点内存</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>sys</span>
</span></span></code></pre></td></tr></table></div></div><p>sys是什么</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># sys是什么</span>
</span></span><span class=line><span class=cl><span class=c1># 我们的代码，到时候的执行方式，1、右击run去执行，2、命令行Python代码名称</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># argv:当别人通过命令行启动这个程序的时候，可以设定一种功能(接收命令行传递的参数来执行不同的业务逻辑)</span>
</span></span><span class=line><span class=cl><span class=n>args</span> <span class=o>=</span> <span class=n>sys</span><span class=o>.</span><span class=n>argv</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>args</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=n>args</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>==</span> <span class=s1>&#39;1&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>	<span class=nb>print</span><span class=p>(</span><span class=s2>&#34;hello world&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>	<span class=nb>print</span><span class=p>(</span><span class=s2>&#34;hello pyqt&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># exit(退出码)，正常退出是0，程序内部错误是其他的错误码，通过传递不同的错误码，可以知道怎么退出的。</span>
</span></span><span class=line><span class=cl><span class=n>sys</span><span class=o>.</span><span class=n>exit</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=创建一个应用程序对象>创建一个应用程序对象</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>app</span> <span class=o>=</span> <span class=n>QApplication</span><span class=p>(</span><span class=n>sys</span><span class=o>.</span><span class=n>argv</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>sys.argv 参数是来自命令行的参数列表。 Python 脚本可以从 shell 运行。 写了这句话就能让我们的程序从命令行启动</p><p><code>QApplication</code> 管理 GUI 程序的控制流和主要设置。对于用 Qt 写的任何一个 GUI 应用，不管这个应用有没有窗口或多少个窗口，有且只有一个 <code>QApplication</code> 对象。</p><h3 id=控件操作>控件操作</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 创建控件，设置控件(大小，位置，样式)，事件，信号的处理</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 1、创建控件</span>
</span></span><span class=line><span class=cl><span class=c1># 控件创建好后(没有父控件)，则把它当作顶层控件(窗口)，系统会自动的给窗口添加一些装饰(标题栏)，窗口控件具备一些性质(设置标题，图标)</span>
</span></span><span class=line><span class=cl><span class=n>window</span> <span class=o>=</span> <span class=n>QWidget</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 2、设置控件</span>
</span></span><span class=line><span class=cl><span class=n>window</span><span class=o>.</span><span class=n>setWindowTitle</span><span class=p>(</span><span class=s2>&#34;程序基本结构分析&#34;</span><span class=p>)</span> <span class=c1># 设置窗口标题</span>
</span></span><span class=line><span class=cl><span class=n>window</span><span class=o>.</span><span class=n>resize</span><span class=p>(</span><span class=mi>300</span><span class=p>,</span><span class=mi>150</span><span class=p>)</span> <span class=c1># 设置窗口尺寸，长宽</span>
</span></span><span class=line><span class=cl><span class=n>w</span><span class=o>.</span><span class=n>move</span><span class=p>(</span><span class=mi>300</span><span class=p>,</span><span class=mi>300</span><span class=p>)</span>  <span class=c1># 移动窗口(显示时在哪),长高</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 控件也可以作为一个容器承载其他控件</span>
</span></span><span class=line><span class=cl><span class=n>label</span> <span class=o>=</span> <span class=n>QLabel</span><span class=p>(</span><span class=n>window</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>label</span><span class=o>.</span><span class=n>setText</span><span class=p>(</span><span class=s1>&#39;hello world&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>lable</span><span class=o>.</span><span class=n>move</span><span class=p>(</span><span class=mi>100</span><span class=p>,</span><span class=mi>100</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 3、展示控件</span>
</span></span><span class=line><span class=cl><span class=c1># 刚创建好一个控件后(没父控件)，需要手动展示</span>
</span></span><span class=line><span class=cl><span class=n>window</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><p><code>QWidget</code> 控件（所有的窗口和控件都直接或者间接继承自 <code>QWidget</code>）是一个用户界面的基础控件，它提供了基本的应用构造器。默认情况下，构造器是没有父级的，没有父级的构造器被称为窗口（window）。</p><p>PyQt5 创建的窗口默认是隐藏的，需要调用 <code>show()</code> 显示</p><h3 id=应用程序的执行进入到消息循环>应用程序的执行，进入到消息循环</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 让整个程序开始执行，并且进入到消息循环(无限循环)</span>
</span></span><span class=line><span class=cl><span class=c1># 监测整个程序所接收到的用户交互信息</span>
</span></span><span class=line><span class=cl><span class=n>sys</span><span class=o>.</span><span class=n>exit</span><span class=p>(</span><span class=n>app</span><span class=o>.</span><span class=n>exec_</span><span class=p>())</span>
</span></span></code></pre></td></tr></table></div></div><p>为了让 GUI 启动，需要使用 <code>app.exec_()</code> 启动事件循环（启动应用，直至用户关闭它）。</p><p><code>app.exec_()</code> 的作用是运行主循环，必须调用此函数才能开始事件处理，调用该方法进入程序的主循环直到调用 <code>exit()</code> 结束</p><h3 id=将面向过程的代码改为面向对象版本>将面向过程的代码改为面向对象版本</h3><p>可以理解为界面与逻辑分离
设置控件的代码需要被维护，控件的设置又是通过类来完成的，那么只要在类的内部去添加就可以，但是类又是封装好的，所以要通过继承去实现，然后通过 <code>__init__</code> 方法，再加上 <code>super</code> 来继承父类的所有方法，以后就只需要在 <code>__init__</code> 方法内部去写设置就可以了。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>PyQt5.QtWidgets</span> <span class=kn>import</span> <span class=n>QApplication</span><span class=p>,</span> <span class=n>QWidget</span><span class=p>,</span> <span class=n>QLabel</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Window</span><span class=p>(</span><span class=n>QWidget</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>resize</span><span class=p>(</span><span class=mi>300</span><span class=p>,</span> <span class=mi>150</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>move</span><span class=p>(</span><span class=mi>300</span><span class=p>,</span> <span class=mi>300</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>setWindowTitle</span><span class=p>(</span><span class=s1>&#39;第一个基于PyQt5的桌面应用&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>setup_ui</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>setup_ui</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>label</span> <span class=o>=</span> <span class=n>QLabel</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>label</span><span class=o>.</span><span class=n>setText</span><span class=p>(</span><span class=s1>&#39;hello world&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>label</span><span class=o>.</span><span class=n>move</span><span class=p>(</span><span class=mi>100</span><span class=p>,</span> <span class=mi>100</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>使用的时候，只需要在引入时，引入这个文件就可以</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>sys</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>PyQt5.QtWidgets</span> <span class=kn>import</span> <span class=n>QApplication</span><span class=p>,</span> <span class=n>QWidget</span><span class=p>,</span> <span class=n>QLabel</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>ui</span> <span class=kn>import</span> <span class=n>Window</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=c1># 创建一个QApplication类的实例</span>
</span></span><span class=line><span class=cl>    <span class=n>app</span> <span class=o>=</span> <span class=n>QApplication</span><span class=p>(</span><span class=n>sys</span><span class=o>.</span><span class=n>argv</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=c1># 创建一个窗口</span>
</span></span><span class=line><span class=cl>    <span class=n>window</span> <span class=o>=</span> <span class=n>Window</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=c1># 显示窗口</span>
</span></span><span class=line><span class=cl>    <span class=n>window</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=c1># 进入程序主循环，并通过exit函数确保主循环安全结束</span>
</span></span><span class=line><span class=cl>    <span class=n>sys</span><span class=o>.</span><span class=n>exit</span><span class=p>(</span><span class=n>app</span><span class=o>.</span><span class=n>exec_</span><span class=p>())</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=事件与信号处理>事件与信号处理</h2><p>(signals and slots)</p><p>GUI 应用程序是事件驱动的。在事件模型中，有三个参与者：</p><ul><li>事件来源：状态被更改的对象，它生成了事件</li><li>事件对象：（event）将状态的更改封装在事件源中</li><li>事件目标：要通知的对象</li></ul><p>PyQt5 具有独特的信号和插槽机制来处理事件。 信号和槽用于对象之间的通信。 发生特定事件时发出信号。 槽可以是任何 Python 可调用的函数。 当发射连接的信号时会调用一个槽。槽是对信号作出反应的方法。</p><ul><li><p>重写事件</p></li><li><p>知晓事件发送者</p></li></ul><p>若有多个信号连接到同一个槽，需要调用 <code>sender()</code> 方法来确定</p><ul><li>发出自定义信号</li></ul><p>从 QObject 创建的对象可以发出信号</p><h1 id=窗口>窗口</h1><p>窗口就是没有父部件的部件，所以又称为顶级部件</p><p><code>QMainWindow</code> 窗口可以包含菜单栏、工具栏、状态栏和标题栏等，是最常见的窗口形式，是 GUI 程序的主窗口。</p><p><code>QDialog</code> 是对话框的基类，对话框主要用来执行短期任务和与用户进行互动任务，有模态和非模态两种形式。</p><p><code>QWidget</code> 可以用作嵌入其他窗口。</p><h2 id=父类操作-qwidget>父类操作 QWidget</h2><p><code>QWidget</code> 类是所有用户界面对象的基类，被称为基础窗口部件。像主窗口、对话框、标签、还有按钮、文本输入框等都是窗口部件</p><ul><li>客户区 (Client Area)：不包含边框的部分，即用户操作的界面，可以添加子控件。</li><li>窗口：整一个界面</li></ul><p><img class=lazyload src=/Notes/svg/loading.min.svg data-src=http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/1114626-dace58b6414623d5.png data-srcset="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/1114626-dace58b6414623d5.png, http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/1114626-dace58b6414623d5.png 1.5x, http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/1114626-dace58b6414623d5.png 2x" data-sizes=auto alt=http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/1114626-dace58b6414623d5.png title=img></p><h3 id=获取大小>获取大小</h3><ul><li><p><em><strong>QWidget.size()</strong></em></p><p>返回 <code>PyQt5.QtCore.QSize(width, height)</code></p></li><li><p><em><strong>QWidget.width()、QWidget.height()</strong></em></p><p>返回客户区 width 和 height 值</p></li><li><p><em><strong>QWidget.frameGeometry().width()、QWidget.frameGeometry().height()</strong></em></p><p>返回窗口 width 和 height 值</p></li></ul><h3 id=设置大小>设置大小</h3><ul><li><p><em><strong>QWidget.resize(width, height)</strong></em></p><p>改变客户区的大小，可以通过鼠标的来改变尺寸</p></li><li><p><em><strong>QWidget.setFixedWidth(int width)、QWidget.setFixedHeight(int height)</strong></em></p><p>设定不可使用鼠标修改的宽度或者高度</p></li><li><p><em><strong>QWidget.setFixedSize(width, height)</strong></em></p><p>设定不可使用鼠标修改的宽度和高度</p></li></ul><h3 id=获取位置>获取位置</h3><ul><li><p><em><strong>QWidget.pos()</strong></em></p><p>返回窗口左上角坐标</p></li><li><p><em><strong>QWidget.x()、QWidget.y()</strong></em></p><p>返回窗口横、纵坐标</p></li><li><p><em><strong>QWidget.geometry().x()、QWidget.geometry().y()</strong></em></p><p>返回客户区横、纵坐标</p></li></ul><h3 id=设置位置>设置位置</h3><ul><li><p><em><strong>QWidget.move(int x, int y)</strong></em></p><p>设置窗口的位置</p></li></ul><h3 id=同时设置>同时设置</h3><ul><li><p><em><strong>QWidget.frameGeometry()</strong></em></p><p>返回窗口的大小和位置</p></li><li><p><em><strong>QWidget.setGeometry(int x, int y, int width, int height)</strong></em></p><p>同时客户区设置大小和位置</p></li></ul><h3 id=初始化>初始化</h3><ul><li><p><em><strong>QWidget.setWindowIcon(QIcon)</strong></em></p><p>设置窗口图标</p></li><li><p><em><strong>QWidget.setWindowTitle(title)</strong></em></p><p>设置窗口标题</p></li><li><p><em><strong>QWidget.setToolTip(str)</strong></em></p><p>显示气泡提示信息</p></li></ul><h2 id=设置主窗口类-qmainwindow>设置主窗口类 QMainWindow</h2><p><code>QWidget</code> 可以作为嵌套型的窗口存在，结构简单，而 <code>QMainWindow</code> 是一个程序框架，有自己的布局，可以在布局中添加控件，如将工具栏添加到布局管理器中。它常常作为 GUI 的主窗口</p><p>主窗口在 GUI 程序是唯一的，是所有窗口中的最顶层窗口，其他窗口都是它的直接或间接子窗口</p><p><code>QMainWindow</code> 继承自 <code>QWidget</code> 类，拥有 <code>QWidget</code> 所有的派生方法和属性。</p><h3 id=状态栏-statusbar>状态栏 statusBar</h3><ul><li><p><em><strong>QMAinWindow.statusBar()</strong></em></p><p>设置并返回状态栏对象</p></li><li><p><em><strong>QMAinWindow.StatusBar().showMessage(message, int timeout)</strong></em>：显示状态栏信息</p><ul><li><em>message</em>：str，文本信息</li><li><em>timeout</em>：int，显示时间，单位毫秒，默认为0，表示一直显示状态栏信息</li></ul></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>sys</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>PyQt5.QtWidgets</span> <span class=kn>import</span> <span class=n>QMainWindow</span><span class=p>,</span> <span class=n>QApplication</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MainWidget</span><span class=p>(</span><span class=n>QMainWindow</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>parent</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>parent</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1># 设置主窗体标签</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>setWindowTitle</span><span class=p>(</span><span class=s2>&#34;QMainWindow 例子&#34;</span><span class=p>)</span>         
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>resize</span><span class=p>(</span><span class=mi>400</span><span class=p>,</span> <span class=mi>200</span><span class=p>)</span> 
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>status</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>statusBar</span><span class=p>()</span> 
</span></span><span class=line><span class=cl>        <span class=c1># 秒后状态栏消失</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>status</span><span class=o>.</span><span class=n>showMessage</span><span class=p>(</span><span class=s2>&#34;这是状态栏提示&#34;</span><span class=p>,</span> <span class=mi>5000</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span> 
</span></span><span class=line><span class=cl>    <span class=n>app</span> <span class=o>=</span> <span class=n>QApplication</span><span class=p>(</span><span class=n>sys</span><span class=o>.</span><span class=n>argv</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>main</span> <span class=o>=</span> <span class=n>MainWidget</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>main</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>sys</span><span class=o>.</span><span class=n>exit</span><span class=p>(</span><span class=n>app</span><span class=o>.</span><span class=n>exec_</span><span class=p>())</span>
</span></span></code></pre></td></tr></table></div></div><p><img class=lazyload src=/Notes/svg/loading.min.svg data-src=http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210211155643867.png data-srcset="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210211155643867.png, http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210211155643867.png 1.5x, http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210211155643867.png 2x" data-sizes=auto alt=http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210211155643867.png title=image-20210211155643867></p><h3 id=菜单栏-menubar>菜单栏 menuBar</h3><p>菜单栏是一组命令的集合</p><ul><li><p><em><strong>QMAinWindow.menuBar()</strong></em></p><p>设置并返回菜单栏对象</p></li><li><p><em><strong>menuBar.addMenu(str)</strong></em></p><p>在菜单栏中添加菜单</p><p><em>str</em>：菜单名</p></li><li><p><em><strong>menu.addMenu(qmenu)</strong></em></p><p>往菜单中添加子菜单</p><p><em>qmenu</em>：QMenu 对象</p></li><li><p><em><strong>menu.addAction(qaction)</strong></em></p><p>往菜单中添加操作</p><p><em>qaction</em>：QAction 对象</p></li><li><p><em><strong>menu.addSeperator()</strong></em></p><p>往菜单中添加分隔线</p></li></ul><h4 id=简单菜单例>简单菜单例</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>sys</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>PyQt5.QtWidgets</span> <span class=kn>import</span> <span class=n>QMainWindow</span><span class=p>,</span> <span class=n>QAction</span><span class=p>,</span> <span class=n>qApp</span><span class=p>,</span> <span class=n>QApplication</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>PyQt5.QtGui</span> <span class=kn>import</span> <span class=n>QIcon</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Example</span><span class=p>(</span><span class=n>QMainWindow</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>initUI</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>initUI</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1># 初始化</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>statusBar</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>setGeometry</span><span class=p>(</span><span class=mi>300</span><span class=p>,</span> <span class=mi>300</span><span class=p>,</span> <span class=mi>300</span><span class=p>,</span> <span class=mi>200</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>setWindowTitle</span><span class=p>(</span><span class=s1>&#39;Simple menu&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># 创建一个图标、一个 exit 的标签和一个快捷键组合，都执行了一个动作</span>
</span></span><span class=line><span class=cl>        <span class=n>exitAct</span> <span class=o>=</span> <span class=n>QAction</span><span class=p>(</span><span class=n>QIcon</span><span class=p>(</span><span class=s1>&#39;7092.gif&#39;</span><span class=p>),</span> <span class=s1>&#39;&amp;Exit&#39;</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>exitAct</span><span class=o>.</span><span class=n>setShortcut</span><span class=p>(</span><span class=s1>&#39;Ctrl+Q&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1># 创建了一个状态栏，当鼠标悬停在菜单栏的时候，能显示当前状态</span>
</span></span><span class=line><span class=cl>        <span class=n>exitAct</span><span class=o>.</span><span class=n>setStatusTip</span><span class=p>(</span><span class=s1>&#39;Exit application&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1># 当执行这个指定的动作时，就触发了一个事件。</span>
</span></span><span class=line><span class=cl>        <span class=c1># 这个事件跟 QApplication 的 quit() 行为相关联，所以这个动作就能终止这个应用。</span>
</span></span><span class=line><span class=cl>        <span class=n>exitAct</span><span class=o>.</span><span class=n>triggered</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=n>qApp</span><span class=o>.</span><span class=n>quit</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1># 创建菜单栏</span>
</span></span><span class=line><span class=cl>        <span class=n>menubar</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>menuBar</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>fileMenu</span> <span class=o>=</span> <span class=n>menubar</span><span class=o>.</span><span class=n>addMenu</span><span class=p>(</span><span class=s1>&#39;&amp;File&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>fileMenu</span><span class=o>.</span><span class=n>addAction</span><span class=p>(</span><span class=n>exitAct</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>app</span> <span class=o>=</span> <span class=n>QApplication</span><span class=p>(</span><span class=n>sys</span><span class=o>.</span><span class=n>argv</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>ex</span> <span class=o>=</span> <span class=n>Example</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>sys</span><span class=o>.</span><span class=n>exit</span><span class=p>(</span><span class=n>app</span><span class=o>.</span><span class=n>exec_</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>main</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><p><img class=lazyload src=/Notes/svg/loading.min.svg data-src=http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210212145400143.png data-srcset="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210212145400143.png, http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210212145400143.png 1.5x, http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210212145400143.png 2x" data-sizes=auto alt=http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210212145400143.png title=image-20210212145400143></p><p>在上面的例子中，我们用一个菜单创建一个菜单。 此菜单将包含一个选择时终止应用程序的操作。 还创建状态栏。 该操作可通过Ctrl + Q快捷方式访问</p><p>QAction 是使用菜单栏，工具栏或自定义键盘快捷方式执行操作的抽象。在上述三行中，我们创建一个具有特定图标和“退出”标签的动作。此外，为此操作定义了快捷方式。当我们选择这个特定的动作时，发出触发信号。 信号连接到 QApplication 小部件的 <code>quit()</code> 方法。 这终止了应用程序。</p><h4 id=子菜单例>子菜单例</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># coding=utf-8</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>PyQt5.QtWidgets</span> <span class=kn>import</span> <span class=n>QApplication</span><span class=p>,</span> <span class=n>QMainWindow</span><span class=p>,</span> <span class=n>QAction</span><span class=p>,</span> <span class=n>qApp</span><span class=p>,</span> <span class=n>QMenu</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>PyQt5.QtGui</span> <span class=kn>import</span> <span class=n>QIcon</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>sys</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Example</span><span class=p>(</span><span class=n>QMainWindow</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>InitUI</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>InitUI</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>statusBar</span><span class=p>()</span><span class=o>.</span><span class=n>showMessage</span><span class=p>(</span><span class=s1>&#39;准备就绪&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>setGeometry</span><span class=p>(</span><span class=mi>300</span><span class=p>,</span> <span class=mi>300</span><span class=p>,</span> <span class=mi>400</span><span class=p>,</span> <span class=mi>300</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>setWindowTitle</span><span class=p>(</span><span class=s1>&#39;关注微信公众号：学点编程吧--子菜单&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>exitAct</span> <span class=o>=</span> <span class=n>QAction</span><span class=p>(</span><span class=n>QIcon</span><span class=p>(</span><span class=s1>&#39;exit.png&#39;</span><span class=p>),</span> <span class=s1>&#39;退出(&amp;E)&#39;</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>exitAct</span><span class=o>.</span><span class=n>setShortcut</span><span class=p>(</span><span class=s1>&#39;Ctrl+Q&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>exitAct</span><span class=o>.</span><span class=n>setStatusTip</span><span class=p>(</span><span class=s1>&#39;退出程序&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>exitAct</span><span class=o>.</span><span class=n>triggered</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=n>qApp</span><span class=o>.</span><span class=n>quit</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>saveMenu</span> <span class=o>=</span> <span class=n>QMenu</span><span class=p>(</span><span class=s1>&#39;保存方式(&amp;S)&#39;</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>saveAct</span> <span class=o>=</span> <span class=n>QAction</span><span class=p>(</span><span class=n>QIcon</span><span class=p>(</span><span class=s1>&#39;save.png&#39;</span><span class=p>),</span> <span class=s1>&#39;保存...&#39;</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>saveAct</span><span class=o>.</span><span class=n>setShortcut</span><span class=p>(</span><span class=s1>&#39;Ctrl+S&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>saveAct</span><span class=o>.</span><span class=n>setStatusTip</span><span class=p>(</span><span class=s1>&#39;保存文件&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>saveasAct</span> <span class=o>=</span> <span class=n>QAction</span><span class=p>(</span><span class=n>QIcon</span><span class=p>(</span><span class=s1>&#39;saveas.png&#39;</span><span class=p>),</span> <span class=s1>&#39;另存为...(&amp;O)&#39;</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>saveasAct</span><span class=o>.</span><span class=n>setStatusTip</span><span class=p>(</span><span class=s1>&#39;文件另存为&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>saveMenu</span><span class=o>.</span><span class=n>addAction</span><span class=p>(</span><span class=n>saveAct</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>saveMenu</span><span class=o>.</span><span class=n>addAction</span><span class=p>(</span><span class=n>saveasAct</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>newAct</span> <span class=o>=</span> <span class=n>QAction</span><span class=p>(</span><span class=n>QIcon</span><span class=p>(</span><span class=s1>&#39;new.png&#39;</span><span class=p>),</span> <span class=s1>&#39;新建(&amp;N)&#39;</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>newAct</span><span class=o>.</span><span class=n>setShortcut</span><span class=p>(</span><span class=s1>&#39;Ctrl+N&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>menubar</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>menuBar</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>fileMenu</span> <span class=o>=</span> <span class=n>menubar</span><span class=o>.</span><span class=n>addMenu</span><span class=p>(</span><span class=s1>&#39;文件(&amp;F)&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>fileMenu</span><span class=o>.</span><span class=n>addAction</span><span class=p>(</span><span class=n>newAct</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>fileMenu</span><span class=o>.</span><span class=n>addMenu</span><span class=p>(</span><span class=n>saveMenu</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>fileMenu</span><span class=o>.</span><span class=n>addSeparator</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>fileMenu</span><span class=o>.</span><span class=n>addAction</span><span class=p>(</span><span class=n>exitAct</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>app</span> <span class=o>=</span> <span class=n>QApplication</span><span class=p>(</span><span class=n>sys</span><span class=o>.</span><span class=n>argv</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>ex</span> <span class=o>=</span> <span class=n>Example</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>sys</span><span class=o>.</span><span class=n>exit</span><span class=p>(</span><span class=n>app</span><span class=o>.</span><span class=n>exec_</span><span class=p>())</span>
</span></span></code></pre></td></tr></table></div></div><p><img class=lazyload src=/Notes/svg/loading.min.svg data-src=http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210212153342602.png data-srcset="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210212153342602.png, http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210212153342602.png 1.5x, http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210212153342602.png 2x" data-sizes=auto alt=http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210212153342602.png title=image-20210212153342602></p><p>在这个例子中，我们有三个菜单项： 其中两个位于文件菜单中（新建、退出），另一个位于文件的保存子菜单中</p><h4 id=上下文菜单>上下文菜单</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>sys</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>PyQt5.QtWidgets</span> <span class=kn>import</span> <span class=n>QMainWindow</span><span class=p>,</span> <span class=n>qApp</span><span class=p>,</span> <span class=n>QMenu</span><span class=p>,</span> <span class=n>QApplication</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Example</span><span class=p>(</span><span class=n>QMainWindow</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>initUI</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>initUI</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>setGeometry</span><span class=p>(</span><span class=mi>300</span><span class=p>,</span> <span class=mi>300</span><span class=p>,</span> <span class=mi>300</span><span class=p>,</span> <span class=mi>200</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>setWindowTitle</span><span class=p>(</span><span class=s1>&#39;Context menu&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>contextMenuEvent</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>event</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>cmenu</span> <span class=o>=</span> <span class=n>QMenu</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>newAct</span> <span class=o>=</span> <span class=n>cmenu</span><span class=o>.</span><span class=n>addAction</span><span class=p>(</span><span class=s2>&#34;New&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>openAct</span> <span class=o>=</span> <span class=n>cmenu</span><span class=o>.</span><span class=n>addAction</span><span class=p>(</span><span class=s2>&#34;Open&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>quitAct</span> <span class=o>=</span> <span class=n>cmenu</span><span class=o>.</span><span class=n>addAction</span><span class=p>(</span><span class=s2>&#34;Quit&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1># 使用 exec_() 方法显示菜单。从鼠标右键事件对象中获得当前坐标。</span>
</span></span><span class=line><span class=cl>        <span class=c1># mapToGlobal() 方法把当前组件的相对坐标转换为窗口（window）的绝对坐标。</span>
</span></span><span class=line><span class=cl>        <span class=n>action</span> <span class=o>=</span> <span class=n>cmenu</span><span class=o>.</span><span class=n>exec_</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>mapToGlobal</span><span class=p>(</span><span class=n>event</span><span class=o>.</span><span class=n>pos</span><span class=p>()))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>app</span> <span class=o>=</span> <span class=n>QApplication</span><span class=p>(</span><span class=n>sys</span><span class=o>.</span><span class=n>argv</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>ex</span> <span class=o>=</span> <span class=n>Example</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>sys</span><span class=o>.</span><span class=n>exit</span><span class=p>(</span><span class=n>app</span><span class=o>.</span><span class=n>exec_</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>main</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><p><img class=lazyload src=/Notes/svg/loading.min.svg data-src=http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210212154037291.png data-srcset="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210212154037291.png, http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210212154037291.png 1.5x, http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210212154037291.png 2x" data-sizes=auto alt=http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210212154037291.png title=image-20210212154037291></p><p>要使用上下文菜单，我们必须重新实现 <code>contextMenuEvent()</code> 方法</p><p>使用 <code>exec_()</code> 方法显示上下文菜单。 从事件对象获取鼠标指针的坐标。 <code>mapToGlobal()</code> 方法将窗口小部件坐标转换为全局屏幕坐标</p><h3 id=工具栏>工具栏</h3><p>各项命令都是在菜单栏当中，但是我们可以把一些常用的命令放在工具栏上，例如新建、打开、保存等等</p><ul><li><p><em><strong>QMAinWindow.addToolBar()</strong></em></p><p>设置并返回工具栏对象</p></li><li><p><em><strong>tool.addAction(qaction)</strong></em></p><p>往工具栏中添加操作</p><p><em>qaction</em>：QAction 对象</p></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># coding=utf-8</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>PyQt5.QtWidgets</span> <span class=kn>import</span> <span class=n>QApplication</span><span class=p>,</span> <span class=n>QMainWindow</span><span class=p>,</span> <span class=n>QAction</span><span class=p>,</span> <span class=n>qApp</span><span class=p>,</span> <span class=n>QMenu</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>PyQt5.QtGui</span> <span class=kn>import</span> <span class=n>QIcon</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>sys</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Example</span><span class=p>(</span><span class=n>QMainWindow</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>InitUI</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>InitUI</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>statusBar</span><span class=p>()</span><span class=o>.</span><span class=n>showMessage</span><span class=p>(</span><span class=s1>&#39;准备就绪&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>setGeometry</span><span class=p>(</span><span class=mi>300</span><span class=p>,</span> <span class=mi>300</span><span class=p>,</span> <span class=mi>400</span><span class=p>,</span> <span class=mi>300</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>setWindowTitle</span><span class=p>(</span><span class=s1>&#39;Toolbar&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>exitAct</span> <span class=o>=</span> <span class=n>QAction</span><span class=p>(</span><span class=n>QIcon</span><span class=p>(</span><span class=s1>&#39;exit.png&#39;</span><span class=p>),</span> <span class=s1>&#39;退出(&amp;E)&#39;</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>exitAct</span><span class=o>.</span><span class=n>setShortcut</span><span class=p>(</span><span class=s1>&#39;Ctrl+Q&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>exitAct</span><span class=o>.</span><span class=n>setStatusTip</span><span class=p>(</span><span class=s1>&#39;退出程序&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>exitAct</span><span class=o>.</span><span class=n>triggered</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=n>qApp</span><span class=o>.</span><span class=n>quit</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>saveMenu</span> <span class=o>=</span> <span class=n>QMenu</span><span class=p>(</span><span class=s1>&#39;保存方式(&amp;S)&#39;</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>saveAct</span> <span class=o>=</span> <span class=n>QAction</span><span class=p>(</span><span class=n>QIcon</span><span class=p>(</span><span class=s1>&#39;save.png&#39;</span><span class=p>),</span> <span class=s1>&#39;保存...&#39;</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>saveAct</span><span class=o>.</span><span class=n>setShortcut</span><span class=p>(</span><span class=s1>&#39;Ctrl+S&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>saveAct</span><span class=o>.</span><span class=n>setStatusTip</span><span class=p>(</span><span class=s1>&#39;保存文件&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>saveasAct</span> <span class=o>=</span> <span class=n>QAction</span><span class=p>(</span><span class=n>QIcon</span><span class=p>(</span><span class=s1>&#39;saveas.png&#39;</span><span class=p>),</span> <span class=s1>&#39;另存为...(&amp;O)&#39;</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>saveasAct</span><span class=o>.</span><span class=n>setStatusTip</span><span class=p>(</span><span class=s1>&#39;文件另存为&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>saveMenu</span><span class=o>.</span><span class=n>addAction</span><span class=p>(</span><span class=n>saveAct</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>saveMenu</span><span class=o>.</span><span class=n>addAction</span><span class=p>(</span><span class=n>saveasAct</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>newAct</span> <span class=o>=</span> <span class=n>QAction</span><span class=p>(</span><span class=n>QIcon</span><span class=p>(</span><span class=s1>&#39;new.png&#39;</span><span class=p>),</span> <span class=s1>&#39;新建(&amp;N)&#39;</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>newAct</span><span class=o>.</span><span class=n>setShortcut</span><span class=p>(</span><span class=s1>&#39;Ctrl+N&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>newAct</span><span class=o>.</span><span class=n>setStatusTip</span><span class=p>(</span><span class=s1>&#39;新建文件&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>menubar</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>menuBar</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>fileMenu</span> <span class=o>=</span> <span class=n>menubar</span><span class=o>.</span><span class=n>addMenu</span><span class=p>(</span><span class=s1>&#39;文件(&amp;F)&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>fileMenu</span><span class=o>.</span><span class=n>addAction</span><span class=p>(</span><span class=n>newAct</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>fileMenu</span><span class=o>.</span><span class=n>addMenu</span><span class=p>(</span><span class=n>saveMenu</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>fileMenu</span><span class=o>.</span><span class=n>addSeparator</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>fileMenu</span><span class=o>.</span><span class=n>addAction</span><span class=p>(</span><span class=n>exitAct</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>toolbar</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>addToolBar</span><span class=p>(</span><span class=s1>&#39;工具栏&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>toolbar</span><span class=o>.</span><span class=n>addAction</span><span class=p>(</span><span class=n>newAct</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>toolbar</span><span class=o>.</span><span class=n>addAction</span><span class=p>(</span><span class=n>exitAct</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>app</span> <span class=o>=</span> <span class=n>QApplication</span><span class=p>(</span><span class=n>sys</span><span class=o>.</span><span class=n>argv</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>ex</span> <span class=o>=</span> <span class=n>Example</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>sys</span><span class=o>.</span><span class=n>exit</span><span class=p>(</span><span class=n>app</span><span class=o>.</span><span class=n>exec_</span><span class=p>())</span>
</span></span></code></pre></td></tr></table></div></div><p><img class=lazyload src=/Notes/svg/loading.min.svg data-src=http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210212154545698.png data-srcset="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210212154545698.png, http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210212154545698.png 1.5x, http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210212154545698.png 2x" data-sizes=auto alt=http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210212154545698.png title=image-20210212154545698></p><h3 id=居中展示>居中展示</h3><p><code>QMainWindow</code> 利用 <code>QDesktopWidget</code> 类实现窗口居中显示</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>PyQt5.QtWidgets</span> <span class=kn>import</span> <span class=n>QDesktopWidget</span><span class=p>,</span> <span class=n>QApplication</span><span class=p>,</span> <span class=n>QMainWindow</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>sys</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Winform</span><span class=p>(</span><span class=n>QMainWindow</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>parent</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>parent</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>setWindowTitle</span><span class=p>(</span><span class=s1>&#39;主窗口放在屏幕中间例子&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>resize</span><span class=p>(</span><span class=mi>300</span><span class=p>,</span> <span class=mi>200</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>center</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>center</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1># 获取屏幕信息</span>
</span></span><span class=line><span class=cl>        <span class=n>screen</span> <span class=o>=</span> <span class=n>QDesktopWidget</span><span class=p>()</span><span class=o>.</span><span class=n>screenGeometry</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>size</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>geometry</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>x</span> <span class=o>=</span> <span class=nb>int</span><span class=p>((</span><span class=n>screen</span><span class=o>.</span><span class=n>width</span><span class=p>()</span> <span class=o>-</span> <span class=n>size</span><span class=o>.</span><span class=n>width</span><span class=p>())</span> <span class=o>/</span> <span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>y</span> <span class=o>=</span> <span class=nb>int</span><span class=p>((</span><span class=n>screen</span><span class=o>.</span><span class=n>height</span><span class=p>()</span> <span class=o>-</span> <span class=n>size</span><span class=o>.</span><span class=n>height</span><span class=p>())</span> <span class=o>/</span> <span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>move</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>app</span> <span class=o>=</span> <span class=n>QApplication</span><span class=p>(</span><span class=n>sys</span><span class=o>.</span><span class=n>argv</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>win</span> <span class=o>=</span> <span class=n>Winform</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>win</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>sys</span><span class=o>.</span><span class=n>exit</span><span class=p>(</span><span class=n>app</span><span class=o>.</span><span class=n>exec_</span><span class=p>())</span>
</span></span></code></pre></td></tr></table></div></div><p>也可以直接使用 <code>QDesktopWidget().availableGeometry().center()</code> 设置窗口居中</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>sys</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>PyQt5.QtWidgets</span> <span class=kn>import</span> <span class=n>QWidget</span><span class=p>,</span> <span class=n>QDesktopWidget</span><span class=p>,</span> <span class=n>QApplication</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>CenterWin</span><span class=p>(</span><span class=n>QWidget</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>initUI</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>initUI</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>               
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>resize</span><span class=p>(</span><span class=mi>250</span><span class=p>,</span> <span class=mi>150</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>center</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>setWindowTitle</span><span class=p>(</span><span class=s1>&#39;Center&#39;</span><span class=p>)</span>    
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>center</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>qr</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>frameGeometry</span><span class=p>()</span> <span class=c1># 获得主窗口所在的框架</span>
</span></span><span class=line><span class=cl>        <span class=c1># 获取显示器的分辨率，然后得到屏幕中间点的位置</span>
</span></span><span class=line><span class=cl>        <span class=n>cp</span> <span class=o>=</span> <span class=n>QDesktopWidget</span><span class=p>()</span><span class=o>.</span><span class=n>availableGeometry</span><span class=p>()</span><span class=o>.</span><span class=n>center</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=c1># 然后把主窗口框架的中心点放置到屏幕的中心位置</span>
</span></span><span class=line><span class=cl>        <span class=n>qr</span><span class=o>.</span><span class=n>moveCenter</span><span class=p>(</span><span class=n>cp</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1># 然后通过 move 函数把主窗口的左上角移动到其框架的左上角，这样就把窗口居中了</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>move</span><span class=p>(</span><span class=n>qr</span><span class=o>.</span><span class=n>topLeft</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>app</span> <span class=o>=</span> <span class=n>QApplication</span><span class=p>(</span><span class=n>sys</span><span class=o>.</span><span class=n>argv</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>ex</span> <span class=o>=</span> <span class=n>CenterWin</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>sys</span><span class=o>.</span><span class=n>exit</span><span class=p>(</span><span class=n>app</span><span class=o>.</span><span class=n>exec_</span><span class=p>())</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=布局>布局</h1><p>一般有两种方式：绝对布局 （absolute positioning）和 PyQt5 的 Layout 类</p><p>Layout 布局方式分为盒布局、网格布局、表单布局。</p><h2 id=绝对布局>绝对布局</h2><p>(absolute positioning)</p><p>绝对布局主要是在窗口程序中指定每一个控件的显示坐标和大小来实现布局</p><p>缺点</p><ul><li>窗口中控件的大小和位置不会随着我们更改窗口的位置和大小而变化。</li><li>不能适用于不同的平台和不同分辨率的显示器。</li><li>改变字体时可能会破坏布局。</li><li>如果我们决定重构这个应用，需要全部计算一下每个元素的位置和大小，既烦琐又费时。</li></ul><h2 id=盒布局>盒布局</h2><p>采用 <code>QBoxLayout</code> 类可以在水平和垂直方向上排列控件，分别为：<code>QHBoxLayout</code> 和 <code>QVBoxLayout</code></p><ul><li><p><em><strong>QBoxLayout.addStretch(int stretch)</strong></em></p><p>添加伸缩量</p><p><em>strentch</em>：均分的比例，默认为0</p></li><li><p><em><strong>QBoxLayout.addSpacing(int size)</strong></em></p><p>添加一个固定大小的间距</p><p><em>size</em>：间距</p></li><li><p><em><strong>QBoxLayout.addWidget(QWidget)</strong></em></p><p>在布局中添加控件</p></li><li><p><em><strong>QBoxLayout.addLayout(QBoxLayout)</strong></em></p><p>添加一个盒布局对象</p></li><li><p><em><strong>QWidget.setLayout(QBoxLayout)</strong></em></p><p>设置窗口的主要布局</p></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>#coding = &#39;utf-8&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>sys</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>PyQt5.QtWidgets</span> <span class=kn>import</span> <span class=p>(</span><span class=n>QWidget</span><span class=p>,</span> <span class=n>QPushButton</span><span class=p>,</span> <span class=n>QApplication</span><span class=p>,</span> <span class=n>QHBoxLayout</span><span class=p>,</span><span class=n>QVBoxLayout</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Example</span><span class=p>(</span><span class=n>QWidget</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>Init_UI</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>Init_UI</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>setGeometry</span><span class=p>(</span><span class=mi>300</span><span class=p>,</span> <span class=mi>300</span><span class=p>,</span> <span class=mi>400</span><span class=p>,</span> <span class=mi>300</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>setWindowTitle</span><span class=p>(</span><span class=s1>&#39;学点编程吧&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>bt1</span> <span class=o>=</span> <span class=n>QPushButton</span><span class=p>(</span><span class=s1>&#39;剪刀&#39;</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>bt2</span> <span class=o>=</span> <span class=n>QPushButton</span><span class=p>(</span><span class=s1>&#39;石头&#39;</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>bt3</span> <span class=o>=</span> <span class=n>QPushButton</span><span class=p>(</span><span class=s1>&#39;布&#39;</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>hbox</span> <span class=o>=</span> <span class=n>QHBoxLayout</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>hbox</span><span class=o>.</span><span class=n>addStretch</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>  <span class=c1># 增加伸缩量</span>
</span></span><span class=line><span class=cl>        <span class=n>hbox</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=n>bt1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>hbox</span><span class=o>.</span><span class=n>addStretch</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>  <span class=c1># 增加伸缩量</span>
</span></span><span class=line><span class=cl>        <span class=n>hbox</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=n>bt2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>hbox</span><span class=o>.</span><span class=n>addStretch</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>  <span class=c1># 增加伸缩量</span>
</span></span><span class=line><span class=cl>        <span class=n>hbox</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=n>bt3</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>hbox</span><span class=o>.</span><span class=n>addStretch</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>  <span class=c1># 增加伸缩量</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>vbox</span> <span class=o>=</span> <span class=n>QVBoxLayout</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>vbox</span><span class=o>.</span><span class=n>addStretch</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>vbox</span><span class=o>.</span><span class=n>addLayout</span><span class=p>(</span><span class=n>hbox</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>setLayout</span><span class=p>(</span><span class=n>vbox</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>app</span> <span class=o>=</span> <span class=n>QApplication</span><span class=p>(</span><span class=n>sys</span><span class=o>.</span><span class=n>argv</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>ex</span> <span class=o>=</span> <span class=n>Example</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>app</span><span class=o>.</span><span class=n>exit</span><span class=p>(</span><span class=n>app</span><span class=o>.</span><span class=n>exec_</span><span class=p>())</span>
</span></span></code></pre></td></tr></table></div></div><p><img class=lazyload src=/Notes/svg/loading.min.svg data-src=http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210212182700766.png data-srcset="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210212182700766.png, http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210212182700766.png 1.5x, http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210212182700766.png 2x" data-sizes=auto alt=http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210212182700766.png title=image-20210212182700766></p><h2 id=网格布局>网格布局</h2><p><code>QGridLayout</code>（网格布局）是将窗口分隔成行和列的网格来进行排列</p><ul><li><p><em><strong>QBoxLayout.addWidget(QWidget, frontRow, fromColumn, rowSpan, columnSpan)</strong></em></p><p>在布局中添加控件</p><p><em>frontRow</em>：起始行数</p><p><em>fromColumn</em>：起始列数</p><p><em>rowSpan</em>：跨越的行数</p><p><em>columnSpan</em>：跨越的列数</p></li><li><p><em><strong>QBoxLayout.addWidget(QWidget, row, column)</strong></em></p><p>在布局中添加控件</p><p><em>row</em>：行数</p><p><em>column</em>：列数</p></li><li><p><em><strong>QWidget.setLayout(QGridLayout)</strong></em></p><p>设置窗口的主要布局</p></li><li><p><em><strong>QBoxLayout.setSpacing(int spacing)</strong></em></p><p>控制控件在水平方向的间隔</p><p><em>spacing</em>：间隔</p></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>#coding = &#39;utf-8&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>sys</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>PyQt5.QtWidgets</span> <span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>QWidget</span><span class=p>,</span> <span class=n>QPushButton</span><span class=p>,</span> <span class=n>QApplication</span><span class=p>,</span> <span class=n>QGridLayout</span><span class=p>,</span> <span class=n>QLCDNumber</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Example</span><span class=p>(</span><span class=n>QWidget</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>Init_UI</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>Init_UI</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>setGeometry</span><span class=p>(</span><span class=mi>300</span><span class=p>,</span> <span class=mi>300</span><span class=p>,</span> <span class=mi>400</span><span class=p>,</span> <span class=mi>300</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>setWindowTitle</span><span class=p>(</span><span class=s1>&#39;学点编程吧-计算器&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>grid</span> <span class=o>=</span> <span class=n>QGridLayout</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>setLayout</span><span class=p>(</span><span class=n>grid</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>lcd</span> <span class=o>=</span> <span class=n>QLCDNumber</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>grid</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>lcd</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>grid</span><span class=o>.</span><span class=n>setSpacing</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>names</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;Cls&#39;</span><span class=p>,</span> <span class=s1>&#39;Bc&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;Close&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                 <span class=s1>&#39;7&#39;</span><span class=p>,</span> <span class=s1>&#39;8&#39;</span><span class=p>,</span> <span class=s1>&#39;9&#39;</span><span class=p>,</span> <span class=s1>&#39;/&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                 <span class=s1>&#39;4&#39;</span><span class=p>,</span> <span class=s1>&#39;5&#39;</span><span class=p>,</span> <span class=s1>&#39;6&#39;</span><span class=p>,</span> <span class=s1>&#39;*&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                 <span class=s1>&#39;1&#39;</span><span class=p>,</span> <span class=s1>&#39;2&#39;</span><span class=p>,</span> <span class=s1>&#39;3&#39;</span><span class=p>,</span> <span class=s1>&#39;-&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                 <span class=s1>&#39;0&#39;</span><span class=p>,</span> <span class=s1>&#39;.&#39;</span><span class=p>,</span> <span class=s1>&#39;=&#39;</span><span class=p>,</span> <span class=s1>&#39;+&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>positions</span> <span class=o>=</span> <span class=p>[(</span><span class=n>i</span><span class=p>,</span> <span class=n>j</span><span class=p>)</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=mi>9</span><span class=p>)</span> <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>)]</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>position</span><span class=p>,</span> <span class=n>name</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=n>positions</span><span class=p>,</span> <span class=n>names</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>name</span> <span class=o>==</span> <span class=s1>&#39;&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>continue</span>
</span></span><span class=line><span class=cl>            <span class=n>button</span> <span class=o>=</span> <span class=n>QPushButton</span><span class=p>(</span><span class=n>name</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>grid</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=n>button</span><span class=p>,</span> <span class=o>*</span><span class=n>position</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>button</span><span class=o>.</span><span class=n>clicked</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>Cli</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>Cli</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>sender</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>sender</span><span class=p>()</span><span class=o>.</span><span class=n>text</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>ls</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;/&#39;</span><span class=p>,</span> <span class=s1>&#39;*&#39;</span><span class=p>,</span> <span class=s1>&#39;-&#39;</span><span class=p>,</span> <span class=s1>&#39;=&#39;</span><span class=p>,</span> <span class=s1>&#39;+&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>sender</span> <span class=ow>in</span> <span class=n>ls</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>lcd</span><span class=o>.</span><span class=n>display</span><span class=p>(</span><span class=s1>&#39;A&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>lcd</span><span class=o>.</span><span class=n>display</span><span class=p>(</span><span class=n>sender</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>app</span> <span class=o>=</span> <span class=n>QApplication</span><span class=p>(</span><span class=n>sys</span><span class=o>.</span><span class=n>argv</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>ex</span> <span class=o>=</span> <span class=n>Example</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>app</span><span class=o>.</span><span class=n>exit</span><span class=p>(</span><span class=n>app</span><span class=o>.</span><span class=n>exec_</span><span class=p>())</span>
</span></span></code></pre></td></tr></table></div></div><p><img class=lazyload src=/Notes/svg/loading.min.svg data-src=http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210212191725891.png data-srcset="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210212191725891.png, http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210212191725891.png 1.5x, http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210212191725891.png 2x" data-sizes=auto alt=http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210212191725891.png title=image-20210212191725891></p><h2 id=表单布局>表单布局</h2><p><code>QFormLayout</code> 是 label-field 式的表单布局，顾名思义，就是实现表单方式的布局。表单是提示用户进行交互的一种模式，其主要由两列组成，第一列用于显示信息，给用户提示，一般叫作 label 域；第二列需要用户进行选择或输入，一般叫作 field 域。label 与 field 的关系就是 label 关联 field。</p><p><code>QFormLayout</code> 是一个方便的布局类，其中的控件以两列的形式被布局在表单中。左列包括标签，右列包含输入控件，例如：QLineEdit、QSpinBox、QTextEdit 等</p><ul><li><p><em><strong>QFormLayout.addRow(label, field)</strong></em></p><p>添加一行表单</p></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>sys</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>PyQt5.QtWidgets</span> <span class=kn>import</span> <span class=n>QApplication</span><span class=p>,</span> <span class=n>QWidget</span><span class=p>,</span> <span class=n>QFormLayout</span><span class=p>,</span> <span class=n>QLineEdit</span><span class=p>,</span> <span class=n>QLabel</span><span class=p>,</span> <span class=n>QTextEdit</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Winform</span><span class=p>(</span><span class=n>QWidget</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>parent</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>parent</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>setWindowTitle</span><span class=p>(</span><span class=s2>&#34;窗体布局管理例子&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>resize</span><span class=p>(</span><span class=mi>350</span><span class=p>,</span> <span class=mi>100</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>formlayout</span> <span class=o>=</span> <span class=n>QFormLayout</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>forms</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>[</span><span class=s1>&#39;姓名&#39;</span><span class=p>,</span> <span class=s1>&#39;阿芒&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>            <span class=p>[</span><span class=s1>&#39;性别&#39;</span><span class=p>,</span> <span class=s1>&#39;男&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>            <span class=p>[</span><span class=s1>&#39;年龄&#39;</span><span class=p>,</span> <span class=s1>&#39;17&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>name</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>forms</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>formlayout</span><span class=o>.</span><span class=n>addRow</span><span class=p>(</span><span class=n>QLabel</span><span class=p>(</span><span class=n>name</span><span class=p>),</span> <span class=n>QLabel</span><span class=p>(</span><span class=n>value</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>introductionLabel</span> <span class=o>=</span> <span class=n>QLabel</span><span class=p>(</span><span class=s2>&#34;简介&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>introductionLineEdit</span> <span class=o>=</span> <span class=n>QTextEdit</span><span class=p>(</span><span class=s2>&#34;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>formlayout</span><span class=o>.</span><span class=n>addRow</span><span class=p>(</span><span class=n>introductionLabel</span><span class=p>,</span> <span class=n>introductionLineEdit</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>setLayout</span><span class=p>(</span><span class=n>formlayout</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>app</span> <span class=o>=</span> <span class=n>QApplication</span><span class=p>(</span><span class=n>sys</span><span class=o>.</span><span class=n>argv</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>form</span> <span class=o>=</span> <span class=n>Winform</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>form</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>sys</span><span class=o>.</span><span class=n>exit</span><span class=p>(</span><span class=n>app</span><span class=o>.</span><span class=n>exec_</span><span class=p>())</span>
</span></span></code></pre></td></tr></table></div></div><p><img class=lazyload src=/Notes/svg/loading.min.svg data-src=http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210212193025509.png data-srcset="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210212193025509.png, http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210212193025509.png 1.5x, http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210212193025509.png 2x" data-sizes=auto alt=http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210212193025509.png title=image-20210212193025509></p><h1 id=显示类控件>显示类控件</h1><h2 id=qlabel>QLabel</h2><p><code>QLabel</code> 对象作为一个占位符可以显示不可编辑的文本、图片或者 GIF 动画等</p><p><code>QLabel</code> 是 GUI 中的标签类，它继承自 QFrame（是 QWidget 的子类）</p><h3 id=api>API</h3><h4 id=修改内容>修改内容</h4><ul><li><p><em><strong>setText(str text)</strong></em></p><ul><li>设置文本内容</li><li><em>text</em>：文本内容</li></ul></li><li><p><em><strong>setPixmap(QPixmap)</strong></em></p><ul><li>设置图片</li></ul></li><li><p><em><strong>setMovie(QMovie)</strong></em></p><ul><li><p>设置视频</p></li><li><p><code>QMovie</code> 类是用 QImageReader 播放动画的便捷类。</p><p>这个类用来显示没有声音的简单的动画</p></li></ul></li></ul><h4 id=文字设置>文字设置</h4><ul><li><em><strong>setAlignment()</strong></em><ul><li>按固定值方式对齐文本</li><li><code>Qt.AlignLeft</code>：水平方向靠左对齐；</li><li><code>Qt.AlignRight</code>:水平方向靠右对齐；</li><li><code>Qt.AlignCenter</code>：水平方向居中对齐；</li><li><code>Qt.AlignJustify</code>：水平方向调整间距两端对齐；</li><li><code>Qt.AlignTop</code>：垂直方向靠上对齐；</li><li><code>Qt.AlignBottom</code>：垂直方向靠下对齐；</li><li><code>Qt.AlignVCenter</code>：垂直方向居中对齐。</li></ul></li><li><em><strong>serIndent()</strong></em><ul><li>设置文本缩进值</li></ul></li><li><em><strong>setWordWrap()</strong></em><ul><li>设置是否允许换行</li></ul></li><li><em><strong>setFont(QFont)</strong></em><ul><li>设置字体的大小样式</li></ul></li><li><em><strong>setStyleSheet(str cssStyle)</strong></em><ul><li>设置 CSS 样式</li><li>cssStyle：CSS 样式，如 <code>"border-radius: 25px;border: 1px solid black;"</code></li></ul></li></ul><h4 id=返回>返回</h4><ul><li><em><strong>text()</strong></em><ul><li>返回文本内容</li></ul></li><li><em><strong>selectedText()</strong></em><ul><li>返回所选中的字符</li></ul></li></ul><h3 id=heading></h3><h1 id=文本框类控件>文本框类控件</h1><h2 id=qlineedit>QLineEdit</h2><p><code>QLineEdit</code> 类是一个单行文本框控件，可以输入单行字符串</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>更新于 2022-04-26</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span></span></div></div></div><div class=post-info-more><section class=post-tags></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/Notes/>主页</a></span></section></div><div class=post-nav><a href=/Notes/posts/python/%E5%8F%AF%E8%A7%86%E5%8C%96/tkinter/ class=prev rel=prev title><i class="fas fa-angle-left fa-fw"></i></a>
<a href=/Notes/posts/python/%E5%8F%AF%E8%A7%86%E5%8C%96/manim/ class=next rel=next title><i class="fas fa-angle-right fa-fw"></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>酒困路长惟欲睡，日高人渴漫思茶</div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2022</span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title=查看评论><i class="fas fa-comment fa-fw"></i></a></div><link rel=stylesheet href=/Notes/lib/katex/katex.min.css><link rel=stylesheet href=/Notes/lib/katex/copy-tex.min.css><script type=text/javascript src=/Notes/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=/Notes/lib/autocomplete/autocomplete.min.js></script><script type=text/javascript src=/Notes/lib/lunr/lunr.min.js></script><script type=text/javascript src=/Notes/lib/lunr/lunr.stemmer.support.min.js></script><script type=text/javascript src=/Notes/lib/lunr/lunr.zh.min.js></script><script type=text/javascript src=/Notes/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/Notes/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/Notes/lib/katex/katex.min.js></script><script type=text/javascript src=/Notes/lib/katex/auto-render.min.js></script><script type=text/javascript src=/Notes/lib/katex/copy-tex.min.js></script><script type=text/javascript src=/Notes/lib/katex/mhchem.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"复制到剪贴板",maxShownLines:45},comment:{},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{highlightTag:"em",lunrIndexURL:"/Notes/index.json",lunrLanguageCode:"zh",lunrSegmentitURL:"/Notes/lib/lunr/lunr.segmentit.js",maxResultLength:30,noResultsFound:"没有找到结果",snippetLength:50,type:"lunr"}}</script><script type=text/javascript src=/Notes/js/theme.min.js></script></body></html>