<!doctype html><html lang=zh-CN><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>Python 基础语法 - 伤心肠粉的酱油碟子</title><meta name=author content><meta name=author-link content><meta name=description content="基础语法 认识 强类型语言：解释器会根据赋值或运算来自动推断变量类型 动态类型语言：变"><meta name=keywords content="Python"><meta itemprop=name content="Python 基础语法"><meta itemprop=description content="基础语法 认识 强类型语言：解释器会根据赋值或运算来自动推断变量类型 动态类型语言：变"><meta itemprop=datePublished content="2021-12-22T00:00:00+00:00"><meta itemprop=dateModified content="2023-06-14T10:17:31+00:00"><meta itemprop=wordCount content="6973"><meta itemprop=image content="https://trouvaille0198.github.io/logo.png"><meta itemprop=keywords content="Python,"><meta property="og:title" content="Python 基础语法"><meta property="og:description" content="基础语法 认识 强类型语言：解释器会根据赋值或运算来自动推断变量类型 动态类型语言：变"><meta property="og:type" content="article"><meta property="og:url" content="https://trouvaille0198.github.io/Notes/posts/python/basicgrammar/"><meta property="og:image" content="https://trouvaille0198.github.io/logo.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-12-22T00:00:00+00:00"><meta property="article:modified_time" content="2023-06-14T10:17:31+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://trouvaille0198.github.io/logo.png"><meta name=twitter:title content="Python 基础语法"><meta name=twitter:description content="基础语法 认识 强类型语言：解释器会根据赋值或运算来自动推断变量类型 动态类型语言：变"><meta name=application-name content="FixIt"><meta name=apple-mobile-web-app-title content="FixIt"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#252627"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://trouvaille0198.github.io/Notes/posts/python/basicgrammar/><link rel=prev href=https://trouvaille0198.github.io/Notes/posts/python/%E6%A0%87%E5%87%86%E5%BA%93/sys/><link rel=next href=https://trouvaille0198.github.io/Notes/posts/python/web-backend/pydantic/models/><link rel=stylesheet href=/Notes/lib/normalize/normalize.min.css><link rel=stylesheet href=/Notes/css/style.min.css><link rel=stylesheet href=/Notes/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/Notes/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Python 基础语法","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/trouvaille0198.github.io\/Notes\/posts\/python\/basicgrammar\/"},"genre":"posts","keywords":"Python","wordcount":6973,"url":"https:\/\/trouvaille0198.github.io\/Notes\/posts\/python\/basicgrammar\/","datePublished":"2021-12-22T00:00:00+00:00","dateModified":"2023-06-14T10:17:31+00:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"MelonCholi"},"description":""}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/Notes/ title=伤心肠粉的酱油碟子><span class=header-title-text>伤心肠粉</span></a><span class=header-subtitle></span></div><nav><ul class=menu><li class=menu-item><a class=menu-link href=/Notes/categories/>分类</a></li><li class=menu-item><a class=menu-link href=/Notes/tags/>标签</a></li><li class=menu-item><a class=menu-link href=/Notes/posts/>文章</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id=search-desktop><input type=text placeholder="搜索文章标题或内容 ..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fa-solid fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fa-solid fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin"></i></span></li><li class="menu-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw"></i></li></ul></nav></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/Notes/ title=伤心肠粉的酱油碟子><span class=header-title-text>伤心肠粉</span></a><span class=header-subtitle></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="搜索文章标题或内容 ..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fa-solid fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fa-solid fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin"></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></li><li class=menu-item><a class=menu-link href=/Notes/categories/>分类</a></li><li class=menu-item><a class=menu-link href=/Notes/tags/>标签</a></li><li class=menu-item><a class=menu-link href=/Notes/posts/>文章</a></li><li class="menu-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw"></i></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=container page-style=normal><aside class=toc id=toc-auto><h2 class=toc-title>目录 <i class="toc-icon fa-solid fa-angle-down fa-fw"></i></h2><div class="toc-content always-active" id=toc-content-auto></div></aside><aside class=aside-custom></aside><article class="page single"><div class=header><h1 class="single-title animate__animated animate__flipInX"><span>Python 基础语法</span></h1></div><div class=post-meta><div class=post-meta-line><span class=post-author><span class=author><i class="fa-solid fa-user-circle"></i>
MelonCholi</span></span>
<span class=post-category>收录于 <a href=/Notes/categories/python/><i class="fa-regular fa-folder fa-fw"></i>&nbsp;Python</a></span></div><div class=post-meta-line><span title="2021-12-22 00:00:00"><i class="fa-regular fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2021-12-22>2021-12-22</time>
</span>&nbsp;<i class="fa-solid fa-pencil-alt fa-fw"></i>&nbsp;约 6973 字&nbsp;
<i class="fa-regular fa-clock fa-fw"></i>&nbsp;预计阅读 14 分钟&nbsp;</div></div><div class="details toc" id=toc-static kept=false><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fa-solid fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#认识>认识</a><ul><li><a href=#对象模型>对象模型</a></li><li><a href=#内存管理>内存管理</a></li><li><a href=#操作符>操作符</a></li><li><a href=#浅拷贝与深拷贝>浅拷贝与深拷贝</a></li></ul></li><li><a href=#选择结构>选择结构</a></li><li><a href=#循环结构>循环结构</a><ul><li><a href=#for-循环>for 循环</a><ul><li><a href=#格式>格式</a></li><li><a href=#特殊语句>特殊语句</a></li><li><a href=#迭代>迭代</a></li></ul></li><li><a href=#while-循环>while 循环</a></li><li><a href=#循环的-else-语句>循环的 else 语句</a></li></ul></li><li><a href=#函数>函数</a><ul><li><a href=#定义>定义</a></li><li><a href=#参数>参数</a><ul><li><a href=#默认参数>默认参数</a></li><li><a href=#可变参数>可变参数</a></li><li><a href=#关键字参数>关键字参数</a></li><li><a href=#补充>补充</a></li></ul></li><li><a href=#装饰器>装饰器</a></li><li><a href=#lambda-表达式>lambda 表达式</a></li></ul></li></ul><ul><li><a href=#基本语句>基本语句</a><ul><li><a href=#声明列表>声明列表</a></li><li><a href=#添加列表元素>添加列表元素</a></li><li><a href=#删除列表元素>删除列表元素</a></li><li><a href=#组织列表>组织列表</a><ul><li><a href=#按照首字母顺序排序列表永久性>按照首字母顺序排序列表(永久性）</a></li><li><a href=#按照首字母顺序排序列表临时性>按照首字母顺序排序列表(临时性)</a></li><li><a href=#倒着排序列表永久性>倒着排序列表(永久性)</a></li><li><a href=#倒着排序列表临时性>倒着排序列表(临时性)</a></li><li><a href=#确定列表的长度>确定列表的长度</a></li></ul></li><li><a href=#操作列表>操作列表</a><ul><li><a href=#遍历列表>遍历列表</a></li><li><a href=#列表解析>列表解析</a></li><li><a href=#创建切片>创建切片</a></li></ul></li><li><a href=#复制列表创建列表副本>复制列表/创建列表副本</a></li><li><a href=#检查元素是否在列表中>检查元素是否在列表中</a></li><li><a href=#其他函数>其他函数</a></li></ul></li><li><a href=#性质>性质</a><ul><li><a href=#序列对象的内存机制>序列对象的内存机制</a></li><li><a href=#列表表达式>列表表达式</a></li></ul></li><li><a href=#元组>元组</a><ul><li><a href=#定义元组>定义元组</a></li><li><a href=#注意>注意</a></li><li><a href=#序列解包>序列解包</a></li></ul></li><li><a href=#生成器>生成器</a><ul><li><a href=#定义-1>定义</a></li><li><a href=#创建>创建</a><ul><li><a href=#把一个列表生成式的--中括号改为--小括号>把一个列表生成式的 [] 中括号改为 () 小括号</a></li><li><a href=#构建函数>构建函数</a></li></ul></li></ul></li><li><a href=#技巧>技巧</a></li></ul><ul><li><a href=#基本语句-1>基本语句</a></li><li><a href=#集合>集合</a><ul><li><a href=#定义-2>定义</a></li><li><a href=#基本操作>基本操作</a></li><li><a href=#嵌套>嵌套</a><ul><li><a href=#在列表中存储字典>在列表中存储字典</a></li><li><a href=#在字典中存储列表>在字典中存储列表</a></li><li><a href=#在字典中存储字典>在字典中存储字典</a></li></ul></li></ul></li><li><a href=#相关函数>相关函数</a><ul><li><a href=#get>get()</a></li><li><a href=#len>len()</a></li></ul></li><li><a href=#其他技巧>其他技巧</a></li></ul><ul><li><a href=#基本语句-2>基本语句</a><ul><li><a href=#创建类>创建类</a></li><li><a href=#创建方法>创建方法</a></li><li><a href=#使用类和实例>使用类和实例</a></li><li><a href=#调用方法>调用方法</a></li></ul></li><li><a href=#继承>继承</a><ul><li><a href=#子类>子类</a></li><li><a href=#给子类定义方法>给子类定义方法</a></li><li><a href=#使用子类和实例>使用子类和实例</a></li></ul></li><li><a href=#导入>导入</a><ul><li><a href=#关于-if-__name__--__main__>关于 <code>if __name__ == '__main__'</code></a></li></ul></li><li><a href=#私有成员与公有成员>私有成员与公有成员</a></li><li><a href=#特殊方法>特殊方法</a></li></ul><ul><li><a href=#读取文件>读取文件</a><ul><li><a href=#全部读取>全部读取</a></li><li><a href=#逐行读取>逐行读取</a></li><li><a href=#创建一个包含文件各行内容的列表>创建一个包含文件各行内容的列表</a></li><li><a href=#使用文件内容并将文件的空格全部移除>使用文件内容并将文件的空格全部移除</a></li></ul></li><li><a href=#写入文件>写入文件</a><ul><li><a href=#写入空文件>写入空文件</a></li><li><a href=#附加到文件>附加到文件</a></li></ul></li><li><a href=#其他打开方式>其他打开方式</a></li><li><a href=#用-json-处理数据>用 json 处理数据</a><ul><li><a href=#json-格式>json 格式</a></li><li><a href=#导入模块>导入模块</a></li><li><a href=#存储数据>存储数据</a></li><li><a href=#读取数据>读取数据</a><ul><li><a href=#数据转换表>数据转换表</a></li><li><a href=#其他特点>其他特点</a></li></ul></li><li><a href=#输出数据>输出数据</a></li></ul></li></ul></nav></div></div><div class=content id=content><h1 id=基础语法>基础语法</h1><h2 id=认识>认识</h2><p>强类型语言：解释器会根据赋值或运算来自动推断变量类型</p><p>动态类型语言：变量类型可以随时变化，是为 “状态机”</p><h3 id=对象模型>对象模型</h3><ul><li>对象：python 中处理的每样 “东西” 都是对象<ul><li>内置对象：可直接使用<ul><li>如数字、字符串、列表、del 等；</li></ul></li><li>非内置对象：需要导入模块才能使用<ul><li>如 sin(x)，random() 等。</li></ul></li></ul></li></ul><h3 id=内存管理>内存管理</h3><p>python 采用基于值的管理方式</p><ul><li><p>在 Python 中，即使是简单的赋值语句 <code>a = 1</code>，也只是将变量标识符 <code>a</code> 引用向对象 <code>1</code></p><ul><li><img class=lazyload src=/Notes/svg/loading.min.svg data-src=https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210529161755060.png data-srcset="https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210529161755060.png, https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210529161755060.png 1.5x, https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210529161755060.png 2x" data-sizes=auto alt=https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210529161755060.png title=image-20210529161755060></li></ul></li><li><p>基于值的内存管理：小整数、短字符串等对象都被 Python 缓存，多个变量值相等时，可能会有相同的 id</p></li><li><p>在 <code>a = b</code> 中，建立的是 <code>a</code> 对 <code>b</code> 的引用。</p></li><li><p>使用 <code>a is b</code> 来判断 a 和 b 是否引用同一对象，<code>a is b</code> 是 <code>id(a) == id(b)</code> 的充分非必要条件</p></li><li><p>解释器会跟踪所有值，没有变量指向的自动删除，但自动内存管理不保证及时释放内存</p></li><li><p>使用 <code>del(a)</code> 主动释放一个变量，但如果对象还被引用不会导致对象被消除</p></li><li><p>形如 <code>a.append(a)</code> 会造成引用环，对垃圾回收会造成一定困难</p></li></ul><h3 id=操作符>操作符</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span> <span class=o>*</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=s1>&#39;1&#39;</span> <span class=o>*</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;11111&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;</span> <span class=mi>3</span> <span class=o>*</span> <span class=s1>&#39;a&#39;</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;aaa&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]</span> <span class=o>+</span> <span class=p>[</span><span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=浅拷贝与深拷贝>浅拷贝与深拷贝</h3><ul><li><p>浅拷贝出来的是一个独立的对象，但它的子对象还是原对象中的子对象</p></li><li><p>深拷贝会<strong>递归</strong>地拷贝原对象中的每一个子对象，因此拷贝后的对象和原对象互不相关。</p></li></ul><p>列表的切片是浅拷贝，是对原列表的引用。当列表含列表元素时，会产生问题</p><h2 id=选择结构>选择结构</h2><p>格式</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>if</span><span class=err> </span><span class=o>&lt;</span><span class=n>condition1</span><span class=o>&gt;</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=err>    </span><span class=o>&lt;</span><span class=n>statement1</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=k>elif</span><span class=err> </span><span class=o>&lt;</span><span class=err> </span><span class=n>condition2</span><span class=o>&gt;</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=err>    </span><span class=o>&lt;</span><span class=n>statement2</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=k>elif</span><span class=err> </span><span class=o>&lt;</span><span class=err> </span><span class=n>condition3</span><span class=o>&gt;</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=err>    </span><span class=o>&lt;</span><span class=n>statement3</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=err>    </span><span class=o>&lt;</span><span class=n>statement4</span><span class=o>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>注意冒号和缩进</p><h2 id=循环结构>循环结构</h2><p>循环后可以跟 <code>else</code> 语句，当循环正常结束时执行，不正常结束就不执行</p><h3 id=for-循环>for 循环</h3><h4 id=格式>格式</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>for</span><span class=err> </span><span class=o>&lt;</span><span class=err> </span><span class=n>variable</span><span class=o>&gt;</span><span class=err> </span><span class=ow>in</span><span class=err> </span><span class=o>&lt;</span><span class=err> </span><span class=n>sequence</span><span class=err> </span><span class=o>&gt;</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=err>    </span><span class=o>&lt;</span><span class=n>statements</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=err>    </span><span class=o>&lt;</span><span class=n>statements</span><span class=o>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=特殊语句>特殊语句</h4><ul><li><strong>break</strong> 语句可以跳出 for 和 while 的循环体。如果你从 for 或 while 循环中终止，任何对应的循环 else 块将不执行</li><li><strong>continue</strong> 语句被用来告诉 Python 跳过当前循环块中的剩余语句，然后继续进行下一轮循环</li></ul><h4 id=迭代>迭代</h4><p>如果给定一个 list 或 tuple，我们可以通过 for 循环来遍历这个 list 或 tuple，这种遍历我们称为迭代（Iteration）。在 Python 中，迭代是通过 for &mldr; in 来完成的。Python 的 for 循环不仅可以用在 list 或 tuple 上，还可以作用在其他可迭代对象上</p><ol><li>默认情况下，dict 迭代的是 key。如果要迭代 value，可以用 for value in d.values()，如果要同时迭代 key 和 value，可以用<code>for k, v in d.items()</code></li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>d</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;a&#39;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s1>&#39;c&#39;</span><span class=p>:</span> <span class=mi>3</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=k>for</span> <span class=n>key</span> <span class=ow>in</span> <span class=n>d</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=o>...</span>     <span class=nb>print</span><span class=p>(</span><span class=n>key</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>...</span>
</span></span><span class=line><span class=cl><span class=n>a</span>
</span></span><span class=line><span class=cl><span class=n>c</span>
</span></span><span class=line><span class=cl><span class=n>b</span>
</span></span></code></pre></td></tr></table></div></div><ol start=2><li>由于字符串也是可迭代对象，因此，也可以作用于 for 循环</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=k>for</span> <span class=n>ch</span> <span class=ow>in</span> <span class=s1>&#39;ABC&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=o>...</span>     <span class=nb>print</span><span class=p>(</span><span class=n>ch</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>...</span>
</span></span><span class=line><span class=cl><span class=n>A</span>
</span></span><span class=line><span class=cl><span class=n>B</span>
</span></span><span class=line><span class=cl><span class=n>C</span>
</span></span></code></pre></td></tr></table></div></div><p>如何判断一个对象是可迭代对象呢？方法是通过 collections 模块的 Iterable 类型判断</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=kn>from</span> <span class=nn>collections</span> <span class=kn>import</span> <span class=n>Iterable</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>isinstance</span><span class=p>(</span><span class=s1>&#39;abc&#39;</span><span class=p>,</span> <span class=n>Iterable</span><span class=p>)</span> <span class=c1># str是否可迭代</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>isinstance</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>],</span> <span class=n>Iterable</span><span class=p>)</span> <span class=c1># list是否可迭代</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>isinstance</span><span class=p>(</span><span class=mi>123</span><span class=p>,</span> <span class=n>Iterable</span><span class=p>)</span> <span class=c1># 整数是否可迭代</span>
</span></span><span class=line><span class=cl><span class=kc>False</span>
</span></span></code></pre></td></tr></table></div></div><p>迭代时，产生的是临时变量，修改此临时变量不会影响本身迭代对象里对应元素的值</p><h3 id=while-循环>while 循环</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>while</span><span class=err> </span><span class=o>&lt;</span><span class=n>condition</span><span class=o>&gt;</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=err>    </span><span class=o>&lt;</span><span class=n>statements</span><span class=o>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=循环的-else-语句>循环的 else 语句</h3><p>循环自然结束，就执行 else 中的语句，如果遇到 break，则不执行 else 中的语句</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>for</span><span class=err> </span><span class=o>&lt;</span><span class=err> </span><span class=n>variable</span><span class=o>&gt;</span><span class=err> </span><span class=ow>in</span><span class=err> </span><span class=o>&lt;</span><span class=err> </span><span class=n>sequence</span><span class=err> </span><span class=o>&gt;</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=err>    </span><span class=o>&lt;</span><span class=n>statements</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=err>    </span><span class=o>&lt;</span><span class=n>statements</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl><span class=c1># or</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>while</span> <span class=o>&lt;</span><span class=n>conditions</span><span class=o>&gt;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=n>statements</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=n>statements</span><span class=o>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=函数>函数</h2><h3 id=定义>定义</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>def</span><span class=err> </span><span class=n>函数名</span><span class=err>（</span><span class=n>参数列表</span><span class=err>）</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>函数体</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=参数>参数</h3><h4 id=默认参数>默认参数</h4><p>必选参数在前，默认参数在后，否则 Python 的解释器会报错</p><p>当函数有多个参数时，把变化大的参数放前面，变化小的参数放后面。变化小的参数就可以作为默认参数</p><h4 id=可变参数>可变参数</h4><p>传入的参数个数可变</p><ol><li>传列表、元组</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>def</span><span class=err> </span><span class=n>calc</span><span class=p>(</span><span class=n>numbers</span><span class=p>):</span>
</span></span><span class=line><span class=cl><span class=err>    </span>
</span></span><span class=line><span class=cl><span class=n>calc</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=err> </span><span class=mi>2</span><span class=p>,</span><span class=err> </span><span class=mi>3</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=n>calc</span><span class=p>((</span><span class=mi>1</span><span class=p>,</span><span class=err> </span><span class=mi>3</span><span class=p>,</span><span class=err> </span><span class=mi>5</span><span class=p>,</span><span class=err> </span><span class=mi>7</span><span class=p>))</span>
</span></span></code></pre></td></tr></table></div></div><ol start=2><li>用*号</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>def</span><span class=err> </span><span class=n>calc</span><span class=p>(</span><span class=o>*</span><span class=n>numbers</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>calc</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=err> </span><span class=mi>2</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>*numbers 表示把 number 这个 list 的所有元素作为可变参数传进去。这种写法相当有用，而且很常见</p><h4 id=关键字参数>关键字参数</h4><p>关键字参数允许你传入 0 个或任意个含参数名的参数，这些关键字参数在函数内部自动组装为一个 dict</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>def</span><span class=err> </span><span class=n>func</span><span class=p>(</span><span class=n>name</span><span class=p>,</span><span class=err> </span><span class=n>age</span><span class=p>,</span><span class=err> </span><span class=o>**</span><span class=n>kw</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>extra</span><span class=err> </span><span class=o>=</span><span class=err> </span><span class=p>{</span><span class=s1>&#39;city&#39;</span><span class=p>:</span><span class=err> </span><span class=s1>&#39;Beijing&#39;</span><span class=p>,</span><span class=err> </span><span class=s1>&#39;job&#39;</span><span class=p>:</span><span class=err> </span><span class=s1>&#39;Engineer&#39;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>func</span><span class=p>(</span><span class=s1>&#39;Jack&#39;</span><span class=p>,</span><span class=err> </span><span class=mi>24</span><span class=p>,</span><span class=err> </span><span class=n>city</span><span class=o>=</span><span class=n>extra</span><span class=p>[</span><span class=s1>&#39;city&#39;</span><span class=p>],</span><span class=err> </span><span class=n>job</span><span class=o>=</span><span class=n>extra</span><span class=p>[</span><span class=s1>&#39;job&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=n>func</span><span class=p>(</span><span class=s1>&#39;Jack&#39;</span><span class=p>,</span><span class=err> </span><span class=mi>24</span><span class=p>,</span><span class=err> </span><span class=o>**</span><span class=n>extra</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>**extra 表示把 extra 这个 dict 的所有 key-value 用关键字参数传入到函数的 **kw 参数</p><h4 id=补充>补充</h4><p>*args 是可变参数，args 接收的是一个 tuple</p><p>**kwargs 是关键字参数，kwargs 接收的是一个 dict</p><h3 id=装饰器>装饰器</h3><p>功能：在不改变原函数结构的基础上为原函数增添新功能</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>timer</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>start</span><span class=o>=</span><span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>a</span><span class=o>=</span><span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>end</span><span class=o>=</span><span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;time taken:&#34;</span><span class=p>,</span><span class=n>end</span><span class=o>-</span><span class=n>start</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>a</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>wrapper</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>add</span><span class=p>(</span><span class=n>a</span><span class=p>,</span><span class=n>b</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>a</span><span class=o>+</span><span class=n>b</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>sub</span><span class=p>(</span><span class=n>a</span><span class=p>,</span><span class=n>b</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>a</span><span class=o>-</span><span class=n>b</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>add</span><span class=o>=</span><span class=n>timer</span><span class=p>(</span><span class=n>add</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>sub</span><span class=o>=</span><span class=n>timer</span><span class=p>(</span><span class=n>sub</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>add</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>sub</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>))</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nd>@timer</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>add</span><span class=p>(</span><span class=n>a</span><span class=p>,</span><span class=n>b</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>a</span><span class=o>+</span><span class=n>b</span>
</span></span><span class=line><span class=cl><span class=nd>@timer</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>sub</span><span class=p>(</span><span class=n>a</span><span class=p>,</span><span class=n>b</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>a</span><span class=o>-</span><span class=n>b</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>add</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>sub</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>))</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=lambda-表达式>lambda 表达式</h3><p>声明临时用的匿名函数</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>f</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>,</span><span class=n>y</span><span class=p>,</span><span class=n>z</span><span class=p>:</span><span class=n>x</span><span class=o>+</span><span class=n>y</span><span class=o>+</span><span class=n>z</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span> <span class=n>f</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=mi>6</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>pow</span><span class=p>(</span><span class=n>x</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>x</span><span class=o>**</span><span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=nb>list</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=nb>pow</span><span class=p>,</span> <span class=n>a</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># or</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>pow</span><span class=p>(</span><span class=n>x</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>x</span><span class=o>**</span><span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=nb>list</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span><span class=nb>pow</span><span class=p>(</span><span class=n>x</span><span class=p>),</span> <span class=n>a</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># or</span>
</span></span><span class=line><span class=cl><span class=nb>list</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span><span class=n>x</span><span class=o>**</span><span class=mi>2</span><span class=p>,</span><span class=n>a</span><span class=p>))</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=列表>列表</h1><p>列表赋值，实质上指向同一块内存</p><p>要创建指向不同内存的列表，使用切片</p><h2 id=基本语句>基本语句</h2><h3 id=声明列表>声明列表</h3><p>例</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>favorate_singers</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;Mika&#39;</span><span class=p>,</span><span class=s1>&#39;Jay Chou&#39;</span><span class=p>,</span><span class=s1>&#39;Bruno Mars&#39;</span><span class=p>,</span><span class=s1>&#39;Ed Sheeran&#39;</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=添加列表元素>添加列表元素</h3><ol><li>在列表末尾添加元素</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>list</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><ol start=2><li>在列表中插入元素</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>list</span><span class=o>.</span><span class=n>insert</span><span class=p>(</span><span class=n>index</span><span class=err>，</span><span class=n>value</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><ol start=3><li>在列表末尾合并另一个列表</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>list_a</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span><span class=n>list_b</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=删除列表元素>删除列表元素</h3><ol><li>知晓索引并将其删除</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl> <span class=k>del</span> <span class=nb>list</span><span class=p>[</span><span class=n>index</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><ol start=2><li>删除元素并将其弹出</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>list</span><span class=o>.</span><span class=n>pop</span><span class=p>([</span><span class=n>index</span><span class=p>])</span>	   <span class=c1># 括号内为空，则弹出最后一个元素；返回弹出的元素值</span>
</span></span></code></pre></td></tr></table></div></div><ol start=3><li>根据值删除元素</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>list</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>      <span class=c1># 只删除第一个指定的值，要删除多个相同值需使用循环</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=组织列表>组织列表</h3><h4 id=按照首字母顺序排序列表永久性>按照首字母顺序排序列表(永久性）</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>list</span><span class=o>.</span><span class=n>sort</span><span class=p>()</span>	<span class=c1># 反向排序：列表名.sort(reverse=True)</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=按照首字母顺序排序列表临时性>按照首字母顺序排序列表(临时性)</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>sorted</span><span class=p>(</span><span class=nb>list</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=倒着排序列表永久性>倒着排序列表(永久性)</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>list</span><span class=o>.</span><span class=n>reverse</span><span class=p>()</span>	<span class=c1># 恢复的办法，再来一次 reverse()</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=倒着排序列表临时性>倒着排序列表(临时性)</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>reversed</span><span class=p>(</span><span class=nb>list</span><span class=p>)</span> <span class=c1># 返回迭代器</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=确定列表的长度>确定列表的长度</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>len</span><span class=p>(</span><span class=nb>list</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=操作列表>操作列表</h3><h4 id=遍历列表>遍历列表</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>L</span><span class=o>=</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>L</span><span class=p>)):</span>
</span></span><span class=line><span class=cl>     <span class=n>L</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>+=</span><span class=mi>10</span>         
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>L</span><span class=p>)</span> 
</span></span><span class=line><span class=cl>               <span class=c1>#等效于</span>
</span></span><span class=line><span class=cl><span class=n>L</span><span class=o>=</span><span class=p>[]</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>6</span><span class=p>):</span>
</span></span><span class=line><span class=cl>	<span class=n>L</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>i</span><span class=o>+</span><span class=mi>10</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>L</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=列表解析>列表解析</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>L</span><span class=o>=</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>L</span><span class=o>=</span><span class=p>[</span><span class=n>x</span><span class=o>+</span><span class=mi>10</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>L</span><span class=p>]</span>     <span class=c1>#result:[11,12,13,14,15]</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=创建切片>创建切片</h4><p>参数 [start_index: stop_index: step] ：</p><pre><code> start_index是切片的起始位置索引，不提供时默认从头
   
 stop_index是切片的结束位置（**不包括**）索引，不提供时默认至尾,可为负
   
 step为步长，可以不提供，默认值是1
</code></pre><h3 id=复制列表创建列表副本>复制列表/创建列表副本</h3><p>用切片复制</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>List2</span> <span class=o>=</span> <span class=n>List1</span><span class=p>[:]</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=检查元素是否在列表中>检查元素是否在列表中</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>List</span> <span class=o>=</span> <span class=p>[</span><span class=n>a</span><span class=p>,</span><span class=n>b</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=n>d</span><span class=p>,</span><span class=n>e</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=n>a</span> <span class=ow>in</span> <span class=n>List</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=n>a</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>List</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=其他函数>其他函数</h3><ul><li><em><strong>list.index(value)</strong></em><ul><li>返回值为 value 的首个元素的下标</li></ul></li><li><em><strong>list.count(value)</strong></em><ul><li>返回值为 value 的元素在列表中出现的个数</li></ul></li></ul><h2 id=性质>性质</h2><h3 id=序列对象的内存机制>序列对象的内存机制</h3><p>序列对象在内存中的起始地址是不变的，修改序列中的值不会影响到整个序列的起始地址。（有点像链表）</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span><span class=o>=</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>id</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=mi>2790016530624</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>=</span><span class=mi>4</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>id</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=mi>2790016530624</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span><span class=o>=</span><span class=p>[</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>6</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>id</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=mi>2790016530560</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>b</span><span class=o>=</span><span class=n>a</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>id</span><span class=p>(</span><span class=n>a</span><span class=p>)</span><span class=o>==</span><span class=nb>id</span><span class=p>(</span><span class=n>b</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span></code></pre></td></tr></table></div></div><ol><li><p>使用 <code>extend()</code> 不会改变地址</p></li><li><p>使用乘法运算相当于创建了一个新列表，改变了地址</p></li><li><p>使用乘法复制了列表中的列表元素时，实质上是创建了其引用，非常危险</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span> <span class=o>=</span> <span class=p>[[</span><span class=mi>0</span><span class=p>]</span> <span class=o>*</span> <span class=mi>2</span><span class=p>]</span> <span class=o>*</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span>
</span></span><span class=line><span class=cl><span class=p>[[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>],</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>],</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span><span class=o>=</span><span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span>
</span></span><span class=line><span class=cl><span class=p>[[</span><span class=mi>2</span><span class=p>,</span> <span class=mi>0</span><span class=p>],</span> <span class=p>[</span><span class=mi>2</span><span class=p>,</span> <span class=mi>0</span><span class=p>],</span> <span class=p>[</span><span class=mi>2</span><span class=p>,</span> <span class=mi>0</span><span class=p>]]</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>列表直接赋值是深拷贝，修改其一，另一也会变；而切片是浅拷贝，可以放心使用</p></li></ol><h3 id=列表表达式>列表表达式</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=p>[</span><span class=n>v</span><span class=o>**</span><span class=mi>2</span> <span class=k>if</span> <span class=n>v</span><span class=o>%</span><span class=mi>2</span><span class=o>==</span><span class=mi>0</span> <span class=k>else</span> <span class=n>v</span><span class=o>+</span><span class=mi>1</span> <span class=k>for</span> <span class=n>v</span> <span class=ow>in</span> <span class=p>[</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=k>if</span> <span class=n>v</span><span class=o>&gt;</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>4</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>16</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=元组>元组</h2><p>概念：不可变的列表，用圆括号来标识（tuple）</p><p>元组可以作为字典的键，而列表不能</p><h3 id=定义元组>定义元组</h3><p>例</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>tup1</span> <span class=o>=</span> <span class=p>(</span><span class=s1>&#39;physics&#39;</span><span class=p>,</span> <span class=s1>&#39;chemistry&#39;</span><span class=p>,</span> <span class=mi>1997</span><span class=p>,</span> <span class=mi>2000</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>tup2</span> <span class=o>=</span> <span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span> <span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>tup3</span> <span class=o>=</span> <span class=s2>&#34;a&#34;</span><span class=p>,</span> <span class=s2>&#34;b&#34;</span><span class=p>,</span> <span class=s2>&#34;c&#34;</span><span class=p>,</span> <span class=s2>&#34;d&#34;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=注意>注意</h3><ol><li>元组本身不可改变，但是可以给元组变量赋值</li><li>元组中只包含一个元素时，需要在元素后面添加逗号</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>tup1</span> <span class=o>=</span> <span class=p>(</span><span class=mi>50</span><span class=p>,</span> <span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><ol start=3><li>可以对元组进行连接组合</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>tup1</span> <span class=o>=</span>  
</span></span><span class=line><span class=cl><span class=n>tup2</span> <span class=o>=</span> <span class=p>(</span><span class=s1>&#39;abc&#39;</span><span class=p>,</span> <span class=s1>&#39;xyz&#39;</span><span class=p>)</span> 
</span></span><span class=line><span class=cl><span class=n>tup3</span> <span class=o>=</span> <span class=n>tup1</span> <span class=o>+</span> <span class=n>tup2</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=序列解包>序列解包</h3><p>可以使用元组进行序列解包</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span><span class=p>,</span><span class=n>b</span><span class=p>,</span><span class=n>c</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=n>a</span><span class=p>,</span><span class=n>b</span><span class=p>,</span><span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=mi>1</span> <span class=mi>2</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=o>*</span><span class=nb>range</span><span class=p>(</span><span class=mi>4</span><span class=p>),</span><span class=mi>4</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=p>[</span><span class=o>*</span><span class=nb>range</span><span class=p>(</span><span class=mi>4</span><span class=p>),</span><span class=mi>4</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=p>{</span><span class=s1>&#39;x&#39;</span><span class=p>:</span><span class=mi>1</span><span class=p>,</span> <span class=o>**</span><span class=p>{</span><span class=s1>&#39;y&#39;</span><span class=p>:</span><span class=mi>2</span><span class=p>}}</span>
</span></span><span class=line><span class=cl><span class=p>{</span><span class=s1>&#39;x&#39;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s1>&#39;y&#39;</span><span class=p>:</span> <span class=mi>2</span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=生成器>生成器</h2><h3 id=定义-1>定义</h3><p>在 Python 中，一边循环一边计算的机制，称为生成器（generator）</p><p>生成器是一个特殊的程序，可以被用作控制循环的迭代行为，python 中生成器是迭代器的一种，使用 yield 返回值函数，每次调用 yield 会暂停，而可以使用 <code>next() </code> 函数和 <code>send()</code> 函数恢复生成器</p><p>生成器类似于返回值为数组的一个函数，这个函数可以接受参数，可以被调用，但是，不同于一般的函数会一次性返回包括了所有数值的数组，生成器一次只能产生一个值，这样消耗的内存数量将大大减小，而且允许调用函数可以很快的处理前几个返回值，因此生成器看起来像是一个函数，但是表现得却像是迭代器</p><h3 id=创建>创建</h3><h4 id=把一个列表生成式的--中括号改为--小括号>把一个列表生成式的 [] 中括号改为 () 小括号</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>l</span><span class=err> </span><span class=o>=</span><span class=err> </span><span class=p>[</span><span class=n>x</span><span class=o>*</span><span class=n>x</span><span class=err> </span><span class=k>for</span><span class=err> </span><span class=n>x</span><span class=err> </span><span class=ow>in</span><span class=err> </span><span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>)]</span>
</span></span><span class=line><span class=cl><span class=n>g</span><span class=err> </span><span class=o>=</span><span class=err> </span><span class=p>(</span><span class=n>x</span><span class=o>*</span><span class=n>x</span><span class=err> </span><span class=k>for</span><span class=err> </span><span class=n>x</span><span class=err> </span><span class=ow>in</span><span class=err> </span><span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>))</span>
</span></span></code></pre></td></tr></table></div></div><ol><li>直接打印 g 的结果</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&lt;</span><span class=n>generator</span><span class=err> </span><span class=nb>object</span><span class=err> </span><span class=o>&lt;</span><span class=n>genexpr</span><span class=o>&gt;</span> <span class=n>at</span><span class=err> </span><span class=mh>0x000002A4CBF9EBA0</span><span class=o>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><ol start=2><li><p>打印值</p><p>如果要一个个打印出来，可以通过 <code>next()</code> 函数获得 generator 的下一个返回值</p></li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>next</span><span class=p>(</span><span class=n>g</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>next</span><span class=p>(</span><span class=n>g</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>next</span><span class=p>(</span><span class=n>g</span><span class=p>))</span>
</span></span></code></pre></td></tr></table></div></div><p>计算出最后一个元素，没有更多的元素时，会抛出 StopIteration 的错误</p><p>或使用 for 循环</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>for</span><span class=err> </span><span class=n>i</span><span class=err> </span><span class=ow>in</span><span class=err> </span><span class=n>g</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=构建函数>构建函数</h4><p>如果一个函数定义中包含 yield 关键字，那么这个函数就不再是一个普通函数，而是一个 generator</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>def</span><span class=err> </span><span class=n>generator</span><span class=p>(</span><span class=nb>max</span><span class=p>):</span>
</span></span><span class=line><span class=cl><span class=err>    </span><span class=n>x</span><span class=err> </span><span class=o>=</span><span class=err> </span><span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=err>    </span><span class=k>while</span><span class=err> </span><span class=n>x</span><span class=err> </span><span class=o>&lt;=</span><span class=err> </span><span class=nb>max</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=err>        </span><span class=k>yield</span><span class=err> </span><span class=n>x</span><span class=o>**</span><span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=err>        </span><span class=n>x</span><span class=err> </span><span class=o>+=</span><span class=err> </span><span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=err>    </span><span class=k>return</span><span class=err> </span><span class=s1>&#39;done&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>g</span><span class=err> </span><span class=o>=</span><span class=err> </span><span class=n>generator</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=技巧>技巧</h2><ol><li>索引数从 0 开始</li><li>将索引指定为 -1，可以返回最后一个列表元素</li><li>负数索引返回离列表末尾相应距离的元素，如 print(list[-3:]) 即打印 list 的最后三个元素</li></ol><p><img class=lazyload src=/Notes/svg/loading.min.svg data-src=https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20201206215555032.png data-srcset="https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20201206215555032.png, https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20201206215555032.png 1.5x, https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20201206215555032.png 2x" data-sizes=auto alt=https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20201206215555032.png title=image-20201206215555032></p><ol start=4><li><p>在 if 语句和 while 语句中，将列表名用在条件表达式中时，列表包含至少一个元素，则返回 True；列表为空返回 False</p></li><li><p>关于切片</p><ul><li><p>元组（tuple）也是一种 list，唯一区别是 tuple 不可变。因此，tuple 也可以用切片操作，只是操作的结果仍是 tuple</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>)[:</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>字符串&rsquo;xxx&rsquo;也可以看成是一种 list，每个元素就是一个字符。因此，字符串也可以用切片操作，只是操作结果仍是字符串</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=s1>&#39;ABCDEFG&#39;</span><span class=p>[:</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;ABC&#39;</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=s1>&#39;ABCDEFG&#39;</span><span class=p>[::</span><span class=mi>2</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;ACEG&#39;</span>
</span></span></code></pre></td></tr></table></div></div></li></ul></li><li><p>运用列表生成式</p><ul><li><p>要生成[1x1, 2x2, 3x3, &mldr;, 10x10]</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=p>[</span><span class=n>x</span> <span class=o>*</span> <span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>11</span><span class=p>)]</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>筛选出仅偶数的平方</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=p>[</span><span class=n>x</span> <span class=o>*</span> <span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>11</span><span class=p>)</span> <span class=k>if</span> <span class=n>x</span> <span class=o>%</span> <span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>生成全排列</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=p>[</span><span class=n>m</span> <span class=o>+</span> <span class=n>n</span> <span class=k>for</span> <span class=n>m</span> <span class=ow>in</span> <span class=s1>&#39;ABC&#39;</span> <span class=k>for</span> <span class=n>n</span> <span class=ow>in</span> <span class=s1>&#39;XYZ&#39;</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>列出当前目录下的所有文件和目录名</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span> <span class=nn>os</span> <span class=c1># 导入os模块</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=p>[</span><span class=n>d</span> <span class=k>for</span> <span class=n>d</span> <span class=ow>in</span> <span class=n>os</span><span class=o>.</span><span class=n>listdir</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>)]</span> <span class=c1># os.listdir可以列出文件和目录</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=s1>&#39;.emacs.d&#39;</span><span class=p>,</span> <span class=s1>&#39;.ssh&#39;</span><span class=p>,</span> <span class=s1>&#39;.Trash&#39;</span><span class=p>,</span> <span class=s1>&#39;Adlm&#39;</span><span class=p>,</span> <span class=s1>&#39;Applications&#39;</span><span class=p>,</span> <span class=s1>&#39;Desktop&#39;</span><span class=p>,</span> <span class=s1>&#39;Documents&#39;</span><span class=p>,</span> <span class=s1>&#39;Downloads&#39;</span><span class=p>,</span> <span class=s1>&#39;Library&#39;</span><span class=p>,</span> <span class=s1>&#39;Movies&#39;</span><span class=p>,</span> <span class=s1>&#39;Music&#39;</span><span class=p>,</span> <span class=s1>&#39;Pictures&#39;</span><span class=p>,</span> <span class=s1>&#39;Public&#39;</span><span class=p>,</span> <span class=s1>&#39;VirtualBox VMs&#39;</span><span class=p>,</span> <span class=s1>&#39;Workspace&#39;</span><span class=p>,</span> <span class=s1>&#39;XCode&#39;</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>把一个 list 中所有的字符串变成小写</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>L</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;Hello&#39;</span><span class=p>,</span> <span class=s1>&#39;World&#39;</span><span class=p>,</span> <span class=s1>&#39;IBM&#39;</span><span class=p>,</span> <span class=s1>&#39;Apple&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=p>[</span><span class=n>s</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=k>for</span> <span class=n>s</span> <span class=ow>in</span> <span class=n>L</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=s1>&#39;hello&#39;</span><span class=p>,</span> <span class=s1>&#39;world&#39;</span><span class=p>,</span> <span class=s1>&#39;ibm&#39;</span><span class=p>,</span> <span class=s1>&#39;apple&#39;</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div></li></ul></li></ol><h1 id=字典>字典</h1><h2 id=基本语句-1>基本语句</h2><ul><li>声明字典</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>alien_0</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;color&#39;</span><span class=p>:</span><span class=s1>&#39;green&#39;</span><span class=p>,</span><span class=s1>&#39;points&#39;</span><span class=p>:</span><span class=mi>5</span><span class=p>}</span>         <span class=c1>#字典是一系列键-值对</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>访问字典中的值</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>alien_0</span><span class=p>[</span><span class=s1>&#39;points&#39;</span><span class=p>])</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>添加键-值对</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>alien_0</span> <span class=p>[</span><span class=s1>&#39;x_position&#39;</span><span class=p>]</span><span class=o>=</span><span class=mi>10</span>
</span></span><span class=line><span class=cl><span class=n>alien_0</span> <span class=p>[</span><span class=s1>&#39;y_position&#39;</span><span class=p>]</span><span class=o>=</span><span class=mi>25</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>修改字典中的值</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>alien_0</span><span class=p>[</span><span class=s1>&#39;color&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=s1>&#39;yellow&#39;</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>删除键-值对</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>del</span> <span class=n>alien_0</span><span class=p>[</span><span class=s1>&#39;color&#39;</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p>遍历字典</p><ul><li>遍历键-值对</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>for</span> <span class=n>key</span><span class=p>,</span><span class=n>value</span> <span class=ow>in</span> <span class=n>alien_0</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>key</span><span class=o>+</span><span class=s1>&#39;:&#39;</span><span class=o>+</span><span class=n>value</span><span class=o>+</span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)</span>                <span class=c1>#返回顺序与储存顺序无关</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>遍历键</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>for</span> <span class=n>key</span> <span class=ow>in</span> <span class=n>alien_0</span><span class=o>.</span><span class=n>keys</span><span class=p>():</span>                  <span class=c1>#当要遍历所有键时，可去&#34;.keys()&#34;</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>遍历值</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>for</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>alien_0</span><span class=o>.</span><span class=n>values</span><span class=p>():</span> 
</span></span></code></pre></td></tr></table></div></div><ul><li><p>有顺序地遍历</p><p>使用 <code>sorted()</code> 函数，如：</p></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>for</span> <span class=n>key</span> <span class=ow>in</span> <span class=nb>sorted</span><span class=p>(</span><span class=n>alien_0</span><span class=o>.</span><span class=n>keys</span><span class=p>()):</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><p>合并遍历中的重复项</p><p>使用 <code>set()</code> 函数，如：</p></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>for</span> <span class=n>value</span> <span class=ow>in</span> <span class=nb>set</span><span class=p>(</span><span class=n>alien_0</span><span class=o>.</span><span class=n>values</span><span class=p>()):</span> 
</span></span></code></pre></td></tr></table></div></div><h2 id=集合>集合</h2><h3 id=定义-2>定义</h3><p>集合（set）是一个无序的不重复元素序列</p><p>set 和 dict 类似，也是一组 key 的集合，但不存储 value。由于 key 不能重复，所以，在 set 中，没有重复的 key</p><h3 id=基本操作>基本操作</h3><ul><li>初始化</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>s1</span><span class=err> </span><span class=o>=</span><span class=err> </span><span class=nb>set</span><span class=p>(</span><span class=s1>&#39;cheershopa&#39;</span><span class=p>)</span>         
</span></span><span class=line><span class=cl><span class=n>s2</span><span class=err> </span><span class=o>=</span><span class=err> </span><span class=nb>set</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=err> </span><span class=mi>2</span><span class=p>,</span><span class=err> </span><span class=mi>3</span><span class=p>,</span><span class=err> </span><span class=mi>34</span><span class=p>,</span><span class=err> </span><span class=mi>15</span><span class=p>,</span><span class=err> </span><span class=mi>25</span><span class=p>,</span><span class=err> </span><span class=mi>35</span><span class=p>,</span><span class=err> </span><span class=mi>45</span><span class=p>,</span><span class=err> </span><span class=mi>75</span><span class=p>])</span>         <span class=c1>#传列表</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>添加值</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>s</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=mi>8</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>删除值</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>s</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=mi>8</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>交集、并集</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>s1</span><span class=err> </span><span class=o>&amp;</span><span class=err> </span><span class=n>s2</span>
</span></span><span class=line><span class=cl><span class=n>s1</span><span class=err> </span><span class=o>|</span><span class=err> </span><span class=n>s2</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=嵌套>嵌套</h3><p>定义：列表中嵌套字典，字典中嵌套列表，字典中嵌套字典</p><h4 id=在列表中存储字典>在列表中存储字典</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>aliens</span><span class=o>=</span><span class=p>[]</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>new_alien</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>30</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>new_alien</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;color&#39;</span><span class=p>:</span><span class=s1>&#39;green&#39;</span><span class=p>,</span><span class=s1>&#39;speed&#39;</span><span class=p>:</span><span class=s1>&#39;slow&#39;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>aliens</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>new_alien</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=在字典中存储列表>在字典中存储列表</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>favorate_languages</span><span class=o>=</span><span class=p>{</span>
</span></span><span class=line><span class=cl>       <span class=s1>&#39;Trouvaille&#39;</span><span class=p>:[</span><span class=s1>&#39;C++&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>       <span class=s1>&#39;Nick&#39;</span><span class=p>:[</span><span class=s1>&#39;Python&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>       <span class=s1>&#39;Leo&#39;</span><span class=p>:[</span><span class=s1>&#39;Java&#39;</span><span class=p>,</span><span class=s1>&#39;Python&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>       <span class=s1>&#39;Seamus&#39;</span><span class=p>:[</span><span class=s1>&#39;Javascript&#39;</span><span class=p>,</span><span class=s1>&#39;C++&#39;</span><span class=p>,</span><span class=s1>&#39;Ruby&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>   <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>x</span><span class=p>,</span><span class=n>y</span> <span class=ow>in</span> <span class=n>favorate_languages</span><span class=o>.</span><span class=n>items</span><span class=p>(</span> <span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>y</span><span class=p>)</span><span class=o>&gt;=</span><span class=mi>2</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=n>x</span><span class=o>+</span><span class=s2>&#34;&#39;s favorate are&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>Y</span> <span class=ow>in</span> <span class=n>y</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=n>Y</span><span class=p>)</span>
</span></span><span class=line><span class=cl>     <span class=k>else</span><span class=p>:</span> 
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=n>x</span><span class=o>+</span><span class=s2>&#34;&#39;s favorate is&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>Y</span> <span class=ow>in</span> <span class=n>y</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=n>Y</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=在字典中存储字典>在字典中存储字典</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>users</span><span class=o>=</span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;Trouvaille&#39;</span><span class=p>:{</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;gender&#39;</span><span class=p>:</span><span class=s1>&#39;male&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;location&#39;</span><span class=p>:</span><span class=s1>&#39;Hangzhou&#39;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;Ketchup_Lover&#39;</span><span class=p>:{</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;gender&#39;</span><span class=p>:</span><span class=s1>&#39;male&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;location&#39;</span><span class=p>:</span><span class=s1>&#39;Shanghai&#39;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>x</span><span class=p>,</span><span class=n>y</span> <span class=ow>in</span> <span class=n>users</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>x</span><span class=o>+</span><span class=s1>&#39;:&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\t</span><span class=s2>&#34;</span><span class=o>+</span><span class=n>y</span><span class=p>[</span><span class=s1>&#39;gender&#39;</span><span class=p>]</span><span class=o>+</span><span class=s1>&#39; , &#39;</span><span class=o>+</span><span class=n>y</span><span class=p>[</span><span class=s1>&#39;location&#39;</span><span class=p>])</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=相关函数>相关函数</h2><h3 id=get>get()</h3><ul><li><p>说明：返回指定键的值，如果值不在字典中返回默认值 None</p></li><li><p>语法</p></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>dict</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>参数<ul><li>key &ndash; 字典中要查找的键</li><li>default &ndash; 如果指定键的值不存在时，返回该默认值</li></ul></li></ul><h3 id=len>len()</h3><ul><li><p>说明：计算字典元素个数，即键的总数。</p></li><li><p>语法</p></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>len</span><span class=p>(</span><span class=nb>dict</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=其他技巧>其他技巧</h2><ol><li><p>通常习惯声明一个空字典以便添加键-值对</p></li><li><p>字典通常储存一个对象的多种信息，也可以储存多个对象的同一种信息</p></li><li><p>利用字典来完成列表中的词频统计</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 举例：</span>
</span></span><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=nb>dict</span> <span class=o>=</span> <span class=p>{}</span> 
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>key</span> <span class=ow>in</span> <span class=n>a</span><span class=p>:</span>         
</span></span><span class=line><span class=cl>    <span class=nb>dict</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=nb>dict</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span> <span class=o>+</span> <span class=mi>1</span>  <span class=c1># 字典的get函数可以查询键的值，0代表默认值,每出现一次加1</span>
</span></span><span class=line><span class=cl><span class=nb>print</span> <span class=p>(</span><span class=nb>dict</span><span class=p>)</span> 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>输出结果</span><span class=err>：</span> <span class=o>&gt;&gt;&gt;</span><span class=p>{</span><span class=mi>1</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>2</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>:</span> <span class=mi>1</span><span class=p>}</span>  
</span></span></code></pre></td></tr></table></div></div></li><li><p>字典推导式</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=p>{</span><span class=n>i</span><span class=p>:</span><span class=nb>str</span><span class=p>(</span><span class=n>i</span><span class=p>)</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>)}</span>
</span></span><span class=line><span class=cl><span class=p>{</span><span class=mi>0</span><span class=p>:</span> <span class=s1>&#39;0&#39;</span><span class=p>,</span> <span class=mi>1</span><span class=p>:</span> <span class=s1>&#39;1&#39;</span><span class=p>,</span> <span class=mi>2</span><span class=p>:</span> <span class=s1>&#39;2&#39;</span><span class=p>,</span> <span class=mi>3</span><span class=p>:</span> <span class=s1>&#39;3&#39;</span><span class=p>,</span> <span class=mi>4</span><span class=p>:</span> <span class=s1>&#39;4&#39;</span><span class=p>,</span> <span class=mi>5</span><span class=p>:</span> <span class=s1>&#39;5&#39;</span><span class=p>,</span> <span class=mi>6</span><span class=p>:</span> <span class=s1>&#39;6&#39;</span><span class=p>,</span> <span class=mi>7</span><span class=p>:</span> <span class=s1>&#39;7&#39;</span><span class=p>,</span> <span class=mi>8</span><span class=p>:</span> <span class=s1>&#39;8&#39;</span><span class=p>,</span> <span class=mi>9</span><span class=p>:</span> <span class=s1>&#39;9&#39;</span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><h1 id=类>类</h1><h2 id=基本语句-2>基本语句</h2><h3 id=创建类>创建类</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Restaurant</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=nb>type</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>type</span> <span class=o>=</span> <span class=nb>type</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>customer_number</span> <span class=o>=</span> <span class=mi>0</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=创建方法>创建方法</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>describe_rest</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;The restaurant&#39;s name is &#34;</span> <span class=o>+</span> <span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=o>.</span><span class=n>title</span><span class=p>())</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;The restaurant&#39;s type is &#34;</span> <span class=o>+</span> <span class=bp>self</span><span class=o>.</span><span class=n>type</span><span class=o>.</span><span class=n>title</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>open_rest</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;This restaurant is opening&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=使用类和实例>使用类和实例</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>rest1</span> <span class=o>=</span> <span class=n>Restaurant</span><span class=p>(</span><span class=s1>&#39;KFC&#39;</span><span class=p>,</span> <span class=s1>&#39;snack bar&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=调用方法>调用方法</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>rest1</span><span class=o>.</span><span class=n>describe_rest</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>rest1</span><span class=o>.</span><span class=n>open_rest</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=继承>继承</h2><h3 id=子类>子类</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>IceCreamStand</span><span class=p>(</span><span class=n>Restaurant</span><span class=p>):</span>
</span></span><span class=line><span class=cl>      <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>name</span><span class=p>,</span><span class=nb>type</span><span class=p>):</span>
</span></span><span class=line><span class=cl>          <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>name</span><span class=p>,</span><span class=nb>type</span><span class=p>)</span>                                        <span class=c1>#super()用来继承父类的属性                                                                                            #父类也称超类(superclass)</span>
</span></span><span class=line><span class=cl>          <span class=bp>self</span><span class=o>.</span><span class=n>flavours</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;strawberry&#39;</span><span class=p>,</span><span class=s1>&#39;chocolate&#39;</span><span class=p>,</span><span class=s1>&#39;milk&#39;</span><span class=p>,</span><span class=s1>&#39;matcha&#39;</span><span class=p>]</span>           <span class=c1>#为子类定义的属性</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=给子类定义方法>给子类定义方法</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>describe_flavour</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;There&#39;re several kinds of flavours which are&#34;</span><span class=p>,</span><span class=n>end</span><span class=o>=</span><span class=s1>&#39; &#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>flavour</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>flavours</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>flavour</span><span class=p>,</span><span class=n>end</span><span class=o>=</span><span class=s1>&#39; &#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=使用子类和实例>使用子类和实例</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>rest2</span><span class=o>=</span><span class=n>IceCreamStand</span><span class=p>(</span><span class=s1>&#39;Dairy Queen&#39;</span><span class=p>,</span><span class=s1>&#39;Ice Cream Stand&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>rest2</span><span class=o>.</span><span class=n>describe_rest</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>rest2</span><span class=o>.</span><span class=n>describe_flavour</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=导入>导入</h2><p>假若有 Car 类, ElectricCar 类于 car.py 模块中</p><ul><li>导入单个类</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>car</span> <span class=kn>import</span> <span class=n>Car</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>导入多个类</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>car</span> <span class=kn>import</span> <span class=n>Car</span><span class=p>,</span> <span class=n>ElectricCar</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>导入整个模块</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>car</span>                  <span class=c1>#需用句点表示法</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>导入模块中的所有类</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>car</span> <span class=kn>import</span> <span class=o>*</span>
</span></span></code></pre></td></tr></table></div></div><p>必要时，也允许从一个模块中导入另一个模块来构建子类</p><h3 id=关于-if-__name__--__main__>关于 <code>if __name__ == '__main__'</code></h3><p>这是个 Python 的语法，<code>__name__</code> 属性显示当前模块名</p><p>当模块被直接运行时 <code>__name__</code> 属性为 <strong>main</strong> ，作为模块被导入时为模块名</p><p>这句话的意思就是，当模块被直接运行时，以下代码块将被运行，当模块是被导入时，代码块不被运行。</p><p>可以用作测试，也可以用作模板</p><h2 id=私有成员与公有成员>私有成员与公有成员</h2><p>python 并没有对私有成员提供严格的访问保护机制。</p><ul><li>私有属性："__" 开头<ul><li>主函数中访问：<code>对象名._类名__value</code></li></ul></li><li>保护成员："_" 开头<ul><li>不能被作为包导入</li></ul></li></ul><h2 id=特殊方法>特殊方法</h2><ul><li><code>__new__</code>：构造函数</li><li><code>__init__</code>：初始化函数</li><li><code>__del__</code>：析构函数</li><li><code>__add__</code>、<code>__sub__</code>：加减运算符</li><li><code>__str__</code>、<code>__repr__</code>：转字符串，后者将不可见字符转译</li><li><code>__call__</code>：被函数调用</li><li><code>__len__</code>：字面意思</li><li><code>__bool__</code>：字面意思</li><li><code>__lt__</code> <code>__gt__</code>、<code>__le__</code>、<code>__ge__</code>、<code>__eq__</code>、<code>__ne__</code>：<code>&lt; > &lt;= >= == !=</code>运算符重载</li><li><code>__contians__</code>：<code>in</code>，返回布尔值</li><li><code>__getitem__</code>：下标访问或迭代器访问</li><li><code>__setitem__</code>：下标修改或迭代器修改</li><li><code>__dict__</code>：使用一个字典对对象中成员的值进行修改，一般不需要重载</li></ul><h1 id=文件>文件</h1><h2 id=读取文件>读取文件</h2><h3 id=全部读取>全部读取</h3><p>使用 .read()</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>filename</span><span class=p>)</span> <span class=k>as</span> <span class=n>file_object</span><span class=p>:</span>
</span></span><span class=line><span class=cl>      <span class=n>contents</span> <span class=o>=</span> <span class=n>file_object</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>        <span class=c1>#使用.read()读取文件的全部内容</span>
</span></span><span class=line><span class=cl>      <span class=nb>print</span><span class=p>(</span><span class=n>contents</span><span class=o>.</span><span class=n>rstrip</span><span class=p>())</span>             <span class=c1>#使用.rstrip()来剥除.read()造成的末尾空字符串</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=逐行读取>逐行读取</h3><p>遍历</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>filename</span><span class=p>)</span> <span class=k>as</span> <span class=n>file_object</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>line</span> <span class=ow>in</span> <span class=n>file_object</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=n>line</span><span class=o>.</span><span class=n>rstrip</span><span class=p>())</span>               <span class=c1>#使用.rstrip()来剥除文件每行末尾的换行符</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=创建一个包含文件各行内容的列表>创建一个包含文件各行内容的列表</h3><p>使用 .readlines()</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>filename</span><span class=p>)</span> <span class=k>as</span> <span class=n>file_object</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>lines</span> <span class=o>=</span> <span class=n>file_object</span><span class=o>.</span><span class=n>readlines</span><span class=p>()</span>       <span class=c1>#使用.readlines() 从文件中读取每一行并存储到一个列表中</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>line</span> <span class=ow>in</span> <span class=n>lines</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>line</span><span class=o>.</span><span class=n>strip</span><span class=p>())</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=使用文件内容并将文件的空格全部移除>使用文件内容并将文件的空格全部移除</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>filename</span><span class=p>)</span> <span class=k>as</span> <span class=n>file_object</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>lines</span><span class=o>=</span><span class=n>file_object</span><span class=o>.</span><span class=n>readlines</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>pi_string</span><span class=o>=</span><span class=s1>&#39;&#39;</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>line</span> <span class=ow>in</span> <span class=n>lines</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>pi_string</span><span class=o>+=</span><span class=n>line</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span>                 <span class=c1>#使用.strip()将每行空格全部除去</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>pi_string</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>pi_string</span><span class=p>[:</span><span class=mi>10</span><span class=p>]</span> <span class=o>+</span> <span class=s1>&#39;...&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>pi_string</span><span class=p>))</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=写入文件>写入文件</h2><h3 id=写入空文件>写入空文件</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>filename</span> <span class=o>=</span> <span class=s1>&#39;text_files\programming.txt&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>filename</span><span class=p>,</span> <span class=s1>&#39;w&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>file_object</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>file_object</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=s1>&#39;Heya!</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)</span>                   <span class=c1>#write()不会自动添加换行符，需手动添加</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=附加到文件>附加到文件</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>filename</span> <span class=o>=</span> <span class=s1>&#39;text_files\programming.txt&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>filename</span><span class=p>,</span> <span class=s1>&#39;a&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>file_object</span><span class=p>:</span>            <span class=c1>#&#39;a&#39;表示以附加模式打开文件</span>
</span></span><span class=line><span class=cl>    <span class=n>file_object</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=s1>&#39;Greeting!</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)</span> 
</span></span></code></pre></td></tr></table></div></div><h2 id=其他打开方式>其他打开方式</h2><ul><li>r：以只读方式打开文件。文件的指针将会放在文件的开头。这是默认模式。</li><li>rb：以二进制只读方式打开一个文件。文件指针将会放在文件的开头。</li><li>r+：以读写方式打开一个文件。文件指针将会放在文件的开头。</li><li>rb+：以二进制读写方式打开一个文件。文件指针将会放在文件的开头。</li><li>w：以写入方式打开一个文件。如果该文件已存在，则将其覆盖。如果该文件不存在，则创建新文件。</li><li>wb：以二进制写入方式打开一个文件。如果该文件已存在，则将其覆盖。如果该文件不存在，则创建新文件。</li><li>w+：以读写方式打开一个文件。如果该文件已存在，则将其覆盖。如果该文件不存在，则创建新文件。</li><li>wb+：以二进制读写格式打开一个文件。如果该文件已存在，则将其覆盖。如果该文件不存在，则创建新文件。</li><li>a：以追加方式打开一个文件。如果该文件已存在，文件指针将会放在文件结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，则创建新文件来写入。</li><li>ab：以二进制追加方式打开一个文件。如果该文件已存在，则文件指针将会放在文件结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，则创建新文件来写入。</li><li>a+：以读写方式打开一个文件。如果该文件已存在，文件指针将会放在文件的结尾。文件打开时会是追加模式。如果该文件不存在，则创建新文件来读写。</li><li>ab+：以二进制追加方式打开一个文件。如果该文件已存在，则文件指针将会放在文件结尾。如果该文件不存在，则创建新文件用于读写。</li></ul><h2 id=用-json-处理数据>用 json 处理数据</h2><h3 id=json-格式>json 格式</h3><p>对象：它在 JavaScript 中是使用花括号 <code>{}</code> 包裹起来的内容，数据结构为 <code>{key1：value1, key2：value2, ...}</code> 的键值对结构。在面向对象的语言中，key 为对象的属性，value 为对应的值。键名可以使用整数和字符串来表示。值的类型可以是任意类型。</p><p>数组：数组在 JavaScript 中是方括号 <code>[]</code> 包裹起来的内容，数据结构为 <code>["java", "javascript", "vb", ...]</code> 的索引结构。在 JavaScript 中，数组是一种比较特殊的数据类型，它也可以像对象那样使用键值对，但还是索引用得多。同样，值的类型可以是任意类型。</p><p>一个 JSON 对象可以写为如下形式：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>[{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;Bob&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;gender&#34;</span><span class=p>:</span> <span class=s2>&#34;male&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;birthday&#34;</span><span class=p>:</span> <span class=s2>&#34;1992-10-18&#34;</span>
</span></span><span class=line><span class=cl><span class=p>},</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>     <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;Selina&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;gender&#34;</span><span class=p>:</span> <span class=s2>&#34;female&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;birthday&#34;</span><span class=p>:</span> <span class=s2>&#34;1995-10-18&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}]</span>
</span></span></code></pre></td></tr></table></div></div><p>值得注意的是，JSON 的数据需要用双引号来包围，不能使用单引号</p><h3 id=导入模块>导入模块</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>json</span>
</span></span></code></pre></td></tr></table></div></div><p>json 库提供的主要功能也是字典与 json 的相互转换</p><h3 id=存储数据>存储数据</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>filename</span> <span class=o>=</span> <span class=s1>&#39;name.json&#39;</span>
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>filename</span><span class=p>,</span> <span class=s1>&#39;w&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f_obj</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>json</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>f_obj</span><span class=p>)</span>                            <span class=c1>#name为要储存的数据</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=读取数据>读取数据</h3><p>使用<code>json.load()</code></p><p>返回字典对象</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>filename</span> <span class=o>=</span> <span class=s1>&#39;name.json&#39;</span>
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>filename</span><span class=p>)</span> <span class=k>as</span> <span class=n>f_obj</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>name</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>f_obj</span><span class=p>)</span>                         <span class=c1>#将json中的数据读到name中</span>
</span></span></code></pre></td></tr></table></div></div><p>使用 load 方法将字符串转为 JSON 对象。如果最外层是中括号，那最终的类型是列表类型</p><h4 id=数据转换表>数据转换表</h4><table><thead><tr><th>JSON</th><th>Python</th></tr></thead><tbody><tr><td>object</td><td>dict</td></tr><tr><td>array</td><td>list</td></tr><tr><td>string</td><td>str</td></tr><tr><td>number (int)</td><td>int</td></tr><tr><td>number (real)</td><td>float</td></tr><tr><td>true</td><td>True</td></tr><tr><td>false</td><td>False</td></tr><tr><td>null</td><td>None</td></tr></tbody></table><h4 id=其他特点>其他特点</h4><ul><li>当 JSON 数据中有重复键名, 则后面的键值会覆盖前面的、</li><li>json.loads 方法默认会将 JSON 字符串中的 NaN, Infinity, -Infinity 转化为 Python 中的 float(&rsquo;nan&rsquo;), float(&lsquo;inf&rsquo;) 和 float(&rsquo;-inf&rsquo;)</li></ul><h3 id=输出数据>输出数据</h3><p>调用 dumps 方法将 JSON 对象转化为字符串</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>json</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>data</span> <span class=o>=</span> <span class=p>[{</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;name&#39;</span><span class=p>:</span> <span class=s1>&#39;Bob&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;gender&#39;</span><span class=p>:</span> <span class=s1>&#39;male&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;birthday&#39;</span><span class=p>:</span> <span class=s1>&#39;1992-10-18&#39;</span>
</span></span><span class=line><span class=cl><span class=p>}]</span>
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;data.json&#39;</span><span class=p>,</span> <span class=s1>&#39;w&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>file</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>file</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>(</span><span class=n>data</span><span class=p>))</span>
</span></span></code></pre></td></tr></table></div></div><p>利用 dumps 方法，我们可以将 JSON 对象转为字符串，然后再调用文件的 write 方法写入文本</p><p>如果想保存 JSON 的格式，可以再加一个参数 indent，代表缩进字符个数</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;data.json&#39;</span><span class=p>,</span> <span class=s1>&#39;w&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>file</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>file</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>indent</span><span class=o>=</span><span class=mi>2</span><span class=p>))</span>
</span></span></code></pre></td></tr></table></div></div><p>为了输出中文，还需要指定参数 ensure_ascii 为 False，另外还要规定文件输出的编码</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;data.json&#39;</span><span class=p>,</span> <span class=s1>&#39;w&#39;</span><span class=p>,</span> <span class=n>encoding</span><span class=o>=</span><span class=s1>&#39;utf-8&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>file</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>file</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>indent</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span> <span class=n>ensure_ascii</span><span class=o>=</span><span class=kc>False</span><span class=p>))</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=异常处理>异常处理</h1><h1 id=技巧-1>技巧</h1><ol><li>生成依赖文件 <code>requirement.txt</code>：使用 <code>pipreqs</code></li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>pipreqs ./
</span></span></code></pre></td></tr></table></div></div><ol start=2><li>去除分隔符，将一段字符串转化为词语列表</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>punctuation</span> <span class=o>=</span> <span class=sa>r</span><span class=s2>&#34;&#34;&#34;!&#34;#$%&amp;&#39;()*+,-./:;&lt;=&gt;?@[\]^_`{|}~“”？，！【】（）、。：；’‘……￥·&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl><span class=n>dicts</span> <span class=o>=</span> <span class=p>{</span><span class=n>i</span><span class=p>:</span> <span class=s1>&#39; &#39;</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>punctuation</span><span class=p>}</span>
</span></span><span class=line><span class=cl>   <span class=n>punc_table</span> <span class=o>=</span> <span class=nb>str</span><span class=o>.</span><span class=n>maketrans</span><span class=p>(</span><span class=n>dicts</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><ol start=3><li><p>矩阵转置</p><p><img class=lazyload src=/Notes/svg/loading.min.svg data-src=https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210530153535372.png data-srcset="https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210530153535372.png, https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210530153535372.png 1.5x, https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210530153535372.png 2x" data-sizes=auto alt=https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210530153535372.png title=image-20210530153535372></p></li><li><p>获取当前路径</p></li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>pathlib</span> <span class=kn>import</span> <span class=n>Path</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>current_path</span> <span class=o>=</span> <span class=n>Path</span><span class=o>.</span><span class=n>cwd</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><ol start=5><li>用装饰器实现单例模式</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=kn>from</span> <span class=nn>functools</span> <span class=kn>import</span> <span class=n>wraps</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>singleton</span><span class=p>(</span><span class=bp>cls</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>instances</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    <span class=nd>@wraps</span><span class=p>(</span><span class=bp>cls</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>getinstance</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kw</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>cls</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>instances</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>instances</span><span class=p>[</span><span class=bp>cls</span><span class=p>]</span> <span class=o>=</span> <span class=bp>cls</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kw</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>instances</span><span class=p>[</span><span class=bp>cls</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>getinstance</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=nd>@singleton</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>test_singleton</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=bp>self</span><span class=o>.</span><span class=n>num_sum</span><span class=o>=</span><span class=mi>0</span>
</span></span><span class=line><span class=cl>  <span class=k>def</span> <span class=nf>add</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=bp>self</span><span class=o>.</span><span class=n>num_sum</span><span class=o>=</span><span class=mi>100</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>  <span class=n>cls1</span> <span class=o>=</span> <span class=n>test_singleton</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=n>cls2</span> <span class=o>=</span> <span class=n>test_singleton</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=nb>print</span><span class=p>(</span><span class=n>cls1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=nb>print</span><span class=p>(</span><span class=n>cls2</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>输出</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=o>&lt;</span><span class=n>__main__</span><span class=o>.</span><span class=n>test_singleton</span> <span class=nb>object</span> <span class=n>at</span> <span class=mh>0x7fcb651870f0</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=n>__main__</span><span class=o>.</span><span class=n>test_singleton</span> <span class=nb>object</span> <span class=n>at</span> <span class=mh>0x7fcb651870f0</span><span class=o>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>可以看出，虽然进行了两次实例化，但仍为同一个实例</p><ol start=6><li>删除一个列表中的重复元素</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=n>L</span><span class=o>.</span><span class=n>sort</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>last</span> <span class=o>=</span> <span class=n>L</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>L</span><span class=p>)</span><span class=o>-</span><span class=mi>2</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>):</span> <span class=c1># 从倒数第二个开始往前</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>last</span> <span class=o>==</span> <span class=n>L</span><span class=p>[</span><span class=n>i</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>    		<span class=k>del</span> <span class=n>L</span><span class=p>[</span><span class=n>i</span><span class=p>]</span>
</span></span><span class=line><span class=cl>		<span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    		<span class=n>last</span> <span class=o>=</span> <span class=n>L</span><span class=p>[</span><span class=n>i</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="2023-06-14 10:17:31">更新于 2023-06-14</span></div><div class=post-info-license><span><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="分享到 Twitter" data-sharer=twitter data-url=https://trouvaille0198.github.io/Notes/posts/python/basicgrammar/ data-title="Python 基础语法" data-hashtags=Python><i class="fa-brands fa-twitter fa-fw"></i></a>
<a href=javascript:void(0); title="分享到 Facebook" data-sharer=facebook data-url=https://trouvaille0198.github.io/Notes/posts/python/basicgrammar/ data-hashtag=Python><i class="fa-brands fa-facebook-square fa-fw"></i></a>
<a href=javascript:void(0); title="分享到 微博" data-sharer=weibo data-url=https://trouvaille0198.github.io/Notes/posts/python/basicgrammar/ data-title="Python 基础语法"><i class="fa-brands fa-weibo fa-fw"></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw"></i>&nbsp;<a href=/Notes/tags/python/>Python</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/Notes/>主页</a></span></section></div><div class=post-nav><a href=/Notes/posts/python/%E6%A0%87%E5%87%86%E5%BA%93/sys/ class=prev rel=prev title="Python sys 库"><i class="fa-solid fa-angle-left fa-fw"></i>Python sys 库</a>
<a href=/Notes/posts/python/web-backend/pydantic/models/ class=next rel=next title="pydantic models">pydantic models<i class="fa-solid fa-angle-right fa-fw"></i></a></div></div></article></main><footer class=footer><div class=footer-container><div class="footer-line custom">酒困路长惟欲睡，日高人渴漫思茶</div><div class="footer-line copyright"><i class="fa-regular fa-copyright fa-fw"></i>
<span itemprop=copyrightYear>2022 - 2023</span><span class="license footer-divider"><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div><div class="footer-line statistics"></div></div></footer></div><div class=widgets><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部><i class="fa-solid fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title=查看评论><i class="fa-solid fa-comment fa-fw"></i></a></div><div id=mask></div></div><link rel=stylesheet href=/Notes/lib/katex/katex.min.css><link rel=stylesheet href=/Notes/lib/katex/copy-tex.min.css><link rel=stylesheet href=/Notes/lib/cookieconsent/cookieconsent.min.css><script type=text/javascript src=/Notes/lib/autocomplete/autocomplete.min.js defer></script><script type=text/javascript src=/Notes/lib/algoliasearch/algoliasearch-lite.umd.min.js defer></script><script type=text/javascript src=/Notes/lib/lazysizes/lazysizes.min.js async defer></script><script type=text/javascript src=/Notes/lib/sharer/sharer.min.js async defer></script><script type=text/javascript src=/Notes/lib/katex/katex.min.js defer></script><script type=text/javascript src=/Notes/lib/katex/auto-render.min.js defer></script><script type=text/javascript src=/Notes/lib/katex/copy-tex.min.js defer></script><script type=text/javascript src=/Notes/lib/katex/mhchem.min.js defer></script><script type=text/javascript src=/Notes/lib/cookieconsent/cookieconsent.min.js defer></script><script type=text/javascript>window.config={code:{copyTitle:"复制到剪贴板",editLockTitle:"锁定可编辑代码块",editUnLockTitle:"解锁可编辑代码块",editable:!0,maxShownLines:45},comment:{},cookieconsent:{content:{dismiss:"同意",link:"了解更多",message:"本网站使用 Cookies 来改善您的浏览体验。"},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},enablePWA:!0,math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{algoliaAppID:"7I9AMOLA4S",algoliaIndex:"Notes",algoliaSearchKey:"3c1638dfe9f4d49a59d81ff6943416b8",highlightTag:"em",maxResultLength:30,noResultsFound:"没有找到结果",snippetLength:50,type:"algolia"}}</script><script type=text/javascript src=/Notes/js/theme.min.js defer></script><script type=text/javascript src=/Notes/js/_custom.min.js defer></script></body></html>