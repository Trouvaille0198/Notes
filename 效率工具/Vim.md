![img](https://trou.oss-cn-shanghai.aliyuncs.com/img/vi-vim-cheat-sheet-sch.gif)

# 模式

## 正常模式（Normal-mode)

正常模式一般用于浏览文件，也包括一些复制、粘贴、删除等操作

启动 VIM 后默认位于正常模式。

不论是什么模式，按 `<Esc> `键都会进入正常模式 ( 插入模式按一下 `Esc` ，就会切换到正常模式，命令模式或者可视模式下执行完操作以后，就会自动进入正常模式，如果进入命令模式或者可视模式没有执行任何操作，按两下 `Esc` 即可 ）

### 快速移动光标

`h,j,k,l`	左，下，上，右

### 当前行移动光标

==`0`==	移动到行头

==`^`==	移动到本行第一个不是`blank`的位置

==`$`==	移动到行尾

`g_`	移动到本行最后一个不是`blank`的位置

==`w`==光标移动到下一个单词的开头

`e` 	光标移动到下一个单词的结尾

==`fa`==	移动到本行下一个为 a 的字符处

`nfa` 	移动到本行光标处开始的第 n 个 字符为 a 的地方

`Fa` 	移动到本行上一个为 a 的字符处

`nFa`	 移动到本行上一个第 n 个 字符为 a 的地方

`ta` 	移动光标至 a 字符的前一个字符

`nta` 	移动到第n个 a 字符的前一个字符处

`Ta` 	移动光标至 a 字符的后一个字符

`nTa` 	移动到第n个 a 字符的后一个字符处

`;` 和`,` 当使用 f, F, t ,T, 关键字指定字符跳转的时候，使用 `；`可以快速跳转到写一个指定的字符，`, `是跳到前一个指定的字符

### 跨行移动光标

==`nG `==	光标定位到第 n 行的行首

`gg `光标定位到第一行的行首

`G `光标定位到最后一行的行首

`H `光标定位到当前屏幕的第一行行首

`M` 光标移动到当前屏幕的中间

`L` 光标移动到当前屏幕的尾部

`zt` 把当前行移动到当前屏幕的最上方，也就是第一行

`zz` 把当前行移动到当前屏幕的中间

`zb` 把当前行移动到当前屏幕的尾部

`%` 匹配括号移动，包括 ( , { , [ 需要把光标先移动到括号上

`*` 和 `#` 匹配光标当前所在的单词，移动光标到下一个（或者上一个）匹配的单词（ `*` 是下一个，`#` 是上一个）

### 翻页操作

`ctrl+f` 查看下一页内容

`ctrl+b` 查看上一页内容

### **VIM 的复制，黏贴 ，删除**

三个重要的快捷键 `d` , `y` , `p`

`d` 是删除的意思，通常搭配一个字符 ( 删除范围 ) 实现删除功能，常用的如下：

`dw` 删除一个单词

`dnw` 删除 n 个单词，

`dfa` 删除光标处到下一个 a 的字符处（ fa 定位光标到 a 处 ）

`dnfa` 删除光标处到第 n 个 a 的字符处

`dd` 删除一整行

`ndd` 删除光标处开始的 n 行

`d$` 删除光标到本行的结尾

`dH` 删除屏幕显示的第一行文本到光标所在的行

`dG` 删除光标所在行到文本的结束



`y` 是复制的意思，通常搭配一个字符（复制范围）实现复制的功能，常用的如下：

```
yw` 复制一个单词，还有 `ynw
yfa` 复制光标到下一个 a 的字符处,还有`ynfa
yy` 复制一行，还有 `nyy
```

`y$` 复制光标到本号的结尾

`yH` 复制屏幕显示的第一行文本到光标所在的行

`yG` 复制光标所在行到文本的结束



`p` ，`P`是黏贴的意思，当执行完复制或者黏贴的命令以后，VIM 会把文本寄存起来。

`p` 在光标后开始复制

`P` 大写的 P 光标前开始复制

### 撤销操作和恢复

`u` 撤销刚才的操作

`ctrl + r` 恢复撤销操作

### 删除字符操作和替换

`x` 删除光标当前所在的字符

`r` 替换掉光标当前所在的字符

`R` 替换掉从光标开始以后的所有字符，除非 `<ESC >` 退出，或者 `jj` （代替 <ESC> 上文有提到）退出。

### 大小写转换

~ 将光标下的字母改变大小写
3~ 将光标位置开始的3个字母改变其大小写
g~~ 改变当前行字母的大小写
gUU 将当前行的字母改成大写
guu 将当前行的字母全改成小写

3gUU 将从光标开始到下面3行字母改成大写
gUw 将光标下的单词改成大写。
guw 将光标下的单词改成小写

### VIM 的重复命令

. 该命令是重复上一个操作的命令
n<command>重复某个命令 n 次，
如 10p复制 10 次，10dd 删除十次。

## 插入模式（Insert-mode)

在命令模式下按下`i`就进入了插入模式，进入编辑状态，通过键盘输入内容

从正常模式进入插入模式时

`i`	在光标所在的字符前插入文本。

`I` 	在光标所在行的行首插入文本。

`a` 	在光标所在的字符之后插入文本。

`A` 	在光标所在行的行尾插入文本。

`o` 	光标所在行的下一行行首文本。

`O` 	光标所在行的上一行行首文本。

`s` 	除光标所在处的字符然后插入文本。

`S` 	除光标所在行，在当前行的行首开始插入需要录入的文本。

`cw` 	删除从光标处开始到该单词结束的所有字符，然后插入文本

## 命令模式（Command-mode)

在正常模式中，按下`：`（冒号）键或者`/` （斜杠），会进入命令模式。

在命令模式中可以执行一些输入并执行一些 VIM 或插件提供的指令

### 行操作

`:set nu`	显示行号。

`:set nonu`	不显示行号

`:n`	定位到第`n`行

### 关键字查找

`:/{word}`

输入``n` 定位到下一个匹配，`N `定位到上一个匹配。

`:set ic`	查找时不区分大小写

`:set noic`	查找时区分大小写

### 删除

`:n1,n2d`

删除多行文本。`n1` 和` n2` 指的是起始行号和结束行号，`d `是删除关键字

### 替换

`:{作用范围}s/{目标}/{替换}/{替换标志}`

作用范围

- `s`	当前行
- `%s `   全文
- `n1,n2s`    n1到n2行

替换标志

- 空替换标志表示只替换从光标位置开始，目标的第一次出现
- `g`    全局（global）替换
- `i`    大小写不敏感
- `I`    大小写敏感
- `c `   需要确认

### 使用ab

`:ab {key} {word}`

该命令执行后，然后切换到编辑模式下,输入 key值会把输入的key值自动替换成word值

## 可视模式（Visual-mode）

在正常模式按下`v, V, <Ctrl>+v`，可以进入可视模式。

可视模式中的操作有点像拿鼠标进行操作，选择文本的时候有一种鼠标选择的即视感，有时候会很方便。