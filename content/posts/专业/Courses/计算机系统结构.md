---
title: "计算机系统结构"
date: 2021-03-08
draft: true
author: "MelonCholi"
tags: [计算机系统结构]
categories: [专业课]
date created: 24-04-10 17:04
date modified: 24-04-11 02:44
---

# 计算机系统结构

## 导论

### 计算机系统的基本概念

系统：为完成某个特定任务的多个功能部件相互配合而形成的有机整体

五大部件：运算器、控制器、存储器、输入输出设备（I/O, CPU, M/S）

<img src="https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20220307102931489.png" alt="image-20220307102931489" style="zoom: 67%;" />

软件和硬件组成

<img src="https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20220307102940457.png" alt="image-20220307102940457" style="zoom:67%;" />

由人员、数据、设备、程序和规程组成

<img src="https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20220307103010976.png" alt="image-20220307103010976" style="zoom: 67%;" />

### 计算机系统的发展

#### 冯·诺依曼结构

![image-20220307103339934](https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20220307103339934.png)

**特点：**存储程序、运算器为中心、集中控制

- 存储器字长固定，顺序线性编址的一维结构，每个地址是唯一定义的
- 指令由操作码和地址码组成
- 指令**顺序执行**，即一般按照指令在存储器中存放的顺序执行，程序分支有转移指令实现
- **运算器为中心**，输入输出设备与存储器之间的数据传送都途径运算器，各部件的操作及它们之间的联系都有控制器集中控制
- 指令和数据同等对待，均以二进制码表示，采用二进制运算

> 现代处理机对冯诺依曼结构的改进
>
> - 不变的：存储程序
> - 改变的：存储器为中心，总线结构，分散控制

#### 器件发展的影响

...

#### 应用发展的影响

...

#### 改进算法的影响

...

### 计算机系统的层次结构

#### 计算机系统的层次结构

<img src="https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20220307110452175.png" alt="image-20220307110452175" style="zoom:67%;" />

#### 计算机系统结构定义

##### 之一

**程序员所看到的计算机系统的属性，即概念性结构和功能特性**

- 程序员：汇编语言、机器语言、编译程序、操作系统
- 看到的：编写出能在机器上正确运行的程序所必须了解到的

##### 之二

**研究软硬件功能分配和对软硬件界面的确定**

- 计算机系统由软件、硬件和固件组成，它们在功能上是同等的
- 同一种功能可以用硬件实现，也可以用软件或固件实现
- 不同的组成只是性能和价格不同，它们的系统结构是相同的

##### 透明性

- 透明性定义
    - 本来存在的事物或属性，从某种角度看似乎不存在
        - 确定存在
        - 用户无法控制和设置
- 例如： CPU 类型、型号、主存储器容量等
    - 对应用程序员：透明
    - 对系统程序员、硬件设计人员：不透明
- 例如：浮点数表示、乘法指令
    - 对高级语言程序员、应用程序员：透明
    - 对汇编语言程序员、机器语言程序员：不透明
- 例如：数据总线宽度、微程序
    - 对汇编语言程序员、机器语言程序员：透明
    - 对硬件设计人员、计算机维修人员：不透明

#### 计算机组成与实现

#### 计算机系统结构、组成与实现三者的关系

#### 计算机系统的特性

### 计算机系统的设计方法

#### 软、硬件取舍的基本原则

#### 计算机系统设计的定量原则

##### Amdahl 定律

##### CPU 性能公式

##### 指令执行速度

#### 计算机系统的设计任务

由上向下

由下向上

中间开始

#### 计算机系统的设计步骤

### 现代计算机系统的分类

> 了解：冯氏分类法、Handler(汉德勒) 分类法

#### :heavy_check_mark: Flynn(佛林) 分类法

![image-20220311102113723](https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20220311102113723.png)

##### SISD

**单指令流单数据流** SISD (Single Instruction stream Single Data stream)

传统计算机，如 IA 结构的 PC 机。

SISD 典型单处理机包括：

- 单功能部件处理机：IBM1401，VAX-11
- 多功能部件处理机：IBM360/91，370/168， CDC6600 等
- 流水线处理机，指标量流水线处理机

<img src="https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/20201010131205262.png" alt="img" style="zoom: 50%;" />

##### SIMD

**单指令流多数据流** SIMD (Single Instruction stream Multiple Data stream)：并行处理机、阵列处理机、向量处理机、相联处理机、超标量处理机、超流水线处理机，如 ILLIAC Ⅳ机；

多个 PU 按一定方式互联，在同一个 CU 控制下，对各自的数据完成同一条指令规定的操作；从 CU 看指令顺序执行，从 PU 看数据并行执行

<img src="https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/2020101013130210.png" alt="img" style="zoom: 50%;" />

##### MISD

多指令流单数据流 MISD (Multiple Instruction stream Single Data stream)

几条指令对同一个数据进行不同的处理，只是作为理论模型出现，没有投入到实际应用之中；

<img src="https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/20201010131426646.png" alt="img" style="zoom: 33%;" />

##### MIMD

多指令流多数据流 MIMD (Multiple Instruction stream Multiple Data stream)

多计算机系统，可以同时执行多个指令流，这些指令流分别对不同数据流进行操作。最新的多核计算平台就属于 MIMD 的范畴。不论是大规模并行处理机还是对称多处理机，都属于 MIMD。

<img src="https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/20201010131546373.png" alt="img" style="zoom:50%;" />

## 中央处理器

### CPU 组成

### 数据表示

### 指令格式设计

### 指令集

### 时钟频率

时钟频率是指同步电路中时钟的基础频率，单位为 hz

### 并行

#### 指令级并行

目的：让 cpu 在同一时刻并行执行多条指令

基本原理：指令不相关时，可以重叠起来并行执行

例：Intel Pentium、Pentium Pro 和 PentiumⅡ处理器分别采用了两条和三条独立的指令流水线，每条流水线平均在一个时钟周期内执行一条指令，因而它们平均一个时钟周期可分别执行 2 条和 3 条指令。

#### 线程级并行

#### 数据并行和 SIMD 指令集合

- 数据并行：把需要处理的数据划分成若干部分，分配到不同的处理部件上，并在每个处理部件上运行相同的处理程序/指令对所分派的数据进行处理，即遵循 SIMD（单指令多数据流）模型。
- 在多媒体领域应用广泛。在进行图像处理时，有些格式的图像数据的特点是：
    1. 图像数据的像素数量庞大，如分辨率是 1024*768 像素的图像；
    2. 每个像素所占的位数往往小于或等于 8 位，如使用 32 位处理器进行运算，就能同时处理 4 组不同的数据。

### 多核技术

### CPU 内部互连

#### Intel 环形总线架构

<img src="https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20220314103406980.png" alt="image-20220314103406980" style="zoom:50%;" />

#### Intel Mesh 总线架构

<img src="https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20220314103412780.png" alt="image-20220314103412780" style="zoom:50%;" />

## 第四章 流水线结构

### 流水线技术

#### 指令的重叠执行

#### 流水线工作原理

#### 流水线的性能分析

#### 相关性分析

### 非线性流水线

### 动态调度技术

### 超标量处理机

### 超流水线处理机

### 超标量超流水线处理机
