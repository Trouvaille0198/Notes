---
title: "数据库原理（2）"
date: 2022-02-25
draft: true
author: "MelonCholi"
tags: [数据库]
categories: [专业课]
---

# 数据库原理二

## 第五章 规范化设计

### 关系模式的设计问题

#### 关系模式的外延和内涵

一个关系模型包括外延和内涵两个方面的内容。

- 外延：关系、表或当前值。

- 内涵：对数据的定义以及对数据完整性约束的定义。

#### 泛关系模式与数据库模式

关系模式 R(U)

- R：关系名字
- U：所有属性的全集
- 关系 r 是关系模式 R(U) 的当前值，是元组的集合
- 这样的关系模式和关系称为**泛关系模式**和泛关系。

实际使用时，用一个关系模式的集合 $\rho = \{ R_1,\dots,R_k\}$ 来代替 R(U)，其中每个 R~i~ 是 U 的子集，$\rho$ 称为**数据库模式**。

#### 关系模式的冗余和异常问题

冗余、修改异常、插入异常、删除异常

<img src="https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20220308151401739.png" alt="image-20220308151401739" style="zoom:50%;" />

<img src="https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20220308151410230.png" alt="image-20220308151410230" style="zoom: 67%;" />

<img src="https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20220308151420363.png" alt="image-20220308151420363" style="zoom: 60%;" />

<img src="https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20220308151430051.png" alt="image-20220308151430051" style="zoom:60%;" />

<img src="https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20220308151446399.png" alt="image-20220308151446399" style="zoom:50%;" />

### 函数依赖

#### 函数依赖 FD 的定义

严格定义：

<img src="https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20220308151831420.png" alt="image-20220308151831420" style="zoom: 67%;" />

或者说，**属性 X 函数决定属性 Y，记作 X→Y**。 其中 X 叫决定因素，Y 叫被决定因素。

此定义可简单表述为：如果属性 X 的值决定属性 Y 的值,那么属性 Y 函数依赖于属性 X。 

换一种说法是，如果知道  X 的值，就可以获得 Y 的值。 

- 不依赖：$X \nrightarrow Y$

- 互相依赖：$X \leftrightarrow Y$

##### 例

<img src="https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20220308153147662.png" alt="image-20220308153147662" style="zoom: 67%;" />

#### FD 的逻辑蕴涵

<img src="https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20220308153351885.png" alt="image-20220308153351885" style="zoom:60%;" />

#### 函数依赖的推理规则

##### Armstrong 公理系统

<img src="https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20220308153406619.png" alt="image-20220308153406619" style="zoom:60%;" />

##### 另外三个推理规则

<img src="https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20220308155923071.png" alt="image-20220308155923071" style="zoom:67%;" />

#### FD 与关键码的联系

<img src="https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20220308160717162.png" alt="image-20220308160717162" style="zoom:67%;" />

##### 找候选键的方法

<img src="https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20220308161331535.png" alt="image-20220308161331535" style="zoom:67%;" />

<img src="https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20220308161440201.png" alt="image-20220308161440201" style="zoom:67%;" />

<img src="https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20220308161447918.png" alt="image-20220308161447918" style="zoom:67%;" />

#### 属性集的闭包

人话：属性 X 可以推出的所有属性的集合

<img src="https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20220308161457792.png" alt="image-20220308161457792" style="zoom:67%;" />

##### 求闭包

<img src="https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20220308161928927.png" alt="image-20220308161928927" style="zoom:67%;" />

<img src="https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20220308161942842.png" alt="image-20220308161942842" style="zoom:67%;" />

<img src="https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20220308162000436.png" alt="image-20220308162000436" style="zoom:67%;" />

<img src="https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20220308162008294.png" alt="image-20220308162008294" style="zoom:67%;" />

<img src="https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20220308162421014.png" alt="image-20220308162421014" style="zoom: 67%;" />

#### FD 的最小依赖集

![image-20220308162436812](https://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20220308162436812.png)

### 关系模式的分解特性

### 关系模式的范式

