---
draft: true
---

# OS2 考点

## 第四章

程序的装入

固定分区分配的大小可相同可不相同，但是事先要定好

动态分区：分区数目不定

动态分区分配算法的**优缺点**

- 最佳适应不是最好的方法
- 最容易形成碎片：最佳适应

对换技术的目的：内存不够，节约内存空间

对换区也可以使用分配算法

物理块=页框

CPU（硬件） 决定页面大小，OS 不决定

地址变换结构由硬件实现

多级页表：降低页表存储空间，有**计算题**

分页：不利于程序的共享和保护

反置页表：建容易，查麻烦，不用弄懂查询过程

分页、分段、分段如何进行地址变换（图 5-2！）

如何提高地址变换效率？快表、多级页表

主流的存储管理器都是页式的

## 第五章

虚存基于的原理：局部性原理

虚存定义

虚存容量实际上由 CPU 地址长度决定！所以虚空间不一定大于物理存储空间

虚存特征

虚存的硬件、软件

缺页中断的特点

堆栈一定在内存，不会缺页

抖动产生的原因

## 输入输出

五层，三层

设备驱动程序的作用

Linux 的有些命令与设备驱动程序有关

假脱机：用户态

缓冲池：在内存

磁盘主要时间：寻道（和旋转延迟）时间

调度一定发生在多个进程的情况下

## 文件管理

文件系统：不完全在核内（因为是微内核）

层次结构：不只有文件

逻辑结构（现代 OS 都是无结构）

顺序文件缺点

文件目录主要目标：主要是实现按名存取

多级目录好处：查询速度快，可重名

树形目录：绝对路径、相对路径；大多数 OS 采用

软连接、硬链接

## 磁盘存储器管理

混合索引结构：计算

Unix 使用混合索引结构管理文件物理块，使用成组链接法管理空闲物理块

位示图、成组链接法

## 主观题

页式、段式的地址变换过程

什么机制能提高体能、能降低页表段表的容量

索引节点、文件目录：怎么建的、设计方法







**第一问**：设备驱动程序是实现 CPU 和设备控制器间通信的一类程序，OS 对设备发出的操作指令具体由它来实现，并且驱动 IO 设备的运行。

**第二问**：

1. 因为设备驱动程序负责进程和设备控制器之间的通信工作，它把上层传过来的抽象 IO 请求转换为具体的、针对某一 IO 设备的命令参数；也将设备控制器发过来的信号传送给上层。
2. 没有设备驱动器，上层软件对具体的 IO 设备一无所知，抽象的命令便无法转换为具体的要求；它还承担了服务请求的校验、设备状态的检查功能。
3. 通常要为每一类设备配置一种驱动程序，不可替代。



**第一问**：除了文件名之外，文件目录信息基本都存储在索引节点中。

**第二问**：根据文件路径在目录中找到对应文件目录项，根据其中指向索引节点的指针找到对应的索引节点。

**第三问**：涉及到文件共享的原因，一份文件可能会在目录中存在多份，所以 OS 并没有提供删除文件的系统调用，只提供了删除一个（硬）链接的系统调用 ulink，以保证文件共享的可行。

**第四问**：当文件已经无人需要时（具体表现为 inode 中的计数器属性 i.link 为 0 时）便删除之，也就是使用 ulink 命令减少一个指向该 inode 的指针。

**第五问**：“.”表示当前目录；“..”表示上一级目录。





**第一问**：每当要访问的页面不在内存中时，便发生缺页中断，这时会请求 OS 把该页从外存调入内存，若内存没有空闲空间，OS 还会使用页面置换算法进行页面的调入调出操作。

**第二问**：

1. 缺页中断发生于指令执行期间，并立即响应处理；而外部设备引起的中断一般会在一条指令完成之后响应处理。
2. 在执行一条指令的过程中可能会发生多次缺页中断。

**第三问**：因为当发生缺页中断时，当前指令所需的数据不在内存中，故不能顺序执行；调页完成之后，当前指令需要再次执行以确保指令的正常结束。

**第四问**：缺页中断处理可能包含着页面调入调出的过程（当内存无空闲空间时），而选择换出哪个页面就由页面置换算法决定。

**第五问**：最佳置换算法、先进先出（FIFO）置换算法、最近最久未使用（LRU）置换算法、最少使用（LFU）置换算法、CLOCK 置换算法