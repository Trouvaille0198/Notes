
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>sqlalchemy · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../内建函数.html" />
    
    
    <link rel="prev" href="Flask.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../markdown.html">
            
                <a href="../../markdown.html">
            
                    
                    Help
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    专业课
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../../Courses/计算机组成原理.html">
            
                <a href="../../Courses/计算机组成原理.html">
            
                    
                    计算机组成原理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../../Courses/计算机网络.html">
            
                <a href="../../Courses/计算机网络.html">
            
                    
                    计算机网络
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" >
            
                <span>
            
                    
                    概率论与数理统计
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.3.1" data-path="../../Courses/概率论与数理统计/1. 概念.html">
            
                <a href="../../Courses/概率论与数理统计/1. 概念.html">
            
                    
                    概念
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.2" data-path="../../Courses/概率论与数理统计/2. 随机变量及其分布.html">
            
                <a href="../../Courses/概率论与数理统计/2. 随机变量及其分布.html">
            
                    
                    随机变量及其分布
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.3" data-path="../../Courses/概率论与数理统计/3. 多维随机变量及其分布.html">
            
                <a href="../../Courses/概率论与数理统计/3. 多维随机变量及其分布.html">
            
                    
                    多维随机变量及其分布
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.4" data-path="../../Courses/概率论与数理统计/4. 随机变量的数字特征.html">
            
                <a href="../../Courses/概率论与数理统计/4. 随机变量的数字特征.html">
            
                    
                    随机变量的数字特征
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.5" data-path="../../Courses/概率论与数理统计/5. 大数定律与中心极限定理.html">
            
                <a href="../../Courses/概率论与数理统计/5. 大数定律与中心极限定理.html">
            
                    
                    大数定律与中心极限定理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.6" data-path="../../Courses/概率论与数理统计/6. 样本及抽样分布.html">
            
                <a href="../../Courses/概率论与数理统计/6. 样本及抽样分布.html">
            
                    
                    样本及抽样分布
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.7" data-path="../../Courses/概率论与数理统计/7. 参数估计.html">
            
                <a href="../../Courses/概率论与数理统计/7. 参数估计.html">
            
                    
                    参数估计
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.8" data-path="../../Courses/概率论与数理统计/8. 假设检验.html">
            
                <a href="../../Courses/概率论与数理统计/8. 假设检验.html">
            
                    
                    假设检验
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.4" >
            
                <span>
            
                    
                    离散数学
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.4.1" data-path="../../Courses/离散数学/离散数学1.html">
            
                <a href="../../Courses/离散数学/离散数学1.html">
            
                    
                    离散一
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.2" data-path="../../Courses/离散数学/离散数学2.html">
            
                <a href="../../Courses/离散数学/离散数学2.html">
            
                    
                    离散二
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    Python
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../BasicGrammar.html">
            
                <a href="../BasicGrammar.html">
            
                    
                    基本语法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" >
            
                <span>
            
                    
                    爬虫
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.1" data-path="../Crawler/Basic Knowledge.html">
            
                <a href="../Crawler/Basic Knowledge.html">
            
                    
                    基础知识
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.2" data-path="../Crawler/BeautifulSoup4.html">
            
                <a href="../Crawler/BeautifulSoup4.html">
            
                    
                    BeautifulSoup4
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.3" data-path="../Crawler/PyQuery.html">
            
                <a href="../Crawler/PyQuery.html">
            
                    
                    PyQuery
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.4" data-path="../Crawler/RegularExpression.html">
            
                <a href="../Crawler/RegularExpression.html">
            
                    
                    RegularExpression
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.5" data-path="../Crawler/Requests.html">
            
                <a href="../Crawler/Requests.html">
            
                    
                    Requests
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.6" data-path="../Crawler/Selenium.html">
            
                <a href="../Crawler/Selenium.html">
            
                    
                    Selenium
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.7" data-path="../Crawler/XPath.html">
            
                <a href="../Crawler/XPath.html">
            
                    
                    XPath
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.3" >
            
                <span>
            
                    
                    数据分析
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.3.1" data-path="../DataAnalysis/Matplotlib.html">
            
                <a href="../DataAnalysis/Matplotlib.html">
            
                    
                    matplotlib
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.2" data-path="../DataAnalysis/Numpy.html">
            
                <a href="../DataAnalysis/Numpy.html">
            
                    
                    numpy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.3" data-path="../DataAnalysis/Pandas.html">
            
                <a href="../DataAnalysis/Pandas.html">
            
                    
                    pandas
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.4" data-path="../DataAnalysis/Seaborn.html">
            
                <a href="../DataAnalysis/Seaborn.html">
            
                    
                    seaborn
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.4" >
            
                <span>
            
                    
                    [机器学习()
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.4.1" data-path="../MachineLearning/sklearn.html">
            
                <a href="../MachineLearning/sklearn.html">
            
                    
                    sklearn
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.5" >
            
                <span>
            
                    
                    后端
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.5.1" data-path="Django.html">
            
                <a href="Django.html">
            
                    
                    Django
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.2" data-path="FastAPI.html">
            
                <a href="FastAPI.html">
            
                    
                    FastAPI
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.3" data-path="Flask.html">
            
                <a href="Flask.html">
            
                    
                    Flask
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.4.5.4" data-path="sqlalchemy.html">
            
                <a href="sqlalchemy.html">
            
                    
                    sqlalchemy
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../内建函数.html">
            
                <a href="../内建函数.html">
            
                    
                    内建函数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" >
            
                <span>
            
                    
                    可视化
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.7.1" data-path="../可视化/DearPyGui.html">
            
                <a href="../可视化/DearPyGui.html">
            
                    
                    DearPyGui
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.2" data-path="../可视化/PyQt5.html">
            
                <a href="../可视化/PyQt5.html">
            
                    
                    PyQt5
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.3" data-path="../可视化/manim.html">
            
                <a href="../可视化/manim.html">
            
                    
                    Manim
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.4" data-path="../可视化/tkinter.html">
            
                <a href="../可视化/tkinter.html">
            
                    
                    Tkinter
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.5" data-path="../可视化/wordcloud.html">
            
                <a href="../可视化/wordcloud.html">
            
                    
                    Wordcloud
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8" >
            
                <span>
            
                    
                    常用库
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.1" data-path="../常用库/aiohttp.html">
            
                <a href="../常用库/aiohttp.html">
            
                    
                    aiohttp
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.2" data-path="../常用库/bisect.html">
            
                <a href="../常用库/bisect.html">
            
                    
                    bisect
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.3" data-path="../常用库/collections.html">
            
                <a href="../常用库/collections.html">
            
                    
                    collections
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.4" data-path="../常用库/datetime.html">
            
                <a href="../常用库/datetime.html">
            
                    
                    datetime
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.5" data-path="../常用库/getpot.html">
            
                <a href="../常用库/getpot.html">
            
                    
                    getpot
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.6" data-path="../常用库/iohttp.html">
            
                <a href="../常用库/iohttp.html">
            
                    
                    iohttp
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.7" data-path="../常用库/logging.html">
            
                <a href="../常用库/logging.html">
            
                    
                    logging
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.8" data-path="../常用库/loguru.html">
            
                <a href="../常用库/loguru.html">
            
                    
                    loguru
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.9" data-path="../常用库/os.html">
            
                <a href="../常用库/os.html">
            
                    
                    os
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.10" data-path="../常用库/pyinstaller.html">
            
                <a href="../常用库/pyinstaller.html">
            
                    
                    pyinstaller
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.11" data-path="../常用库/random.html">
            
                <a href="../常用库/random.html">
            
                    
                    random
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.12" data-path="../常用库/threading.html">
            
                <a href="../常用库/threading.html">
            
                    
                    threading
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.13" data-path="../常用库/time.html">
            
                <a href="../常用库/time.html">
            
                    
                    time
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.14" data-path="../常用库/tqdm.html">
            
                <a href="../常用库/tqdm.html">
            
                    
                    tqdm
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    前端
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../../Frontend/CSS.html">
            
                <a href="../../Frontend/CSS.html">
            
                    
                    CSS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../../Frontend/HTML.html">
            
                <a href="../../Frontend/HTML.html">
            
                    
                    HTML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" >
            
                <span>
            
                    
                    JavaScript
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.3.1" data-path="../../Frontend/JavaScript/BasicGrammar.html">
            
                <a href="../../Frontend/JavaScript/BasicGrammar.html">
            
                    
                    基本语法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.2" data-path="../../Frontend/JavaScript/DOM.html">
            
                <a href="../../Frontend/JavaScript/DOM.html">
            
                    
                    DOM
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.3" data-path="../../Frontend/JavaScript/标准对象.html">
            
                <a href="../../Frontend/JavaScript/标准对象.html">
            
                    
                    标准对象
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.4" >
            
                <span>
            
                    
                    前端框架
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.4.1" data-path="../../Frontend/框架/API 规范.html">
            
                <a href="../../Frontend/框架/API 规范.html">
            
                    
                    API 规范
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.2" data-path="../../Frontend/框架/VUE.html">
            
                <a href="../../Frontend/框架/VUE.html">
            
                    
                    VUE
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.3" data-path="../../Frontend/框架/Vuetify.html">
            
                <a href="../../Frontend/框架/Vuetify.html">
            
                    
                    Vuetify
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    Linux
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../../Linux/BasicGrammar.html">
            
                <a href="../../Linux/BasicGrammar.html">
            
                    
                    基本操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" >
            
                <span>
            
                    
                    收集
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.2.1" data-path="../../Linux/useful/Install.html">
            
                <a href="../../Linux/useful/Install.html">
            
                    
                    Install
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2.2" data-path="../../Linux/useful/apt-get.html">
            
                <a href="../../Linux/useful/apt-get.html">
            
                    
                    Apt Get
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2.3" data-path="../../Linux/useful/screen.html">
            
                <a href="../../Linux/useful/screen.html">
            
                    
                    Screen
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" >
            
                <span>
            
                    
                    教程配置
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../../useful/配置 SSH.html">
            
                <a href="../../useful/配置 SSH.html">
            
                    
                    配置 SSH
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../../useful/配置 WIndows Terminal.html">
            
                <a href="../../useful/配置 WIndows Terminal.html">
            
                    
                    配置 WIndows Terminal
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" >
            
                <span>
            
                    
                    效率工具
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../../效率工具/Git.html">
            
                <a href="../../效率工具/Git.html">
            
                    
                    Git
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../../效率工具/LaTeX数学公式.html">
            
                <a href="../../效率工具/LaTeX数学公式.html">
            
                    
                    LaTeX数学公式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../../效率工具/Vim.html">
            
                <a href="../../效率工具/Vim.html">
            
                    
                    Vim
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../../效率工具/mermaid.html">
            
                <a href="../../效率工具/mermaid.html">
            
                    
                    Mermaid
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" >
            
                <span>
            
                    
                    C艹
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../../Cpp/类.html">
            
                <a href="../../Cpp/类.html">
            
                    
                    类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../../Cpp/要点.html">
            
                <a href="../../Cpp/要点.html">
            
                    
                    一些要点
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" >
            
                <span>
            
                    
                    机器学习
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../../ML/MachineLearning.html">
            
                <a href="../../ML/MachineLearning.html">
            
                    
                    MachineLearning
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" >
            
                <span>
            
                    
                    Java
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="../../Java/BasicGrammar.html">
            
                <a href="../../Java/BasicGrammar.html">
            
                    
                    基本语法
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >sqlalchemy</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="&#x4E00;&#x3001;&#x8BA4;&#x8BC6;">&#x4E00;&#x3001;&#x8BA4;&#x8BC6;</h1>
<p>ORM&#xFF1A;Object Relational Mapping&#xFF08;&#x5BF9;&#x8C61;&#x5173;&#x7CFB;&#x6620;&#x5C04;&#xFF09;&#x5C06;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x8868;&#x4E0E;&#x7C7B;&#x6784;&#x5EFA;&#x6620;&#x5C04;</p>
<ul>
<li>&#x7B80;&#x6D01;&#x6613;&#x8BFB;&#xFF1A;&#x5C06;&#x6570;&#x636E;&#x8868;&#x62BD;&#x8C61;&#x4E3A;&#x5BF9;&#x8C61;&#xFF08;&#x6570;&#x636E;&#x6A21;&#x578B;&#xFF09;&#xFF0C;&#x66F4;&#x76F4;&#x89C2;&#x6613;&#x8BFB;</li>
<li>&#x53EF;&#x79FB;&#x690D;&#xFF1A;&#x5C01;&#x88C5;&#x4E86;&#x591A;&#x79CD;&#x6570;&#x636E;&#x5E93;&#x5F15;&#x64CE;&#xFF0C;&#x9762;&#x5BF9;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x64CD;&#x4F5C;&#x57FA;&#x672C;&#x4E00;&#x81F4;&#xFF0C;&#x4EE3;&#x7801;&#x6613;&#x7EF4;&#x62A4;</li>
<li>&#x66F4;&#x5B89;&#x5168;&#xFF1A;&#x6709;&#x6548;&#x907F;&#x514D; SQL &#x6CE8;&#x5165;</li>
</ul>
<p>&#x6570;&#x636E;&#x5E93;&#x4E0E; python &#x5BF9;&#x8C61;&#x7684;&#x6620;&#x5C04;</p>
<ul>
<li>&#x6570;&#x636E;&#x5E93;&#x8868; (table&#xFF09;&#x6620;&#x5C04;&#x4E3A; Python &#x7684;&#x7C7B; (class)&#xFF0C;&#x79F0;&#x4E3A; model</li>
<li>&#x8868;&#x7684;&#x5B57;&#x6BB5; (field) &#x6620;&#x5C04;&#x4E3A; Column</li>
<li>&#x8868;&#x7684;&#x8BB0;&#x5F55; (record&#xFF09;&#x4EE5;&#x7C7B;&#x7684;&#x5B9E;&#x4F8B; (instance) &#x6765;&#x8868;&#x793A;</li>
</ul>
<h2 id="11-&#x5FEB;&#x901F;&#x5165;&#x95E8;">1.1 &#x5FEB;&#x901F;&#x5165;&#x95E8;</h2>
<p>FastAPI &#x7684;&#x6587;&#x4EF6;&#x7ED3;&#x6784;</p>
<pre><code class="lang-python">.
&#x2514;&#x2500;&#x2500; sql_app
    &#x251C;&#x2500;&#x2500; __init__.py
    &#x251C;&#x2500;&#x2500; crud.py <span class="hljs-comment"># &#x589E;&#x5220;&#x67E5;&#x6539;</span>
    &#x251C;&#x2500;&#x2500; database.py <span class="hljs-comment"># &#x521B;&#x5EFA;&#x5F15;&#x64CE;</span>
    &#x251C;&#x2500;&#x2500; main.py
    &#x251C;&#x2500;&#x2500; models.py <span class="hljs-comment"># &#x58F0;&#x660E;&#x6620;&#x5C04;</span>
    &#x2514;&#x2500;&#x2500; schemas.py <span class="hljs-comment"># &#x5EFA;&#x7ACB; pydantic &#x6A21;&#x578B;</span>
</code></pre>
<h3 id="111-&#x521B;&#x5EFA;&#x5F15;&#x64CE;">1.1.1 &#x521B;&#x5EFA;&#x5F15;&#x64CE;</h3>
<pre><code class="lang-python"> <span class="hljs-comment"># database.py</span>

 <span class="hljs-keyword">from</span> sqlalchemy <span class="hljs-keyword">import</span> create_engine
 <span class="hljs-comment"># using MySQL</span>
 engine = create_engine(<span class="hljs-string">&apos;mysql+pymysql://user:pwd@localhost/testdb&apos;</span>, pool_recycle=<span class="hljs-number">3600</span>)
 <span class="hljs-comment"># using SQLite</span>
 engine = create_engine(<span class="hljs-string">&quot;sqlite:///testdb.db&quot;</span>)
</code></pre>
<p>&#x6216;&#x8005;&#x5C06;&#x6570;&#x636E;&#x5E93;&#x94FE;&#x63A5;&#x5206;&#x79BB;</p>
<pre><code class="lang-python"><span class="hljs-comment"># database.py</span>

SQLALCHEMY_DATABASE_URL1 = <span class="hljs-string">&quot;sqlite:///./sql_app.db&quot;</span>
SQLALCHEMY_DATABASE_URL2 = <span class="hljs-string">&quot;postgresql://user:password@postgresserver/db&quot;</span>

engine = create_engine(
    SQLALCHEMY_DATABASE_URL1, connect_args={<span class="hljs-string">&quot;check_same_thread&quot;</span>: <span class="hljs-keyword">False</span>}
)     <span class="hljs-comment"># needed only for SQLite</span>
</code></pre>
<h3 id="112-&#x5EFA;&#x7ACB;&#x5BF9;&#x8C61;">1.1.2 &#x5EFA;&#x7ACB;&#x5BF9;&#x8C61;</h3>
<pre><code class="lang-python"><span class="hljs-comment"># database.py</span>

SessionLocal = sessionmaker(autocommit=<span class="hljs-keyword">False</span>, autoflush=<span class="hljs-keyword">False</span>, bind=engine)
</code></pre>
<h3 id="113-&#x58F0;&#x540D;&#x6620;&#x5C04;">1.1.3 &#x58F0;&#x540D;&#x6620;&#x5C04;</h3>
<p>&#x58F0;&#x660E; Base &#x5B9E;&#x4F8B;&#xFF08;&#x5728; <code>database.py</code> &#x4E2D;&#xFF09;</p>
<pre><code class="lang-python"><span class="hljs-comment"># database.py</span>

<span class="hljs-keyword">from</span> sqlalchemy.ext.declarative <span class="hljs-keyword">import</span> declarative_base
Base = declarative_base()
</code></pre>
<p>&#x65B0;&#x5EFA;&#x8868;</p>
<pre><code class="lang-python"><span class="hljs-comment"># models.py</span>

<span class="hljs-keyword">from</span> sqlalchemy <span class="hljs-keyword">import</span> Boolean, Column, ForeignKey, Integer, String
<span class="hljs-keyword">from</span> sqlalchemy.orm <span class="hljs-keyword">import</span> relationship
<span class="hljs-keyword">from</span> .database <span class="hljs-keyword">import</span> Base

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span><span class="hljs-params">(Base)</span>:</span>
    __tablename__ = <span class="hljs-string">&quot;users&quot;</span>

    id = Column(Integer, primary_key=<span class="hljs-keyword">True</span>, index=<span class="hljs-keyword">True</span>)
    email = Column(String, unique=<span class="hljs-keyword">True</span>, index=<span class="hljs-keyword">True</span>)
    hashed_password = Column(String)
    is_active = Column(Boolean, default=<span class="hljs-keyword">True</span>)

    items = relationship(<span class="hljs-string">&quot;Item&quot;</span>, back_populates=<span class="hljs-string">&quot;owner&quot;</span>)


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Item</span><span class="hljs-params">(Base)</span>:</span>
    __tablename__ = <span class="hljs-string">&quot;items&quot;</span>

    id = Column(Integer, primary_key=<span class="hljs-keyword">True</span>, index=<span class="hljs-keyword">True</span>)
    title = Column(String, index=<span class="hljs-keyword">True</span>)
    description = Column(String, index=<span class="hljs-keyword">True</span>)
    owner_id = Column(Integer, ForeignKey(<span class="hljs-string">&quot;users.id&quot;</span>))

    owner = relationship(<span class="hljs-string">&quot;User&quot;</span>, back_populates=<span class="hljs-string">&quot;items&quot;</span>)
</code></pre>
<h3 id="114-&#x5EFA;&#x7ACB;-pydantic-&#x6A21;&#x578B;">1.1.4 &#x5EFA;&#x7ACB; Pydantic &#x6A21;&#x578B;</h3>
<pre><code class="lang-python"><span class="hljs-comment"># schemas.py</span>

<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> List, Optional
<span class="hljs-keyword">from</span> pydantic <span class="hljs-keyword">import</span> BaseModel

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ItemBase</span><span class="hljs-params">(BaseModel)</span>:</span>
    title: str
    description: Optional[str] = <span class="hljs-keyword">None</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ItemCreate</span><span class="hljs-params">(ItemBase)</span>:</span> <span class="hljs-comment"># &#x521B;&#x5EFA;&#x65F6;&#x7684;&#x6240;&#x7528;&#x7684;&#x5BF9;&#x8C61;</span>
    <span class="hljs-keyword">pass</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Item</span><span class="hljs-params">(ItemBase)</span>:</span> <span class="hljs-comment"># API&#x8C03;&#x7528;&#x7684;&#x5BF9;&#x8C61;</span>
    id: int
    owner_id: int

    <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Config</span>:</span>
        orm_mode = <span class="hljs-keyword">True</span> <span class="hljs-comment"># &#x5C06;&#x5B57;&#x5178;&#x8BC6;&#x522B;&#x4E3A;ORM&#x5BF9;&#x8C61;</span>


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserBase</span><span class="hljs-params">(BaseModel)</span>:</span>
    email: str

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserCreate</span><span class="hljs-params">(UserBase)</span>:</span> <span class="hljs-comment"># &#x521B;&#x5EFA;&#x65F6;&#x7684;&#x6240;&#x7528;&#x7684;&#x5BF9;&#x8C61;</span>
    password: str

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span><span class="hljs-params">(UserBase)</span>:</span> <span class="hljs-comment"># API&#x8C03;&#x7528;&#x7684;&#x5BF9;&#x8C61;</span>
    id: int
    is_active: bool
    items: List[Item] = []

    <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Config</span>:</span>
        orm_mode = <span class="hljs-keyword">True</span>
</code></pre>
<h3 id="115-crud">1.1.5 CRUD</h3>
<p><strong>C</strong>reate, <strong>R</strong>ead, <strong>U</strong>pdate, and <strong>D</strong>elete</p>
<h4 id="1&#xFF09;&#x8BFB;">1&#xFF09;&#x8BFB;</h4>
<pre><code class="lang-python"><span class="hljs-keyword">from</span> sqlalchemy.orm <span class="hljs-keyword">import</span> Session
<span class="hljs-keyword">from</span> . <span class="hljs-keyword">import</span> models, schemas

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_user</span><span class="hljs-params">(db: Session, user_id: int)</span>:</span>
    <span class="hljs-keyword">return</span> db.query(models.User).filter(models.User.id == user_id).first()

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_user_by_email</span><span class="hljs-params">(db: Session, email: str)</span>:</span>
    <span class="hljs-keyword">return</span> db.query(models.User).filter(models.User.email == email).first()

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_users</span><span class="hljs-params">(db: Session, skip: int = <span class="hljs-number">0</span>, limit: int = <span class="hljs-number">100</span>)</span>:</span>
    <span class="hljs-keyword">return</span> db.query(models.User).offset(skip).limit(limit).all()

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_items</span><span class="hljs-params">(db: Session, skip: int = <span class="hljs-number">0</span>, limit: int = <span class="hljs-number">100</span>)</span>:</span>
    <span class="hljs-keyword">return</span> db.query(models.Item).offset(skip).limit(limit).all()
</code></pre>
<h4 id="2&#xFF09;&#x5EFA;">2&#xFF09;&#x5EFA;</h4>
<pre><code class="lang-python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">create_user</span><span class="hljs-params">(db: Session, user: schemas.UserCreate)</span>:</span>
    fake_hashed_password = user.password + <span class="hljs-string">&quot;notreallyhashed&quot;</span>
    db_user = models.User(email=user.email, hashed_password=fake_hashed_password)
    db.add(db_user) <span class="hljs-comment"># &#x589E;&#x52A0;&#x5B9E;&#x4F8B;&#x5230;&#x6570;&#x636E;&#x5E93;&#x4E2D;</span>
    db.commit() <span class="hljs-comment"># &#x63D0;&#x4EA4;&#x66F4;&#x6539;</span>
    db.refresh(db_user) <span class="hljs-comment"># &#x5237;&#x65B0;&#x5B9E;&#x4F8B;</span>
    <span class="hljs-keyword">return</span> db_user

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">create_user_item</span><span class="hljs-params">(db: Session, item: schemas.ItemCreate, user_id: int)</span>:</span>
    db_item = models.Item(**item.dict(), owner_id=user_id) <span class="hljs-comment"># &#x4F7F;&#x7528;&#x5B57;&#x5178;&#x4F20;&#x5165;</span>
    db.add(db_item)
    db.commit()
    db.refresh(db_item)
    <span class="hljs-keyword">return</span> db_item
</code></pre>
<h3 id="116-&#x521B;&#x5EFA;&#x8868;">1.1.6 &#x521B;&#x5EFA;&#x8868;</h3>
<pre><code class="lang-python"><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> List

<span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> Depends, FastAPI, HTTPException
<span class="hljs-keyword">from</span> sqlalchemy.orm <span class="hljs-keyword">import</span> Session

<span class="hljs-keyword">from</span> . <span class="hljs-keyword">import</span> crud, models, schemas
<span class="hljs-keyword">from</span> .database <span class="hljs-keyword">import</span> SessionLocal, engine

models.Base.metadata.create_all(bind=engine) <span class="hljs-comment"># &#x6B63;&#x5F0F;&#x65B0;&#x5EFA;&#x6570;&#x636E;&#x5E93;&#x548C;&#x8868;&#xFF08;&#x5982;&#x679C;&#x539F;&#x6765;&#x6CA1;&#x6709;&#x7684;&#x8BDD;&#xFF09;</span>

app = FastAPI()

<span class="hljs-comment"># Dependency</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_db</span><span class="hljs-params">()</span>:</span>
    db = SessionLocal()
    <span class="hljs-keyword">try</span>:
        <span class="hljs-keyword">yield</span> db
    <span class="hljs-keyword">finally</span>:
        db.close()


<span class="hljs-meta">@app.post(&quot;/users/&quot;, response_model=schemas.User)</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">create_user</span><span class="hljs-params">(user: schemas.UserCreate, db: Session = Depends<span class="hljs-params">(get_db)</span>)</span>:</span>
    db_user = crud.get_user_by_email(db, email=user.email) <span class="hljs-comment"># &#x68C0;&#x67E5;&#x7528;&#x6237;&#x662F;&#x5426;&#x88AB;&#x6CE8;&#x518C;</span>
    <span class="hljs-keyword">if</span> db_user:
        <span class="hljs-keyword">raise</span> HTTPException(status_code=<span class="hljs-number">400</span>, detail=<span class="hljs-string">&quot;Email already registered&quot;</span>)
    <span class="hljs-keyword">return</span> crud.create_user(db=db, user=user) <span class="hljs-comment"># &#x65B0;&#x5EFA;&#x7528;&#x6237;</span>


<span class="hljs-meta">@app.get(&quot;/users/&quot;, response_model=List[schemas.User])</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">read_users</span><span class="hljs-params">(skip: int = <span class="hljs-number">0</span>, limit: int = <span class="hljs-number">100</span>, db: Session = Depends<span class="hljs-params">(get_db)</span>)</span>:</span>
    users = crud.get_users(db, skip=skip, limit=limit)
    <span class="hljs-keyword">return</span> users


<span class="hljs-meta">@app.get(&quot;/users/{user_id}&quot;, response_model=schemas.User)</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">read_user</span><span class="hljs-params">(user_id: int, db: Session = Depends<span class="hljs-params">(get_db)</span>)</span>:</span>
    db_user = crud.get_user(db, user_id=user_id)
    <span class="hljs-keyword">if</span> db_user <span class="hljs-keyword">is</span> <span class="hljs-keyword">None</span>:
        <span class="hljs-keyword">raise</span> HTTPException(status_code=<span class="hljs-number">404</span>, detail=<span class="hljs-string">&quot;User not found&quot;</span>)
    <span class="hljs-keyword">return</span> db_user


<span class="hljs-meta">@app.post(&quot;/users/{user_id}/items/&quot;, response_model=schemas.Item)</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">create_item_for_user</span><span class="hljs-params">(
    user_id: int, item: schemas.ItemCreate, db: Session = Depends<span class="hljs-params">(get_db)</span>
)</span>:</span>
    <span class="hljs-keyword">return</span> crud.create_user_item(db=db, item=item, user_id=user_id)


<span class="hljs-meta">@app.get(&quot;/items/&quot;, response_model=List[schemas.Item])</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">read_items</span><span class="hljs-params">(skip: int = <span class="hljs-number">0</span>, limit: int = <span class="hljs-number">100</span>, db: Session = Depends<span class="hljs-params">(get_db)</span>)</span>:</span>
    items = crud.get_items(db, skip=skip, limit=limit)
    <span class="hljs-keyword">return</span> items
</code></pre>
<h2 id="12-&#x6982;&#x5FF5;">1.2 &#x6982;&#x5FF5;</h2>
<table>
<thead>
<tr>
<th>&#x6982;&#x5FF5;</th>
<th>&#x5BF9;&#x5E94;</th>
<th>&#x8BF4;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>engine</td>
<td>&#x8FDE;&#x63A5;</td>
<td>&#x9A71;&#x52A8;&#x5F15;&#x64CE;</td>
</tr>
<tr>
<td>session</td>
<td>&#x8FDE;&#x63A5;&#x6C60;&#x3001;&#x4E8B;&#x52A1;&#x3001;&#x4F1A;&#x8BDD;</td>
<td>&#x7531;&#x6B64;&#x5F00;&#x59CB;&#x67E5;&#x8BE2;</td>
</tr>
<tr>
<td>model</td>
<td>&#x8868;</td>
<td>&#x7C7B;&#x5B9A;&#x4E49;</td>
</tr>
<tr>
<td>column</td>
<td>&#x5217;</td>
<td></td>
</tr>
<tr>
<td>query</td>
<td>&#x82E5;&#x5E72;&#x884C;</td>
<td>&#x53EF;&#x4EE5;&#x94FE;&#x5F0F;&#x6DFB;&#x52A0;&#x591A;&#x4E2A;&#x6587;&#x4EF6;</td>
</tr>
</tbody>
</table>
<h3 id="121-engine">1.2.1 Engine</h3>
<ul>
<li>&#x4F4D;&#x4E8E;&#x6570;&#x636E;&#x5E93;&#x9A71;&#x52A8;&#x4E4B;&#x4E0A;&#x7684;&#x4E00;&#x4E2A;&#x62BD;&#x8C61;&#x6982;&#x5FF5;&#xFF0C;&#x5B83;&#x9002;&#x914D;&#x4E86;&#x5404;&#x79CD;&#x6570;&#x636E;&#x5E93;&#x9A71;&#x52A8;&#xFF0C;&#x63D0;&#x4F9B;&#x4E86;&#x8FDE;&#x63A5;&#x6C60;&#x7B49;&#x529F;&#x80FD;</li>
<li><p>&#x7528;&#x6CD5;&#xFF1A;<code>engine = create_engine(&lt;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x4E32;&gt;)</code></p>
<ul>
<li><p>&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x4E32;&#x7684;&#x683C;&#x5F0F;&#x662F;</p>
<pre><code class="lang-python">  dialect+driver://username:password@host:port/database?param
</code></pre>
</li>
<li><p>dialect &#x53EF;&#x4EE5;&#x662F; <code>mysql</code>, <code>postgresql</code>, <code>oracle</code>, <code>mssql</code>, <code>sqlite</code></p>
</li>
<li><p>driver&#xFF1A;&#x9A71;&#x52A8;&#xFF0C;&#x6BD4;&#x5982; MySQL &#x7684;&#x9A71;&#x52A8; pymysql&#xFF0C; &#x5982;&#x679C;&#x4E0D;&#x586B;&#x5199;&#xFF0C;&#x5C31;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x9A71;&#x52A8;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             </p>
</li>
<li><p>&#x518D;&#x5F80;&#x540E;&#x5C31;&#x662F;&#x7528;&#x6237;&#x540D;&#x3001;&#x5BC6;&#x7801;&#x3001;&#x5730;&#x5740;&#x3001;&#x7AEF;&#x53E3;&#x3001;&#x6570;&#x636E;&#x5E93;&#x3001;&#x8FDE;&#x63A5;&#x53C2;&#x6570;</p>
</li>
<li><p>&#x4F8B;</p>
<pre><code class="lang-python">  <span class="hljs-comment"># MySQL </span>
  engine = create_engine(<span class="hljs-string">&apos;mysql+pymysql://scott:tiger@localhost/foo?charset=utf8mb4&apos;</span>)
  <span class="hljs-comment"># PostgreSQL</span>
  engine = create_engine(<span class="hljs-string">&apos;postgresql+psycopg2://scott:tiger@localhost/mydatabase&apos;</span>)
  <span class="hljs-comment"># Oracle </span>
  engine = create_engine(<span class="hljs-string">&apos;oracle+cx_oracle://scott:tiger@tnsname&apos;</span>)
  <span class="hljs-comment"># MS SQL</span>
  engine = create_engine(<span class="hljs-string">&apos;mssql+pymssql://scott:tiger@hostname:port/dbname&apos;</span>)
  <span class="hljs-comment"># SQLite</span>
  engine = create_engine(<span class="hljs-string">&apos;sqlite:////absolute/path/to/foo.db&apos;</span>)
</code></pre>
</li>
</ul>
</li>
</ul>
<h3 id="122-session">1.2.2 Session</h3>
<h2 id="13-column-&#x53C2;&#x6570;">1.3 Column &#x53C2;&#x6570;</h2>
<ul>
<li><strong><em>type</em></strong>&#xFF1A;&#x5B57;&#x6BB5;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;    </li>
</ul>
<table>
<thead>
<tr>
<th>Object Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://docs.sqlalchemy.org/en/14/core/type_basics.html#sqlalchemy.types.BigInteger" target="_blank"><strong>BigInteger</strong></a></td>
<td>A type for bigger <code>int</code> integers.</td>
</tr>
<tr>
<td><a href="https://docs.sqlalchemy.org/en/14/core/type_basics.html#sqlalchemy.types.Boolean" target="_blank"><strong>Boolean</strong></a></td>
<td>A bool datatype.</td>
</tr>
<tr>
<td><a href="https://docs.sqlalchemy.org/en/14/core/type_basics.html#sqlalchemy.types.Date" target="_blank"><strong>Date</strong></a></td>
<td>A type for <code>datetime.date()</code> objects.</td>
</tr>
<tr>
<td><a href="https://docs.sqlalchemy.org/en/14/core/type_basics.html#sqlalchemy.types.DateTime" target="_blank"><strong>DateTime</strong></a></td>
<td>A type for <code>datetime.datetime()</code> objects.</td>
</tr>
<tr>
<td><a href="https://docs.sqlalchemy.org/en/14/core/type_basics.html#sqlalchemy.types.Enum" target="_blank"><strong>Enum</strong></a></td>
<td>Generic Enum Type.</td>
</tr>
<tr>
<td><a href="https://docs.sqlalchemy.org/en/14/core/type_basics.html#sqlalchemy.types.Float" target="_blank"><strong>Float</strong></a></td>
<td>Type representing floating point types, such as <code>FLOAT</code> or <code>REAL</code>.</td>
</tr>
<tr>
<td><a href="https://docs.sqlalchemy.org/en/14/core/type_basics.html#sqlalchemy.types.Integer" target="_blank"><strong>Integer</strong></a></td>
<td>A type for <code>int</code> integers.</td>
</tr>
<tr>
<td><a href="https://docs.sqlalchemy.org/en/14/core/type_basics.html#sqlalchemy.types.Interval" target="_blank"><strong>Interval</strong></a></td>
<td>A type for <code>datetime.timedelta()</code> objects.</td>
</tr>
<tr>
<td><a href="https://docs.sqlalchemy.org/en/14/core/type_basics.html#sqlalchemy.types.LargeBinary" target="_blank"><strong>LargeBinary</strong></a></td>
<td>A type for large binary byte data.</td>
</tr>
<tr>
<td><a href="https://docs.sqlalchemy.org/en/14/core/type_basics.html#sqlalchemy.types.MatchType" target="_blank"><strong>MatchType</strong></a></td>
<td>Refers to the return type of the MATCH operator.</td>
</tr>
<tr>
<td><a href="https://docs.sqlalchemy.org/en/14/core/type_basics.html#sqlalchemy.types.Numeric" target="_blank"><strong>Numeric</strong></a></td>
<td>A type for fixed precision numbers, such as <code>NUMERIC</code> or <code>DECIMAL</code>.</td>
</tr>
<tr>
<td><a href="https://docs.sqlalchemy.org/en/14/core/type_basics.html#sqlalchemy.types.PickleType" target="_blank"><strong>PickleType</strong></a></td>
<td>Holds Python objects, which are serialized using pickle.</td>
</tr>
<tr>
<td><a href="https://docs.sqlalchemy.org/en/14/core/type_basics.html#sqlalchemy.types.SchemaType" target="_blank"><strong>SchemaType</strong></a></td>
<td>Mark a type as possibly requiring schema-level DDL for usage.</td>
</tr>
<tr>
<td><a href="https://docs.sqlalchemy.org/en/14/core/type_basics.html#sqlalchemy.types.SmallInteger" target="_blank"><strong>SmallInteger</strong></a></td>
<td>A type for smaller <code>int</code> integers.</td>
</tr>
<tr>
<td><a href="https://docs.sqlalchemy.org/en/14/core/type_basics.html#sqlalchemy.types.String" target="_blank"><strong>String</strong></a></td>
<td>The base for all string and character types.</td>
</tr>
<tr>
<td><a href="https://docs.sqlalchemy.org/en/14/core/type_basics.html#sqlalchemy.types.Text" target="_blank"><strong>Text</strong></a></td>
<td>A variably sized string type.</td>
</tr>
<tr>
<td><a href="https://docs.sqlalchemy.org/en/14/core/type_basics.html#sqlalchemy.types.Time" target="_blank"><strong>Time</strong></a></td>
<td>A type for <code>datetime.time()</code> objects.</td>
</tr>
<tr>
<td><a href="https://docs.sqlalchemy.org/en/14/core/type_basics.html#sqlalchemy.types.Unicode" target="_blank"><strong>Unicode</strong></a></td>
<td>A variable length Unicode string type.</td>
</tr>
<tr>
<td><a href="https://docs.sqlalchemy.org/en/14/core/type_basics.html#sqlalchemy.types.UnicodeText" target="_blank"><strong>UnicodeText</strong></a></td>
<td>An unbounded-length Unicode string type.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>&#x7C7B;&#x578B;&#x540D;</th>
<th>&#x8BF4;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Integer</td>
<td>&#x666E;&#x901A;&#x6574;&#x6570;&#xFF0C;&#x4E00;&#x822C;&#x662F;32&#x4F4D;</td>
</tr>
<tr>
<td>SmallInteger</td>
<td>&#x53D6;&#x503C;&#x8303;&#x56F4;&#x5C0F;&#x7684;&#x6574;&#x6570;&#xFF0C;&#x4E00;&#x822C;&#x662F;16&#x4F4D;</td>
</tr>
<tr>
<td>Float</td>
<td>&#x6D6E;&#x70B9;&#x6570;</td>
</tr>
<tr>
<td>Numeric</td>
<td>&#x5B9A;&#x70B9;&#x6570;</td>
</tr>
<tr>
<td>String</td>
<td>&#x5B57;&#x7B26;&#x4E32;</td>
</tr>
<tr>
<td>Text</td>
<td>&#x6587;&#x672C;&#x5B57;&#x7B26;&#x4E32;</td>
</tr>
<tr>
<td>Boolean</td>
<td>&#x5E03;&#x5C14;&#x503C;</td>
</tr>
<tr>
<td>Date</td>
<td>&#x65E5;&#x671F;</td>
</tr>
<tr>
<td>Time</td>
<td>&#x65F6;&#x95F4;</td>
</tr>
<tr>
<td>DateTime</td>
<td>&#x65E5;&#x671F;&#x548C;&#x65F6;&#x95F4;</td>
</tr>
</tbody>
</table>
<ul>
<li><strong><em>primary_key</em></strong>&#xFF1A;&#x8BBE;&#x7F6E;&#x5B57;&#x6BB5;&#x662F;&#x5426;&#x4E3A;&#x4E3B;&#x952E;</li>
<li><strong><em>unique</em></strong>&#xFF1A;&#x8BBE;&#x7F6E;&#x5B57;&#x6BB5;&#x662F;&#x5426;&#x552F;&#x4E00;</li>
<li><strong><em>index</em></strong>&#xFF1A;&#x8BBE;&#x7F6E;&#x5B57;&#x6BB5;&#x662F;&#x5426;&#x4E3A;&#x7D22;&#x5F15;&#x53C2;&#x6570;</li>
<li><strong><em>default</em></strong>&#xFF1A;&#x8BBE;&#x7F6E;&#x5B57;&#x6BB5;&#x9ED8;&#x8BA4;&#x503C;</li>
<li><strong><em>nullable</em></strong>&#xFF1A;&#x8BBE;&#x7F6E;&#x5B57;&#x6BB5;&#x662F;&#x5426;&#x53EF;&#x7A7A;</li>
<li><strong><em>autoincrement</em></strong>&#xFF1A;&#x8BBE;&#x7F6E;&#x5B57;&#x6BB5;&#x662F;&#x5426;&#x81EA;&#x52A8;&#x9012;&#x589E;</li>
<li><strong><em>comment</em></strong>&#xFF1A;&#x8BBE;&#x7F6E;&#x5B57;&#x6BB5;&#x6CE8;&#x91CA;</li>
</ul>
<h2 id="14-query">1.4 query</h2>
<p><code>Session</code>&#x7684; <code>query</code> &#x51FD;&#x6570;&#x4F1A;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A; <code>Query</code> &#x5BF9;&#x8C61;</p>
<pre><code class="lang-python">db.query(User).filter(User.id == user_id).first()
</code></pre>
<h3 id="141-filter">1.4.1 filter</h3>
<ul>
<li><code>equals</code>:</li>
</ul>
<pre><code class="lang-bash">query.filter(User.name == <span class="hljs-string">&apos;ed&apos;</span>)
</code></pre>
<ul>
<li><code>not equals</code>:</li>
</ul>
<pre><code class="lang-bash">query.filter(User.name != <span class="hljs-string">&apos;ed&apos;</span>)
</code></pre>
<ul>
<li><code>LIKE</code>:</li>
</ul>
<pre><code class="lang-bash">query.filter(User.name.like(<span class="hljs-string">&apos;%ed%&apos;</span>))
</code></pre>
<ul>
<li><code>IN</code>:</li>
</ul>
<pre><code class="lang-bash">query.filter(User.name.in_([<span class="hljs-string">&apos;ed&apos;</span>, <span class="hljs-string">&apos;wendy&apos;</span>, <span class="hljs-string">&apos;jack&apos;</span>]))

<span class="hljs-comment"># works with query objects too:</span>
query.filter(User.name.in_(
        session.query(User.name).filter(User.name.like(<span class="hljs-string">&apos;%ed%&apos;</span>))
))
</code></pre>
<ul>
<li><code>NOT IN</code>:</li>
</ul>
<pre><code class="lang-bash">query.filter(~User.name.in_([<span class="hljs-string">&apos;ed&apos;</span>, <span class="hljs-string">&apos;wendy&apos;</span>, <span class="hljs-string">&apos;jack&apos;</span>]))
</code></pre>
<ul>
<li><code>IS NULL</code>:</li>
</ul>
<pre><code class="lang-bash">query.filter(User.name == None)

<span class="hljs-comment"># alternatively, if pep8/linters are a concern</span>
query.filter(User.name.is_(None))
</code></pre>
<ul>
<li><code>IS NOT NULL</code>:</li>
</ul>
<pre><code class="lang-bash">query.filter(User.name != None)

<span class="hljs-comment"># alternatively, if pep8/linters are a concern</span>
query.filter(User.name.isnot(None))
</code></pre>
<ul>
<li><code>AND</code>:</li>
</ul>
<pre><code class="lang-bash"><span class="hljs-comment"># use and_()</span>
from sqlalchemy import and_
query.filter(and_(User.name == <span class="hljs-string">&apos;ed&apos;</span>, User.fullname == <span class="hljs-string">&apos;Ed Jones&apos;</span>))

<span class="hljs-comment"># or send multiple expressions to .filter()</span>
query.filter(User.name == <span class="hljs-string">&apos;ed&apos;</span>, User.fullname == <span class="hljs-string">&apos;Ed Jones&apos;</span>)

<span class="hljs-comment"># or chain multiple filter()/filter_by() calls</span>
query.filter(User.name == <span class="hljs-string">&apos;ed&apos;</span>).filter(User.fullname == <span class="hljs-string">&apos;Ed Jones&apos;</span>)
</code></pre>
<ul>
<li><code>OR</code>:</li>
</ul>
<pre><code class="lang-bash">from sqlalchemy import or_
query.filter(or_(User.name == <span class="hljs-string">&apos;ed&apos;</span>, User.name == <span class="hljs-string">&apos;wendy&apos;</span>))
</code></pre>
<ul>
<li><code>MATCH</code>:</li>
</ul>
<pre><code class="lang-bash">query.filter(User.name.match(<span class="hljs-string">&apos;wendy&apos;</span>))
</code></pre>
<h3 id="142-&#x8FD4;&#x56DE;&#x5217;&#x8868;list&#x548C;&#x5355;&#x9879;scalar">1.4.2 &#x8FD4;&#x56DE;&#x5217;&#x8868;(List)&#x548C;&#x5355;&#x9879;(Scalar)</h3>
<ul>
<li><code>all()</code> &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5217;&#x8868;:</li>
</ul>
<pre><code class="lang-bash">&gt;&gt;&gt; query = session.query(User).filter(User.name.like(<span class="hljs-string">&apos;%ed&apos;</span>)).order_by(User.id)
SQL&gt;&gt;&gt; query.all()
[&lt;User(name=<span class="hljs-string">&apos;ed&apos;</span>, fullname=<span class="hljs-string">&apos;Ed Jones&apos;</span>, password=<span class="hljs-string">&apos;f8s7ccs&apos;</span>)&gt;,
      &lt;User(name=<span class="hljs-string">&apos;fred&apos;</span>, fullname=<span class="hljs-string">&apos;Fred Flinstone&apos;</span>, password=<span class="hljs-string">&apos;blah&apos;</span>)&gt;]
</code></pre>
<ul>
<li><code>first()</code> &#x8FD4;&#x56DE;&#x81F3;&#x591A;&#x4E00;&#x4E2A;&#x7ED3;&#x679C;&#xFF0C;&#x800C;&#x4E14;&#x4EE5;&#x5355;&#x9879;&#x5F62;&#x5F0F;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x7684;tuple&#x5F62;&#x5F0F;&#x8FD4;&#x56DE;&#x8FD9;&#x4E2A;&#x7ED3;&#x679C;.</li>
</ul>
<pre><code class="lang-bash">&gt;&gt;&gt; query.first()
&lt;User(name=<span class="hljs-string">&apos;ed&apos;</span>, fullname=<span class="hljs-string">&apos;Ed Jones&apos;</span>, password=<span class="hljs-string">&apos;f8s7ccs&apos;</span>)&gt;
</code></pre>
<ul>
<li><code>one()</code> &#x8FD4;&#x56DE;&#x4E14;&#x4EC5;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x3002;&#x5F53;&#x7ED3;&#x679C;&#x7684;&#x6570;&#x91CF;&#x4E0D;&#x8DB3;&#x4E00;&#x4E2A;&#x6216;&#x8005;&#x591A;&#x4E8E;&#x4E00;&#x4E2A;&#x65F6;&#x4F1A;&#x62A5;&#x9519;&#x3002;</li>
</ul>
<pre><code class="lang-bash">&gt;&gt;&gt; user = query.one()
Traceback (most recent call last):
...
MultipleResultsFound: Multiple rows were found <span class="hljs-keyword">for</span> one()
</code></pre>
<p>&#x6CA1;&#x6709;&#x67E5;&#x627E;&#x5230;&#x7ED3;&#x679C;&#x65F6;&#xFF1A;</p>
<pre><code class="lang-ruby"><span class="hljs-meta">&gt;&gt;</span>&gt; user = query.filter(User.id == <span class="hljs-number">99</span>).one()
Traceback (most recent call last)<span class="hljs-symbol">:</span>
...
<span class="hljs-symbol">NoResultFound:</span> No row was found <span class="hljs-keyword">for</span> one()
</code></pre>
<ul>
<li><code>one_or_none()</code>&#xFF1A;&#x4ECE;&#x540D;&#x79F0;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;&#x5F53;&#x7ED3;&#x679C;&#x6570;&#x91CF;&#x4E3A; 0 &#x65F6;&#x8FD4;&#x56DE; <code>None</code>&#xFF0C; &#x591A;&#x4E8E;1&#x4E2A;&#x65F6;&#x62A5;&#x9519;</li>
<li><code>scalar()</code>&#x548C;<code>one()</code> &#x7C7B;&#x4F3C;&#xFF0C;&#x4F46;&#x662F;&#x8FD4;&#x56DE;&#x5355;&#x9879;&#x800C;&#x4E0D;&#x662F; tuple</li>
</ul>
<h3 id="143-&#x5D4C;&#x5165;&#x4F7F;&#x7528;sql">1.4.3 &#x5D4C;&#x5165;&#x4F7F;&#x7528;SQL</h3>
<p>&#x4F60;&#x53EF;&#x4EE5;&#x5728;<code>Query</code>&#x4E2D;&#x901A;&#x8FC7;<code>text()</code>&#x4F7F;&#x7528;SQL&#x8BED;&#x53E5;&#x3002;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code class="lang-bash">&gt;&gt;&gt; from sqlalchemy import text
&gt;&gt;&gt; <span class="hljs-keyword">for</span> user <span class="hljs-keyword">in</span> session.query(User).\
...             filter(text(<span class="hljs-string">&quot;id&lt;224&quot;</span>)).\
...             order_by(text(<span class="hljs-string">&quot;id&quot;</span>)).all():
...     <span class="hljs-built_in">print</span>(user.name)
ed
wendy
mary
fred
</code></pre>
<p>&#x9664;&#x4E86;&#x4E0A;&#x9762;&#x8FD9;&#x79CD;&#x76F4;&#x63A5;&#x5C06;&#x53C2;&#x6570;&#x5199;&#x8FDB;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x65B9;&#x5F0F;&#x5916;&#xFF0C;&#x4F60;&#x8FD8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;<code>params()</code>&#x65B9;&#x6CD5;&#x6765;&#x4F20;&#x9012;&#x53C2;&#x6570;</p>
<pre><code class="lang-bash">&gt;&gt;&gt; session.query(User).filter(text(<span class="hljs-string">&quot;id&lt;:value and name=:name&quot;</span>)).\
...     params(value=224, name=<span class="hljs-string">&apos;fred&apos;</span>).order_by(User.id).one()
&lt;User(name=<span class="hljs-string">&apos;fred&apos;</span>, fullname=<span class="hljs-string">&apos;Fred Flinstone&apos;</span>, password=<span class="hljs-string">&apos;blah&apos;</span>)&gt;
</code></pre>
<p>&#x5E76;&#x4E14;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x5B8C;&#x6574;&#x7684;SQL&#x8BED;&#x53E5;&#xFF0C;&#x4F46;&#x662F;&#x8981;&#x6CE8;&#x610F;&#x5C06;&#x8868;&#x540D;&#x548C;&#x5217;&#x660E;&#x5199;&#x6B63;&#x786E;&#x3002;</p>
<pre><code class="lang-bash">&gt;&gt;&gt; session.query(User).from_statement(
...                     text(<span class="hljs-string">&quot;SELECT * FROM users where name=:name&quot;</span>)).\
...                     params(name=<span class="hljs-string">&apos;ed&apos;</span>).all()
[&lt;User(name=<span class="hljs-string">&apos;ed&apos;</span>, fullname=<span class="hljs-string">&apos;Ed Jones&apos;</span>, password=<span class="hljs-string">&apos;f8s7ccs&apos;</span>)&gt;]
</code></pre>
<h2 id="15-&#x5173;&#x7CFB;">1.5 &#x5173;&#x7CFB;</h2>
<p>&#x5916;&#x952E; (ForeignKey) &#x59CB;&#x7EC8;&#x5B9A;&#x4E49;&#x5728;&#x591A;&#x7684;&#x4E00;&#x65B9;</p>
<h3 id="151-&#x4E00;&#x5BF9;&#x591A;">1.5.1 &#x4E00;&#x5BF9;&#x591A;</h3>
<p><code>Child</code> &#x4E3A;&#x591A;</p>
<pre><code class="lang-python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Parent</span><span class="hljs-params">(Base)</span>:</span>
    __tablename__ = <span class="hljs-string">&apos;parent&apos;</span>
    id = Column(Integer,primary_key = <span class="hljs-keyword">True</span>)
    children = relationship(<span class="hljs-string">&quot;Child&quot;</span>,backref=<span class="hljs-string">&apos;parent&apos;</span>)

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Child</span><span class="hljs-params">(Base)</span>:</span>
    __tablename__ = <span class="hljs-string">&apos;child&apos;</span>
    id = Column(Integer,primary_key = <span class="hljs-keyword">True</span>)
    parent_id = Column(Integer,ForeignKey(<span class="hljs-string">&apos;parent.id&apos;</span>))
</code></pre>
<h3 id="152-&#x591A;&#x5BF9;&#x4E00;">1.5.2 &#x591A;&#x5BF9;&#x4E00;</h3>
<p><code>Parent</code> &#x4E3A;&#x591A;</p>
<pre><code class="lang-python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Parent</span><span class="hljs-params">(Base)</span>:</span>
    __tablename__ = <span class="hljs-string">&apos;parent&apos;</span>
    id = Column(Integer, primary_key=<span class="hljs-keyword">True</span>)
    child_id = Column(Integer, ForeignKey(<span class="hljs-string">&apos;child.id&apos;</span>))
    child = relationship(<span class="hljs-string">&quot;Child&quot;</span>, backref=<span class="hljs-string">&quot;parents&quot;</span>)

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Child</span><span class="hljs-params">(Base)</span>:</span>
    __tablename__ = <span class="hljs-string">&apos;child&apos;</span>
    id = Column(Integer, primary_key=<span class="hljs-keyword">True</span>)
</code></pre>
<p>&#x4E3A;&#x4E86;&#x5EFA;&#x7ACB;&#x53CC;&#x5411;&#x5173;&#x7CFB;,&#x53EF;&#x4EE5;&#x5728; <code>relationship()</code> &#x4E2D;&#x8BBE;&#x7F6E; backref&#xFF0C;Child &#x5BF9;&#x8C61;&#x5C31;&#x6709;parents&#x5C5E;&#x6027;.&#x8BBE;&#x7F6E; cascade= &#x2018;all&#x2019;&#xFF0C;&#x53EF;&#x4EE5;&#x7EA7;&#x8054;&#x5220;&#x9664;</p>
<pre><code class="lang-python">children = relationship(<span class="hljs-string">&quot;Child&quot;</span>,cascade=<span class="hljs-string">&apos;all&apos;</span>,backref=<span class="hljs-string">&apos;parent&apos;</span>)
</code></pre>
<h3 id="154-&#x4E00;&#x5BF9;&#x4E00;">1.5.4 &#x4E00;&#x5BF9;&#x4E00;</h3>
<p>&#x4E00;&#x5BF9;&#x4E00;&#x5C31;&#x662F;&#x591A;&#x5BF9;&#x4E00;&#x548C;&#x4E00;&#x5BF9;&#x591A;&#x7684;&#x4E00;&#x4E2A;&#x7279;&#x4F8B;&#xFF0C;&#x53EA;&#x9700;&#x5728; relationship &#x52A0;&#x4E0A;&#x4E00;&#x4E2A;&#x53C2;&#x6570; <code>uselist=False</code> &#x66FF;&#x6362;&#x591A;&#x7684;&#x4E00;&#x7AEF;&#x5C31;&#x662F;&#x4E00;&#x5BF9;&#x4E00;</p>
<p>&#x4ECE;&#x4E00;&#x5BF9;&#x591A;&#x8F6C;&#x6362;&#x5230;&#x4E00;&#x5BF9;&#x4E00;</p>
<pre><code class="lang-python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Parent</span><span class="hljs-params">(Base)</span>:</span>
    __tablename__ = <span class="hljs-string">&apos;parent&apos;</span>
    id = Column(Integer, primary_key=<span class="hljs-keyword">True</span>)
    child = relationship(<span class="hljs-string">&quot;Child&quot;</span>, uselist=<span class="hljs-keyword">False</span>, backref=<span class="hljs-string">&quot;parent&quot;</span>)

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Child</span><span class="hljs-params">(Base)</span>:</span>
    __tablename__ = <span class="hljs-string">&apos;child&apos;</span>
    id = Column(Integer, primary_key=<span class="hljs-keyword">True</span>)
    parent_id = Column(Integer, ForeignKey(<span class="hljs-string">&apos;parent.id&apos;</span>))
</code></pre>
<p>&#x4ECE;&#x591A;&#x5BF9;&#x4E00;&#x8F6C;&#x6362;&#x5230;&#x4E00;&#x5BF9;&#x4E00;</p>
<pre><code class="lang-python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Parent</span><span class="hljs-params">(Base)</span>:</span>
    __tablename__ = <span class="hljs-string">&apos;parent&apos;</span>
    id = Column(Integer, primary_key=<span class="hljs-keyword">True</span>)
    child_id = Column(Integer, ForeignKey(<span class="hljs-string">&apos;child.id&apos;</span>))
    child = relationship(<span class="hljs-string">&quot;Child&quot;</span>, backref=backref(<span class="hljs-string">&quot;parent&quot;</span>, uselist=<span class="hljs-keyword">False</span>))

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Child</span><span class="hljs-params">(Base)</span>:</span>
    __tablename__ = <span class="hljs-string">&apos;child&apos;</span>
    id = Column(Integer, primary_key=<span class="hljs-keyword">True</span>)
</code></pre>
<h3 id="155-&#x591A;&#x5BF9;&#x591A;">1.5.5 &#x591A;&#x5BF9;&#x591A;</h3>
<p>&#x591A;&#x5BF9;&#x591A;&#x5173;&#x7CFB;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x4E2D;&#x95F4;&#x5173;&#x8054;&#x8868;,&#x901A;&#x8FC7;&#x53C2;&#x6570; <code>secondary</code> &#x6765;&#x6307;&#x5B9A;</p>
<pre><code class="lang-python"><span class="hljs-keyword">from</span> sqlalchemy <span class="hljs-keyword">import</span> Table,Text
post_keywords = Table(<span class="hljs-string">&apos;post_keywords&apos;</span>,Base.metadata,
        Column(<span class="hljs-string">&apos;post_id&apos;</span>,Integer,ForeignKey(<span class="hljs-string">&apos;posts.id&apos;</span>)),
        Column(<span class="hljs-string">&apos;keyword_id&apos;</span>,Integer,ForeignKey(<span class="hljs-string">&apos;keywords.id&apos;</span>))
)

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BlogPost</span><span class="hljs-params">(Base)</span>:</span>
    __tablename__ = <span class="hljs-string">&apos;posts&apos;</span>
    id = Column(Integer,primary_key=<span class="hljs-keyword">True</span>)
    body = Column(Text)
    keywords = relationship(<span class="hljs-string">&apos;Keyword&apos;</span>,secondary=post_keywords,backref=<span class="hljs-string">&apos;posts&apos;</span>)

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Keyword</span><span class="hljs-params">(Base)</span>:</span>
    __tablename__ = <span class="hljs-string">&apos;keywords&apos;</span>
    id = Column(Integer,primary_key = <span class="hljs-keyword">True</span>)
    keyword = Column(String(<span class="hljs-number">50</span>),nullable=<span class="hljs-keyword">False</span>,unique=<span class="hljs-keyword">True</span>)
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="Flask.html" class="navigation navigation-prev " aria-label="Previous page: Flask">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../内建函数.html" class="navigation navigation-next " aria-label="Next page: 内建函数">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"sqlalchemy","level":"1.4.5.4","depth":3,"next":{"title":"内建函数","level":"1.4.6","depth":2,"path":"Python/内建函数.md","ref":"Python/内建函数.md","articles":[]},"previous":{"title":"Flask","level":"1.4.5.3","depth":3,"path":"Python/WEB backend/Flask.md","ref":"Python/WEB backend/Flask.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"Python/WEB backend/sqlalchemy.md","mtime":"2021-06-18T07:00:12.430Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-06-18T08:32:50.643Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

